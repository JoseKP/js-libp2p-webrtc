(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.JsLibp2PWebrtc = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var JsLibp2PWebrtc=(()=>{var Vw=Object.create;var tu=Object.defineProperty;var zw=Object.getOwnPropertyDescriptor;var Hw=Object.getOwnPropertyNames;var $w=Object.getPrototypeOf,jw=Object.prototype.hasOwnProperty;var Re=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),W=(t,e)=>{for(var r in e)tu(t,r,{get:e[r],enumerable:!0})},g2=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hw(e))!jw.call(t,i)&&i!==r&&tu(t,i,{get:()=>e[i],enumerable:!(n=zw(e,i))||n.enumerable});return t};var X=(t,e,r)=>(r=t!=null?Vw($w(t)):{},g2(e||!t||!t.__esModule?tu(r,"default",{value:t,enumerable:!0}):r,t)),Gw=t=>g2(tu({},"__esModule",{value:!0}),t);var St=S((LL,x2)=>{"use strict";function b2(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Ww(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return b2(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),b2(new i,r)}}x2.exports=Ww});var w2=S((VL,D2)=>{var Ji=1e3,Yi=Ji*60,Zi=Yi*60,li=Zi*24,Xw=li*7,Jw=li*365.25;D2.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Yw(t);if(r==="number"&&isFinite(t))return e.long?Qw(t):Zw(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Yw(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Jw;case"weeks":case"week":case"w":return r*Xw;case"days":case"day":case"d":return r*li;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Zi;case"minutes":case"minute":case"mins":case"min":case"m":return r*Yi;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ji;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Zw(t){var e=Math.abs(t);return e>=li?Math.round(t/li)+"d":e>=Zi?Math.round(t/Zi)+"h":e>=Yi?Math.round(t/Yi)+"m":e>=Ji?Math.round(t/Ji)+"s":t+"ms"}function Qw(t){var e=Math.abs(t);return e>=li?iu(t,e,li,"day"):e>=Zi?iu(t,e,Zi,"hour"):e>=Yi?iu(t,e,Yi,"minute"):e>=Ji?iu(t,e,Ji,"second"):t+" ms"}function iu(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var A0=S((zL,E2)=>{function eE(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=w2(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let h=0;for(let d=0;d<f.length;d++)h=(h<<5)-h+f.charCodeAt(d),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(f){let h,d=null,y,l;function p(...g){if(!p.enabled)return;let m=p,b=Number(new Date),v=b-(h||b);m.diff=v,m.prev=h,m.curr=b,h=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let x=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(w,C)=>{if(w==="%%")return"%";x++;let _=r.formatters[C];if(typeof _=="function"){let F=g[x];w=_.call(m,F),g.splice(x,1),x--}return w}),r.formatArgs.call(m,g),(m.log||r.log).apply(m,g)}return p.namespace=f,p.useColors=r.useColors(),p.color=r.selectColor(f),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(y!==r.namespaces&&(y=r.namespaces,l=r.enabled(f)),l),set:g=>{d=g}}),typeof r.init=="function"&&r.init(p),p}function n(f,h){let d=r(this.namespace+(typeof h>"u"?":":h)+f);return d.log=this.log,d}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let h,d=(typeof f=="string"?f:"").split(/[\s,]+/),y=d.length;for(h=0;h<y;h++)!d[h]||(f=d[h].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let h,d;for(h=0,d=r.skips.length;h<d;h++)if(r.skips[h].test(f))return!1;for(h=0,d=r.names.length;h<d;h++)if(r.names[h].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}E2.exports=eE});var S2=S((Lt,su)=>{Lt.formatArgs=rE;Lt.save=nE;Lt.load=iE;Lt.useColors=tE;Lt.storage=sE();Lt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Lt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tE(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rE(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+su.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Lt.log=console.debug||console.log||(()=>{});function nE(t){try{t?Lt.storage.setItem("debug",t):Lt.storage.removeItem("debug")}catch{}}function iE(){let t;try{t=Lt.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function sE(){try{return localStorage}catch{}}su.exports=A0()(Lt);var{formatters:oE}=su.exports;oE.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var A2=S((HL,C2)=>{"use strict";C2.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var T2=S(($L,B2)=>{"use strict";var aE=Re("os"),_2=Re("tty"),jt=A2(),{env:ut}=process,Un;jt("no-color")||jt("no-colors")||jt("color=false")||jt("color=never")?Un=0:(jt("color")||jt("colors")||jt("color=true")||jt("color=always"))&&(Un=1);"FORCE_COLOR"in ut&&(ut.FORCE_COLOR==="true"?Un=1:ut.FORCE_COLOR==="false"?Un=0:Un=ut.FORCE_COLOR.length===0?1:Math.min(parseInt(ut.FORCE_COLOR,10),3));function _0(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function B0(t,e){if(Un===0)return 0;if(jt("color=16m")||jt("color=full")||jt("color=truecolor"))return 3;if(jt("color=256"))return 2;if(t&&!e&&Un===void 0)return 0;let r=Un||0;if(ut.TERM==="dumb")return r;if(process.platform==="win32"){let n=aE.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ut)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ut)||ut.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ut)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ut.TEAMCITY_VERSION)?1:0;if(ut.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ut){let n=parseInt((ut.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ut.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ut.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ut.TERM)||"COLORTERM"in ut?1:r}function uE(t){let e=B0(t,t&&t.isTTY);return _0(e)}B2.exports={supportsColor:uE,stdout:_0(B0(!0,_2.isatty(1))),stderr:_0(B0(!0,_2.isatty(2)))}});var k2=S((mt,au)=>{var cE=Re("tty"),ou=Re("util");mt.init=gE;mt.log=dE;mt.formatArgs=lE;mt.save=pE;mt.load=yE;mt.useColors=fE;mt.destroy=ou.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");mt.colors=[6,2,3,4,5,1];try{let t=T2();t&&(t.stderr||t).level>=2&&(mt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}mt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function fE(){return"colors"in mt.inspectOpts?Boolean(mt.inspectOpts.colors):cE.isatty(process.stderr.fd)}function lE(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+au.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=hE()+e+" "+t[0]}function hE(){return mt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function dE(...t){return process.stderr.write(ou.format(...t)+`
`)}function pE(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function yE(){return process.env.DEBUG}function gE(t){t.inspectOpts={};let e=Object.keys(mt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=mt.inspectOpts[e[r]]}au.exports=A0()(mt);var{formatters:I2}=au.exports;I2.o=function(t){return this.inspectOpts.colors=this.useColors,ou.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};I2.O=function(t){return this.inspectOpts.colors=this.useColors,ou.inspect(t,this.inspectOpts)}});var O2=S((jL,T0)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?T0.exports=S2():T0.exports=k2()});var y1=S((OP,p1)=>{p1.exports=fl;var d1=128,q4=127,K4=~q4,V4=Math.pow(2,31);function fl(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw fl.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=V4;)e[r++]=t&255|d1,t/=128;for(;t&K4;)e[r++]=t&255|d1,t>>>=7;return e[r]=t|0,fl.bytes=r-n+1,e}});var b1=S((NP,m1)=>{m1.exports=ll;var z4=128,g1=127;function ll(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a||i>49)throw ll.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&g1)<<i:(o&g1)*Math.pow(2,i),i+=7}while(o>=z4);return ll.bytes=s-n,r}});var v1=S((RP,x1)=>{var H4=Math.pow(2,7),$4=Math.pow(2,14),j4=Math.pow(2,21),G4=Math.pow(2,28),W4=Math.pow(2,35),X4=Math.pow(2,42),J4=Math.pow(2,49),Y4=Math.pow(2,56),Z4=Math.pow(2,63);x1.exports=function(t){return t<H4?1:t<$4?2:t<j4?3:t<G4?4:t<W4?5:t<X4?6:t<J4?7:t<Y4?8:t<Z4?9:10}});var gu=S((UP,D1)=>{D1.exports={encode:y1(),decode:b1(),encodingLength:v1()}});var U1=S((uM,R1)=>{"use strict";function x6(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var l=0,p=0,g=0,m=y.length;g!==m&&y[g]===0;)g++,l++;for(var b=(m-g)*c+1>>>0,v=new Uint8Array(b);g!==m;){for(var x=y[g],D=0,w=b-1;(x!==0||D<p)&&w!==-1;w--,D++)x+=256*v[w]>>>0,v[w]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");p=D,g++}for(var C=b-p;C!==b&&v[C]===0;)C++;for(var _=a.repeat(l);C<b;++C)_+=t.charAt(v[C]);return _}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var l=0;if(y[l]!==" "){for(var p=0,g=0;y[l]===a;)p++,l++;for(var m=(y.length-l)*u+1>>>0,b=new Uint8Array(m);y[l];){var v=e[y.charCodeAt(l)];if(v===255)return;for(var x=0,D=m-1;(v!==0||x<g)&&D!==-1;D--,x++)v+=o*b[D]>>>0,b[D]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");g=x,l++}if(y[l]!==" "){for(var w=m-g;w!==m&&b[w]===0;)w++;for(var C=new Uint8Array(p+(m-w)),_=p;w!==m;)C[_++]=b[w++];return C}}}function d(y){var l=h(y);if(l)return l;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:h,decode:d}}R1.exports=x6});var vu=S((cM,F1)=>{"use strict";var v6=new TextDecoder,D6=t=>v6.decode(t),w6=new TextEncoder,E6=t=>w6.encode(t);function S6(t,e){let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}F1.exports={decodeText:D6,encodeText:E6,concat:S6}});var P1=S((fM,L1)=>{"use strict";var{encodeText:C6}=vu(),Dl=class{constructor(e,r,n,i){this.name=e,this.code=r,this.codeBuf=C6(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};L1.exports=Dl});var q1=S((lM,M1)=>{"use strict";var A6=(t,e,r)=>{let n={};for(let c=0;c<e.length;++c)n[e[c]]=c;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),o=0,a=0,u=0;for(let c=0;c<i;++c){let f=n[t[c]];if(f===void 0)throw new SyntaxError("Invalid character "+t[c]);a=a<<r|f,o+=r,o>=8&&(o-=8,s[u++]=255&a>>o)}if(o>=r||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},_6=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},B6=t=>e=>({encode(r){return _6(r,e,t)},decode(r){return A6(r,e,t)}});M1.exports={rfc4648:B6}});var H1=S((hM,z1)=>{"use strict";var To=U1(),T6=P1(),{rfc4648:bt}=q1(),{decodeText:I6,encodeText:k6}=vu(),O6=()=>({encode:I6,decode:k6}),K1=[["identity","\0",O6,""],["base2","0",bt(1),"01"],["base8","7",bt(3),"01234567"],["base10","9",To,"0123456789"],["base16","f",bt(4),"0123456789abcdef"],["base16upper","F",bt(4),"0123456789ABCDEF"],["base32hex","v",bt(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",bt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",bt(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",bt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",bt(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",bt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",bt(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",bt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",bt(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",To,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",To,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",To,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",To,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",bt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",bt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",bt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",bt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],V1=K1.reduce((t,e)=>(t[e[0]]=new T6(e[0],e[1],e[2],e[3]),t),{}),N6=K1.reduce((t,e)=>(t[e[1]]=V1[e[0]],t),{});z1.exports={names:V1,codes:N6}});var G1=S((ln,j1)=>{"use strict";var as=H1(),{encodeText:R6,decodeText:Du,concat:$1}=vu();function U6(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=pi(t);return M6(r,e),$1([n,e],n.length+e.length)}function F6(t,e){let r=pi(t),n=R6(r.encode(e));return $1([r.codeBuf,n],r.codeBuf.length+n.length)}function L6(t){t instanceof Uint8Array&&(t=Du(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),pi(t[0]).decode(t.substring(1))}function P6(t){if(t instanceof Uint8Array&&(t=Du(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return pi(t[0]).name}catch{return!1}}function M6(t,e){pi(t).decode(Du(e))}function pi(t){if(Object.prototype.hasOwnProperty.call(as.names,t))return as.names[t];if(Object.prototype.hasOwnProperty.call(as.codes,t))return as.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function q6(t){return t instanceof Uint8Array&&(t=Du(t)),pi(t[0])}ln=j1.exports=U6;ln.encode=F6;ln.decode=L6;ln.isEncoded=P6;ln.encoding=pi;ln.encodingFromData=q6;var K6=Object.freeze(as.names),V6=Object.freeze(as.codes);ln.names=K6;ln.codes=V6});var Y1=S((dM,J1)=>{J1.exports=X1;var W1=128,z6=127,H6=~z6,$6=Math.pow(2,31);function X1(t,e,r){e=e||[],r=r||0;for(var n=r;t>=$6;)e[r++]=t&255|W1,t/=128;for(;t&H6;)e[r++]=t&255|W1,t>>>=7;return e[r]=t|0,X1.bytes=r-n+1,e}});var eg=S((pM,Q1)=>{Q1.exports=wl;var j6=128,Z1=127;function wl(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw wl.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&Z1)<<i:(o&Z1)*Math.pow(2,i),i+=7}while(o>=j6);return wl.bytes=s-n,r}});var rg=S((yM,tg)=>{var G6=Math.pow(2,7),W6=Math.pow(2,14),X6=Math.pow(2,21),J6=Math.pow(2,28),Y6=Math.pow(2,35),Z6=Math.pow(2,42),Q6=Math.pow(2,49),e5=Math.pow(2,56),t5=Math.pow(2,63);tg.exports=function(t){return t<G6?1:t<W6?2:t<X6?3:t<J6?4:t<Y6?5:t<Z6?6:t<Q6?7:t<e5?8:t<t5?9:10}});var ig=S((gM,ng)=>{ng.exports={encode:Y1(),decode:eg(),encodingLength:rg()}});var og=S((mM,sg)=>{"use strict";var r5=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});sg.exports={names:r5}});var ug=S((bM,ag)=>{"use strict";function n5(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,b=l.length;m!==b&&l[m]===0;)m++,p++;for(var v=(b-m)*f+1>>>0,x=new Uint8Array(v);m!==b;){for(var D=l[m],w=0,C=v-1;(D!==0||w<g)&&C!==-1;C--,w++)D+=256*x[C]>>>0,x[C]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");g=w,m++}for(var _=v-g;_!==v&&x[_]===0;)_++;for(var F=u.repeat(p);_<v;++_)F+=t.charAt(x[_]);return F}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var g=0,m=0;l[p]===u;)g++,p++;for(var b=(l.length-p)*c+1>>>0,v=new Uint8Array(b);l[p];){var x=r[l.charCodeAt(p)];if(x===255)return;for(var D=0,w=b-1;(x!==0||D<m)&&w!==-1;w--,D++)x+=a*v[w]>>>0,v[w]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=D,p++}if(l[p]!==" "){for(var C=b-m;C!==b&&v[C]===0;)C++;for(var _=new Uint8Array(g+(b-C)),F=g;C!==b;)_[F++]=v[C++];return _}}}function y(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:y}}var i5=n5,s5=i5;ag.exports=s5});var Ir=S(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});var cg=new Uint8Array(0),o5=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),a5=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):cg},u5=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},c5=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},f5=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),l5=t=>new TextEncoder().encode(t),h5=t=>new TextDecoder().decode(t);Tr.coerce=c5;Tr.empty=cg;Tr.equals=u5;Tr.fromHex=a5;Tr.fromString=l5;Tr.isBinary=f5;Tr.toHex=o5;Tr.toString=h5});var fr=S(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var d5=ug(),p5=Ir(),El=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Sl=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Al(this,e)}},Cl=class{constructor(e){this.decoders=e}or(e){return Al(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Al=(t,e)=>new Cl({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),wu=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new El(e,r,n),this.decoder=new Sl(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},_l=({name:t,prefix:e,encode:r,decode:n})=>new wu(t,e,r,n),y5=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=d5(r,e);return _l({prefix:t,name:e,encode:n,decode:s=>p5.coerce(i(s))})},g5=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},m5=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},b5=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>_l({prefix:e,name:t,encode(i){return m5(i,n,r)},decode(i){return g5(i,n,r,t)}});yi.Codec=wu;yi.baseX=y5;yi.from=_l;yi.or=Al;yi.rfc4648=b5});var lg=S(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var x5=fr(),fg=Ir(),v5=x5.from({prefix:"\0",name:"identity",encode:t=>fg.toString(t),decode:t=>fg.fromString(t)});Bl.identity=v5});var hg=S(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});var D5=fr(),w5=D5.rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});Tl.base2=w5});var dg=S(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});var E5=fr(),S5=E5.rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});Il.base8=S5});var pg=S(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});var C5=fr(),A5=C5.baseX({prefix:"9",name:"base10",alphabet:"0123456789"});kl.base10=A5});var gg=S(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var yg=fr(),_5=yg.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B5=yg.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});Eu.base16=_5;Eu.base16upper=B5});var Ol=S(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});var hn=fr(),T5=hn.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),I5=hn.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),k5=hn.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),O5=hn.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),N5=hn.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),R5=hn.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),U5=hn.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),F5=hn.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),L5=hn.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});lr.base32=T5;lr.base32hex=N5;lr.base32hexpad=U5;lr.base32hexpadupper=F5;lr.base32hexupper=R5;lr.base32pad=k5;lr.base32padupper=O5;lr.base32upper=I5;lr.base32z=L5});var bg=S(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var mg=fr(),P5=mg.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),M5=mg.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});Su.base36=P5;Su.base36upper=M5});var Nl=S(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});var xg=fr(),q5=xg.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),K5=xg.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});Cu.base58btc=q5;Cu.base58flickr=K5});var vg=S(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var Au=fr(),V5=Au.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),z5=Au.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),H5=Au.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$5=Au.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});us.base64=V5;us.base64pad=z5;us.base64url=H5;us.base64urlpad=$5});var wg=S(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var j5=fr(),Dg=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),G5=Dg.reduce((t,e,r)=>(t[r]=e,t),[]),W5=Dg.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function X5(t){return t.reduce((e,r)=>(e+=G5[r],e),"")}function J5(t){let e=[];for(let r of t){let n=W5[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Y5=j5.from({prefix:"\u{1F680}",name:"base256emoji",encode:X5,decode:J5});Rl.base256emoji=Y5});var _g=S((kM,Ag)=>{"use strict";var Z5=Cg,Eg=128,Q5=127,eS=~Q5,tS=Math.pow(2,31);function Cg(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tS;)e[r++]=t&255|Eg,t/=128;for(;t&eS;)e[r++]=t&255|Eg,t>>>=7;return e[r]=t|0,Cg.bytes=r-n+1,e}var rS=Ul,nS=128,Sg=127;function Ul(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Ul.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&Sg)<<i:(o&Sg)*Math.pow(2,i),i+=7}while(o>=nS);return Ul.bytes=s-n,r}var iS=Math.pow(2,7),sS=Math.pow(2,14),oS=Math.pow(2,21),aS=Math.pow(2,28),uS=Math.pow(2,35),cS=Math.pow(2,42),fS=Math.pow(2,49),lS=Math.pow(2,56),hS=Math.pow(2,63),dS=function(t){return t<iS?1:t<sS?2:t<oS?3:t<aS?4:t<uS?5:t<cS?6:t<fS?7:t<lS?8:t<hS?9:10},pS={encode:Z5,decode:rS,encodingLength:dS},yS=pS,gS=yS;Ag.exports=gS});var ko=S(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var _u=_g(),mS=(t,e=0)=>[_u.decode(t,e),_u.decode.bytes],bS=(t,e,r=0)=>(_u.encode(t,e,r),e),xS=t=>_u.encodingLength(t);Io.decode=mS;Io.encodeTo=bS;Io.encodingLength=xS});var ls=S(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var Bg=Ir(),cs=ko(),vS=(t,e)=>{let r=e.byteLength,n=cs.encodingLength(t),i=n+cs.encodingLength(r),s=new Uint8Array(i+r);return cs.encodeTo(t,s,0),cs.encodeTo(r,s,n),s.set(e,i),new Oo(t,r,e,s)},DS=t=>{let e=Bg.coerce(t),[r,n]=cs.decode(e),[i,s]=cs.decode(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Oo(r,i,o,e)},wS=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Bg.equals(t.bytes,e.bytes),Oo=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};fs.Digest=Oo;fs.create=vS;fs.decode=DS;fs.equals=wS});var Iu=S(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});var Tg=ls(),ES=({name:t,code:e,encode:r})=>new Bu(t,e,r),Bu=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Tg.create(this.code,r):r.then(n=>Tg.create(this.code,n))}else throw Error("Unknown type, must be binary type")}};Tu.Hasher=Bu;Tu.from=ES});var Ng=S(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});var SS=Re("crypto"),Ig=Iu(),kg=Ir();function CS(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Og=CS(SS),AS=Ig.from({name:"sha2-256",code:18,encode:t=>kg.coerce(Og.default.createHash("sha256").update(t).digest())}),_S=Ig.from({name:"sha2-512",code:19,encode:t=>kg.coerce(Og.default.createHash("sha512").update(t).digest())});ku.sha256=AS;ku.sha512=_S});var Fg=S(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var BS=Ir(),TS=ls(),Rg=0,IS="identity",Ug=BS.coerce,kS=t=>TS.create(Rg,Ug(t)),OS={code:Rg,name:IS,encode:Ug,digest:kS};Fl.identity=OS});var Pg=S(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Lg=Ir(),NS="raw",RS=85,US=t=>Lg.coerce(t),FS=t=>Lg.coerce(t);hs.code=RS;hs.decode=FS;hs.encode=US;hs.name=NS});var Mg=S(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var LS=new TextEncoder,PS=new TextDecoder,MS="json",qS=512,KS=t=>LS.encode(JSON.stringify(t)),VS=t=>JSON.parse(PS.decode(t));ds.code=qS;ds.decode=VS;ds.encode=KS;ds.name=MS});var Pl=S(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var Ro=ko(),Ou=ls(),qn=Nl(),Uu=Ol(),zS=Ir(),ct=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ru,byteLength:Ru,code:Nu,version:Nu,multihash:Nu,bytes:Nu,_baseCache:Ru,asCID:Ru})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==No)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==GS)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ct.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Ou.create(e,r);return ct.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ou.equals(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return $S(r,i,e||qn.base58btc.encoder);default:return jS(r,i,e||Uu.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return XS(/^0\.0/,JS),!!(e&&(e[Kg]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ct)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new ct(r,n,i,s||qg(r,n,i.bytes))}else if(e!=null&&e[Kg]===!0){let{version:r,multihash:n,code:i}=e,s=Ou.decode(n);return ct.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==No)throw new Error(`Version 0 CID must use dag-pb (code: ${No}) block encoding`);return new ct(e,r,n,n.bytes)}case 1:{let i=qg(e,r,n.bytes);return new ct(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return ct.create(0,No,e)}static createV1(e,r){return ct.create(1,e,r)}static decode(e){let[r,n]=ct.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=ct.inspectBytes(e),n=r.size-r.multihashSize,i=zS.coerce(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new Ou.Digest(r.multihashCode,r.digestSize,s,i);return[r.version===0?ct.createV0(o):ct.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,d]=Ro.decode(e.subarray(r));return r+=d,h},i=n(),s=No;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),c=r+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=HS(e,r),s=ct.decode(i);return s._baseCache.set(n,e),s}},HS=(t,e)=>{switch(t[0]){case"Q":{let r=e||qn.base58btc;return[qn.base58btc.prefix,r.decode(`${qn.base58btc.prefix}${t}`)]}case qn.base58btc.prefix:{let r=e||qn.base58btc;return[qn.base58btc.prefix,r.decode(t)]}case Uu.base32.prefix:{let r=e||Uu.base32;return[Uu.base32.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},$S=(t,e,r)=>{let{prefix:n}=r;if(n!==qn.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},jS=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},No=112,GS=18,qg=(t,e,r)=>{let n=Ro.encodingLength(t),i=n+Ro.encodingLength(e),s=new Uint8Array(i+r.byteLength);return Ro.encodeTo(t,s,0),Ro.encodeTo(e,s,n),s.set(r,i),s},Kg=Symbol.for("@ipld/js-cid/CID"),Nu={writable:!1,configurable:!1,enumerable:!0},Ru={writable:!1,enumerable:!1,configurable:!1},WS="0.0.0-dev",XS=(t,e)=>{if(t.test(WS))console.warn(e);else throw new Error(e)},JS=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;Ll.CID=ct});var Vg=S(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var YS=Pl(),ZS=ko(),QS=Ir(),eC=Iu(),tC=ls();gi.CID=YS.CID;gi.varint=ZS;gi.bytes=QS;gi.hasher=eC;gi.digest=tC});var zg=S(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var rC=lg(),nC=hg(),iC=dg(),sC=pg(),oC=gg(),aC=Ol(),uC=bg(),cC=Nl(),fC=vg(),lC=wg(),hC=Ng(),dC=Fg(),pC=Pg(),yC=Mg();Vg();var gC=Pl(),mC=Iu(),bC=ls(),xC=ko(),vC=Ir(),DC={...rC,...nC,...iC,...sC,...oC,...aC,...uC,...cC,...fC,...lC},wC={...hC,...dC},EC={raw:pC,json:yC};kr.CID=gC.CID;kr.hasher=mC;kr.digest=bC;kr.varint=xC;kr.bytes=vC;kr.bases=DC;kr.codecs=EC;kr.hashes=wC});var Fu=S(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});function SC(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}Ml.asUint8Array=SC});var ql=S(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var Hg=Fu();function CC(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null?Hg.asUint8Array(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function AC(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Hg.asUint8Array(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}Lu.alloc=CC;Lu.allocUnsafe=AC});var Vl=S((HM,Wg)=>{"use strict";var $g=zg(),_C=ql();function Gg(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var jg=Gg("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Kl=Gg("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=_C.allocUnsafe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),BC={utf8:jg,"utf-8":jg,hex:$g.bases.base16,latin1:Kl,ascii:Kl,binary:Kl,...$g.bases};Wg.exports=BC});var Xg=S(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});var TC=Vl();function IC(t,e="utf8"){let r=TC[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}zl.toString=IC});var Jg=S(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});var kC=Vl(),OC=Fu();function NC(t,e="utf8"){let r=kC[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?OC.asUint8Array(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}Hl.fromString=NC});var Yg=S($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});var RC=ql(),UC=Fu();function FC(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=RC.allocUnsafe(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return UC.asUint8Array(r)}$l.concat=FC});var Gl=S((WM,nm)=>{"use strict";var Zg=G1(),ps=ig(),{names:Uo}=og(),{toString:Pu}=Xg(),{fromString:LC}=Jg(),{concat:PC}=Yg(),ys={};for(let t in Uo){let e=t;ys[Uo[e]]=e}Object.freeze(ys);function MC(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Pu(t,"base16")}function qC(t){return LC(t,"base16")}function KC(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Pu(Zg.encode("base58btc",t)).slice(1)}function VC(t){let e=t instanceof Uint8Array?Pu(t):t;return Zg.decode("z"+e)}function Qg(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=ps.decode(t);if(!tm(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(ps.decode.bytes);let r=ps.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(ps.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${Pu(t,"base16")}`);return{code:e,name:ys[e],length:r,digest:t}}function zC(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let n=em(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");let i=ps.encode(n),s=ps.encode(r);return PC([i,s,t],i.length+s.length+t.length)}function em(t){let e=t;if(typeof t=="string"){if(Uo[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=Uo[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(ys[e]===void 0&&!jl(e))throw new Error(`Unrecognized function code: ${e}`);return e}function jl(t){return t>0&&t<16}function tm(t){return!!(jl(t)||ys[t])}function rm(t){Qg(t)}function HC(t){return rm(t),t.subarray(0,2)}nm.exports={names:Uo,codes:ys,toHexString:MC,fromHexString:qC,toB58String:KC,fromB58String:VC,decode:Qg,encode:zC,coerceCode:em,isAppCode:jl,validate:rm,prefix:HC,isValidCode:tm}});var zu=S(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.isJsonObject=_s.typeofJsonValue=void 0;function l_(t){let e=typeof t;if(e=="object"){if(Array.isArray(t))return"array";if(t===null)return"null"}return e}_s.typeofJsonValue=l_;function h_(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}_s.isJsonObject=h_});var $u=S(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.base64encode=Bs.base64decode=void 0;var pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Hu=[];for(let t=0;t<pn.length;t++)Hu[pn[t].charCodeAt(0)]=t;Hu["-".charCodeAt(0)]=pn.indexOf("+");Hu["_".charCodeAt(0)]=pn.indexOf("/");function d_(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let r=new Uint8Array(e),n=0,i=0,s,o=0;for(let a=0;a<t.length;a++){if(s=Hu[t.charCodeAt(a)],s===void 0)switch(t[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=s,i=1;break;case 1:r[n++]=o<<2|(s&48)>>4,o=s,i=2;break;case 2:r[n++]=(o&15)<<4|(s&60)>>2,o=s,i=3;break;case 3:r[n++]=(o&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return r.subarray(0,n)}Bs.base64decode=d_;function p_(t){let e="",r=0,n,i=0;for(let s=0;s<t.length;s++)switch(n=t[s],r){case 0:e+=pn[n>>2],i=(n&3)<<4,r=1;break;case 1:e+=pn[i|n>>4],i=(n&15)<<2,r=2;break;case 2:e+=pn[i|n>>6],e+=pn[n&63],r=0;break}return r&&(e+=pn[i],e+="=",r==1&&(e+="=")),e}Bs.base64encode=p_});var Tm=S(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.utf8read=void 0;var Ch=t=>String.fromCharCode.apply(String,t);function y_(t){if(t.length<1)return"";let e=0,r=[],n=[],i=0,s,o=t.length;for(;e<o;)s=t[e++],s<128?n[i++]=s:s>191&&s<224?n[i++]=(s&31)<<6|t[e++]&63:s>239&&s<365?(s=((s&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,n[i++]=55296+(s>>10),n[i++]=56320+(s&1023)):n[i++]=(s&15)<<12|(t[e++]&63)<<6|t[e++]&63,i>8191&&(r.push(Ch(n)),i=0);return r.length?(i&&r.push(Ch(n.slice(0,i))),r.join("")):Ch(n.slice(0,i))}ju.utf8read=y_});var Ho=S(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.WireType=Rr.mergeBinaryOptions=Rr.UnknownFieldHandler=void 0;var g_;(function(t){t.symbol=Symbol.for("protobuf-ts/unknown"),t.onRead=(r,n,i,s,o)=>{(e(n)?n[t.symbol]:n[t.symbol]=[]).push({no:i,wireType:s,data:o})},t.onWrite=(r,n,i)=>{for(let{no:s,wireType:o,data:a}of t.list(n))i.tag(s,o).raw(a)},t.list=(r,n)=>{if(e(r)){let i=r[t.symbol];return n?i.filter(s=>s.no==n):i}return[]},t.last=(r,n)=>t.list(r,n).slice(-1)[0];let e=r=>r&&Array.isArray(r[t.symbol])})(g_=Rr.UnknownFieldHandler||(Rr.UnknownFieldHandler={}));function m_(t,e){return Object.assign(Object.assign({},t),e)}Rr.mergeBinaryOptions=m_;var b_;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(b_=Rr.WireType||(Rr.WireType={}))});var Wu=S(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.varint32read=kt.varint32write=kt.int64toString=kt.int64fromString=kt.varint64write=kt.varint64read=void 0;function x_(){let t=0,e=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[t,e]}let r=this.buf[this.pos++];if(t|=(r&15)<<28,e=(r&112)>>4,(r&128)==0)return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}kt.varint64read=x_;function v_(t,e,r){for(let s=0;s<28;s=s+7){let o=t>>>s,a=!(o>>>7==0&&e==0),u=(a?o|128:o)&255;if(r.push(u),!a)return}let n=t>>>28&15|(e&7)<<4,i=e>>3!=0;if(r.push((i?n|128:n)&255),!!i){for(let s=3;s<31;s=s+7){let o=e>>>s,a=o>>>7!=0,u=(a?o|128:o)&255;if(r.push(u),!a)return}r.push(e>>>31&1)}}kt.varint64write=v_;var Gu=(1<<16)*(1<<16);function D_(t){let e=t[0]=="-";e&&(t=t.slice(1));let r=1e6,n=0,i=0;function s(o,a){let u=Number(t.slice(o,a));i*=r,n=n*r+u,n>=Gu&&(i=i+(n/Gu|0),n=n%Gu)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[e,n,i]}kt.int64fromString=D_;function w_(t,e){if(e<=2097151)return""+(Gu*e+(t>>>0));let r=t&16777215,n=(t>>>24|e<<8)>>>0&16777215,i=e>>16&65535,s=r+n*6777216+i*6710656,o=n+i*8147497,a=i*2,u=1e7;s>=u&&(o+=Math.floor(s/u),s%=u),o>=u&&(a+=Math.floor(o/u),o%=u);function c(f,h){let d=f?String(f):"";return h?"0000000".slice(d.length)+d:d}return c(a,0)+c(o,a)+c(s,1)}kt.int64toString=w_;function E_(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let r=0;r<9;r++)e.push(t&127|128),t=t>>7;e.push(1)}}kt.varint32write=E_;function S_(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let r=5;(t&128)!==0&&r<10;r++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}kt.varint32read=S_});var zn=S(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.PbLong=Ts.PbULong=void 0;var $o=Wu();function C_(){let t=new DataView(new ArrayBuffer(8));return globalThis.BigInt!==void 0&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:t}:void 0}var Te=C_();function Im(t){if(!t)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}var km=/^-?[0-9]+$/,Xu=(1<<16)*(1<<16),Ju=class{constructor(e,r){this.lo=e|0,this.hi=r|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*Xu+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}},yn=class extends Ju{static from(e){if(Te)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=Te.C(e);case"number":if(e===0)return this.ZERO;e=Te.C(e);case"bigint":if(!e)return this.ZERO;if(e<Te.UMIN)throw new Error("signed value for ulong");if(e>Te.UMAX)throw new Error("ulong too large");return Te.V.setBigUint64(0,e,!0),new yn(Te.V.getInt32(0,!0),Te.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!km.test(e))throw new Error("string is no integer");let[r,n,i]=$o.int64fromString(e);if(r)throw new Error("signed value");return new yn(n,i);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new yn(e,e/Xu)}throw new Error("unknown value "+typeof e)}toString(){return Te?this.toBigInt().toString():$o.int64toString(this.lo,this.hi)}toBigInt(){return Im(Te),Te.V.setInt32(0,this.lo,!0),Te.V.setInt32(4,this.hi,!0),Te.V.getBigUint64(0,!0)}};Ts.PbULong=yn;yn.ZERO=new yn(0,0);var hr=class extends Ju{static from(e){if(Te)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=Te.C(e);case"number":if(e===0)return this.ZERO;e=Te.C(e);case"bigint":if(!e)return this.ZERO;if(e<Te.MIN)throw new Error("ulong too small");if(e>Te.MAX)throw new Error("ulong too large");return Te.V.setBigInt64(0,e,!0),new hr(Te.V.getInt32(0,!0),Te.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!km.test(e))throw new Error("string is no integer");let[r,n,i]=$o.int64fromString(e),s=new hr(n,i);return r?s.negate():s;case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new hr(e,e/Xu):new hr(-e,-e/Xu).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return(this.hi&2147483648)!==0}negate(){let e=~this.hi,r=this.lo;return r?r=~r+1:e+=1,new hr(r,e)}toString(){if(Te)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+$o.int64toString(e.lo,e.hi)}return $o.int64toString(this.lo,this.hi)}toBigInt(){return Im(Te),Te.V.setInt32(0,this.lo,!0),Te.V.setInt32(4,this.hi,!0),Te.V.getBigInt64(0,!0)}};Ts.PbLong=hr;hr.ZERO=new hr(0,0)});var Ah=S(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.BinaryReader=ks.binaryReadOptions=void 0;var Is=Ho(),jo=zn(),Om=Wu(),Nm={readUnknownField:!0,readerFactory:t=>new Yu(t)};function A_(t){return t?Object.assign(Object.assign({},Nm),t):Nm}ks.binaryReadOptions=A_;var Yu=class{constructor(e,r){this.varint64=Om.varint64read,this.uint32=Om.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=r??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),r=e>>>3,n=e&7;if(r<=0||n<0||n>5)throw new Error("illegal tag: field no "+r+" wire type "+n);return[r,n]}skip(e){let r=this.pos;switch(e){case Is.WireType.Varint:for(;this.buf[this.pos++]&128;);break;case Is.WireType.Bit64:this.pos+=4;case Is.WireType.Bit32:this.pos+=4;break;case Is.WireType.LengthDelimited:let n=this.uint32();this.pos+=n;break;case Is.WireType.StartGroup:let i;for(;(i=this.tag()[1])!==Is.WireType.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new jo.PbLong(...this.varint64())}uint64(){return new jo.PbULong(...this.varint64())}sint64(){let[e,r]=this.varint64(),n=-(e&1);return e=(e>>>1|(r&1)<<31)^n,r=r>>>1^n,new jo.PbLong(e,r)}bool(){let[e,r]=this.varint64();return e!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new jo.PbULong(this.sfixed32(),this.sfixed32())}sfixed64(){return new jo.PbLong(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),r=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(r,r+e)}string(){return this.textDecoder.decode(this.bytes())}};ks.BinaryReader=Yu});var Os=S(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.assertFloat32=Xt.assertUInt32=Xt.assertInt32=Xt.assertNever=Xt.assert=void 0;function __(t,e){if(!t)throw new Error(e)}Xt.assert=__;function B_(t,e){throw new Error(e??"Unexpected object: "+t)}Xt.assertNever=B_;var T_=34028234663852886e22,I_=-34028234663852886e22,k_=4294967295,O_=2147483647,N_=-2147483648;function R_(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>O_||t<N_)throw new Error("invalid int 32: "+t)}Xt.assertInt32=R_;function U_(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>k_||t<0)throw new Error("invalid uint 32: "+t)}Xt.assertUInt32=U_;function F_(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(!!Number.isFinite(t)&&(t>T_||t<I_))throw new Error("invalid float 32: "+t)}Xt.assertFloat32=F_});var _h=S(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.BinaryWriter=Rs.binaryWriteOptions=void 0;var Go=zn(),Wo=Wu(),Ns=Os(),Rm={writeUnknownFields:!0,writerFactory:()=>new Zu};function L_(t){return t?Object.assign(Object.assign({},Rm),t):Rm}Rs.binaryWriteOptions=L_;var Zu=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let r=new Uint8Array(e),n=0;for(let i=0;i<this.chunks.length;i++)r.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,r){return this.uint32((e<<3|r)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Ns.assertUInt32(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Ns.assertInt32(e),Wo.varint32write(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let r=this.textEncoder.encode(e);return this.uint32(r.byteLength),this.raw(r)}float(e){Ns.assertFloat32(e);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,e,!0),this.raw(r)}double(e){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),this.raw(r)}fixed32(e){Ns.assertUInt32(e);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e,!0),this.raw(r)}sfixed32(e){Ns.assertInt32(e);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,e,!0),this.raw(r)}sint32(e){return Ns.assertInt32(e),e=(e<<1^e>>31)>>>0,Wo.varint32write(e,this.buf),this}sfixed64(e){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Go.PbLong.from(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}fixed64(e){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Go.PbULong.from(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}int64(e){let r=Go.PbLong.from(e);return Wo.varint64write(r.lo,r.hi,this.buf),this}sint64(e){let r=Go.PbLong.from(e),n=r.hi>>31,i=r.lo<<1^n,s=(r.hi<<1|r.lo>>>31)^n;return Wo.varint64write(i,s,this.buf),this}uint64(e){let r=Go.PbULong.from(e);return Wo.varint64write(r.lo,r.hi,this.buf),this}};Rs.BinaryWriter=Zu});var Bh=S(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.mergeJsonOptions=Hn.jsonWriteOptions=Hn.jsonReadOptions=void 0;var Um={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Fm={ignoreUnknownFields:!1};function P_(t){return t?Object.assign(Object.assign({},Fm),t):Fm}Hn.jsonReadOptions=P_;function M_(t){return t?Object.assign(Object.assign({},Um),t):Um}Hn.jsonWriteOptions=M_;function q_(t,e){var r,n;let i=Object.assign(Object.assign({},t),e);return i.typeRegistry=[...(r=t?.typeRegistry)!==null&&r!==void 0?r:[],...(n=e?.typeRegistry)!==null&&n!==void 0?n:[]],i}Hn.mergeJsonOptions=q_});var ec=S(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.MESSAGE_TYPE=void 0;Qu.MESSAGE_TYPE=Symbol.for("protobuf-ts/message-type")});var Th=S(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.lowerCamelCase=void 0;function K_(t){let e=!1,r=[];for(let n=0;n<t.length;n++){let i=t.charAt(n);i=="_"?e=!0:/\d/.test(i)?(r.push(i),e=!0):e?(r.push(i.toUpperCase()),e=!1):n==0?r.push(i.toLowerCase()):r.push(i)}return r.join("")}tc.lowerCamelCase=K_});var dr=S(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.readMessageOption=it.readFieldOption=it.readFieldOptions=it.normalizeFieldInfo=it.RepeatType=it.LongType=it.ScalarType=void 0;var Lm=Th(),V_;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(V_=it.ScalarType||(it.ScalarType={}));var z_;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING",t[t.NUMBER=2]="NUMBER"})(z_=it.LongType||(it.LongType={}));var Pm;(function(t){t[t.NO=0]="NO",t[t.PACKED=1]="PACKED",t[t.UNPACKED=2]="UNPACKED"})(Pm=it.RepeatType||(it.RepeatType={}));function H_(t){var e,r,n,i;return t.localName=(e=t.localName)!==null&&e!==void 0?e:Lm.lowerCamelCase(t.name),t.jsonName=(r=t.jsonName)!==null&&r!==void 0?r:Lm.lowerCamelCase(t.name),t.repeat=(n=t.repeat)!==null&&n!==void 0?n:Pm.NO,t.opt=(i=t.opt)!==null&&i!==void 0?i:t.repeat||t.oneof?!1:t.kind=="message",t}it.normalizeFieldInfo=H_;function $_(t,e,r,n){var i;let s=(i=t.fields.find((o,a)=>o.localName==e||a==e))===null||i===void 0?void 0:i.options;return s&&s[r]?n.fromJson(s[r]):void 0}it.readFieldOptions=$_;function j_(t,e,r,n){var i;let s=(i=t.fields.find((a,u)=>a.localName==e||u==e))===null||i===void 0?void 0:i.options;if(!s)return;let o=s[r];return o===void 0?o:n?n.fromJson(o):o}it.readFieldOption=j_;function G_(t,e,r){let i=t.options[e];return i===void 0?i:r?r.fromJson(i):i}it.readMessageOption=G_});var Ih=S(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getSelectedOneofValue=Ot.clearOneofValue=Ot.setUnknownOneofValue=Ot.setOneofValue=Ot.getOneofValue=Ot.isOneofGroup=void 0;function W_(t){if(typeof t!="object"||t===null||!t.hasOwnProperty("oneofKind"))return!1;switch(typeof t.oneofKind){case"string":return t[t.oneofKind]===void 0?!1:Object.keys(t).length==2;case"undefined":return Object.keys(t).length==1;default:return!1}}Ot.isOneofGroup=W_;function X_(t,e){return t[e]}Ot.getOneofValue=X_;function J_(t,e,r){t.oneofKind!==void 0&&delete t[t.oneofKind],t.oneofKind=e,r!==void 0&&(t[e]=r)}Ot.setOneofValue=J_;function Y_(t,e,r){t.oneofKind!==void 0&&delete t[t.oneofKind],t.oneofKind=e,r!==void 0&&e!==void 0&&(t[e]=r)}Ot.setUnknownOneofValue=Y_;function Z_(t){t.oneofKind!==void 0&&delete t[t.oneofKind],t.oneofKind=void 0}Ot.clearOneofValue=Z_;function Q_(t){if(t.oneofKind!==void 0)return t[t.oneofKind]}Ot.getSelectedOneofValue=Q_});var Oh=S(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.ReflectionTypeCheck=void 0;var Ge=dr(),eB=Ih(),kh=class{constructor(e){var r;this.fields=(r=e.fields)!==null&&r!==void 0?r:[]}prepare(){if(this.data)return;let e=[],r=[],n=[];for(let i of this.fields)if(i.oneof)n.includes(i.oneof)||(n.push(i.oneof),e.push(i.oneof),r.push(i.oneof));else switch(r.push(i.localName),i.kind){case"scalar":case"enum":(!i.opt||i.repeat)&&e.push(i.localName);break;case"message":i.repeat&&e.push(i.localName);break;case"map":e.push(i.localName);break}this.data={req:e,known:r,oneofs:Object.values(n)}}is(e,r,n=!1){if(r<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let i=Object.keys(e),s=this.data;if(i.length<s.req.length||s.req.some(o=>!i.includes(o))||!n&&i.some(o=>!s.known.includes(o)))return!1;if(r<1)return!0;for(let o of s.oneofs){let a=e[o];if(!eB.isOneofGroup(a))return!1;if(a.oneofKind===void 0)continue;let u=this.fields.find(c=>c.localName===a.oneofKind);if(!u||!this.field(a[a.oneofKind],u,n,r))return!1}for(let o of this.fields)if(o.oneof===void 0&&!this.field(e[o.localName],o,n,r))return!1;return!0}field(e,r,n,i){let s=r.repeat;switch(r.kind){case"scalar":return e===void 0?r.opt:s?this.scalars(e,r.T,i,r.L):this.scalar(e,r.T,r.L);case"enum":return e===void 0?r.opt:s?this.scalars(e,Ge.ScalarType.INT32,i):this.scalar(e,Ge.ScalarType.INT32);case"message":return e===void 0?!0:s?this.messages(e,r.T(),n,i):this.message(e,r.T(),n,i);case"map":if(typeof e!="object"||e===null)return!1;if(i<2)return!0;if(!this.mapKeys(e,r.K,i))return!1;switch(r.V.kind){case"scalar":return this.scalars(Object.values(e),r.V.T,i,r.V.L);case"enum":return this.scalars(Object.values(e),Ge.ScalarType.INT32,i);case"message":return this.messages(Object.values(e),r.V.T(),n,i)}break}return!0}message(e,r,n,i){return n?r.isAssignable(e,i):r.is(e,i)}messages(e,r,n,i){if(!Array.isArray(e))return!1;if(i<2)return!0;if(n){for(let s=0;s<e.length&&s<i;s++)if(!r.isAssignable(e[s],i-1))return!1}else for(let s=0;s<e.length&&s<i;s++)if(!r.is(e[s],i-1))return!1;return!0}scalar(e,r,n){let i=typeof e;switch(r){case Ge.ScalarType.UINT64:case Ge.ScalarType.FIXED64:case Ge.ScalarType.INT64:case Ge.ScalarType.SFIXED64:case Ge.ScalarType.SINT64:switch(n){case Ge.LongType.BIGINT:return i=="bigint";case Ge.LongType.NUMBER:return i=="number"&&!isNaN(e);default:return i=="string"}case Ge.ScalarType.BOOL:return i=="boolean";case Ge.ScalarType.STRING:return i=="string";case Ge.ScalarType.BYTES:return e instanceof Uint8Array;case Ge.ScalarType.DOUBLE:case Ge.ScalarType.FLOAT:return i=="number"&&!isNaN(e);default:return i=="number"&&Number.isInteger(e)}}scalars(e,r,n,i){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e)){for(let s=0;s<e.length&&s<n;s++)if(!this.scalar(e[s],r,i))return!1}return!0}mapKeys(e,r,n){let i=Object.keys(e);switch(r){case Ge.ScalarType.INT32:case Ge.ScalarType.FIXED32:case Ge.ScalarType.SFIXED32:case Ge.ScalarType.SINT32:case Ge.ScalarType.UINT32:return this.scalars(i.slice(0,n).map(s=>parseInt(s)),r,n);case Ge.ScalarType.BOOL:return this.scalars(i.slice(0,n).map(s=>s=="true"?!0:s=="false"?!1:s),r,n);default:return this.scalars(i,r,n,Ge.LongType.STRING)}}};rc.ReflectionTypeCheck=kh});var ic=S(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.reflectionLongConvert=void 0;var Mm=dr();function tB(t,e){switch(e){case Mm.LongType.BIGINT:return t.toBigInt();case Mm.LongType.NUMBER:return t.toNumber();default:return t.toString()}}nc.reflectionLongConvert=tB});var Rh=S(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.ReflectionJsonReader=void 0;var qm=zu(),rB=$u(),st=dr(),sc=zn(),mi=Os(),oc=ic(),Nh=class{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};let r=(e=this.info.fields)!==null&&e!==void 0?e:[];for(let n of r)this.fMap[n.name]=n,this.fMap[n.jsonName]=n,this.fMap[n.localName]=n}}assert(e,r,n){if(!e){let i=qm.typeofJsonValue(n);throw(i=="number"||i=="boolean")&&(i=n.toString()),new Error(`Cannot parse JSON ${i} for ${this.info.typeName}#${r}`)}}read(e,r,n){this.prepare();let i=[];for(let[s,o]of Object.entries(e)){let a=this.fMap[s];if(!a){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}let u=a.localName,c;if(a.oneof){if(i.includes(a.oneof))throw new Error(`Multiple members of the oneof group "${a.oneof}" of ${this.info.typeName} are present in JSON.`);i.push(a.oneof),c=r[a.oneof]={oneofKind:u}}else c=r;if(a.kind=="map"){if(o===null)continue;this.assert(qm.isJsonObject(o),a.name,o);let f=c[u];for(let[h,d]of Object.entries(o)){this.assert(d!==null,a.name+" map value",null);let y;switch(a.V.kind){case"message":y=a.V.T().internalJsonRead(d,n);break;case"enum":if(y=this.enum(a.V.T(),d,a.name,n.ignoreUnknownFields),y===!1)continue;break;case"scalar":y=this.scalar(d,a.V.T,a.V.L,a.name);break}this.assert(y!==void 0,a.name+" map value",d);let l=h;a.K==st.ScalarType.BOOL&&(l=l=="true"?!0:l=="false"?!1:l),l=this.scalar(l,a.K,st.LongType.STRING,a.name).toString(),f[l]=y}}else if(a.repeat){if(o===null)continue;this.assert(Array.isArray(o),a.name,o);let f=c[u];for(let h of o){this.assert(h!==null,a.name,null);let d;switch(a.kind){case"message":d=a.T().internalJsonRead(h,n);break;case"enum":if(d=this.enum(a.T(),h,a.name,n.ignoreUnknownFields),d===!1)continue;break;case"scalar":d=this.scalar(h,a.T,a.L,a.name);break}this.assert(d!==void 0,a.name,o),f.push(d)}}else switch(a.kind){case"message":if(o===null&&a.T().typeName!="google.protobuf.Value"){this.assert(a.oneof===void 0,a.name+" (oneof member)",null);continue}c[u]=a.T().internalJsonRead(o,n,c[u]);break;case"enum":let f=this.enum(a.T(),o,a.name,n.ignoreUnknownFields);if(f===!1)continue;c[u]=f;break;case"scalar":c[u]=this.scalar(o,a.T,a.L,a.name);break}}}enum(e,r,n,i){if(e[0]=="google.protobuf.NullValue"&&mi.assert(r===null,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),r===null)return 0;switch(typeof r){case"number":return mi.assert(Number.isInteger(r),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${r}.`),r;case"string":let s=r;e[2]&&r.substring(0,e[2].length)===e[2]&&(s=r.substring(e[2].length));let o=e[1][s];return typeof o>"u"&&i?!1:(mi.assert(typeof o=="number",`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${r}".`),o)}mi.assert(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof r}".`)}scalar(e,r,n,i){let s;try{switch(r){case st.ScalarType.DOUBLE:case st.ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){s="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){s="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let o=Number(e);if(Number.isNaN(o)){s="not a number";break}if(!Number.isFinite(o)){s="too large or small";break}return r==st.ScalarType.FLOAT&&mi.assertFloat32(o),o;case st.ScalarType.INT32:case st.ScalarType.FIXED32:case st.ScalarType.SFIXED32:case st.ScalarType.SINT32:case st.ScalarType.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:e===""?s="empty string":typeof e=="string"&&(e.trim().length!==e.length?s="extra whitespace":a=Number(e)),a===void 0)break;return r==st.ScalarType.UINT32?mi.assertUInt32(a):mi.assertInt32(a),a;case st.ScalarType.INT64:case st.ScalarType.SFIXED64:case st.ScalarType.SINT64:if(e===null)return oc.reflectionLongConvert(sc.PbLong.ZERO,n);if(typeof e!="number"&&typeof e!="string")break;return oc.reflectionLongConvert(sc.PbLong.from(e),n);case st.ScalarType.FIXED64:case st.ScalarType.UINT64:if(e===null)return oc.reflectionLongConvert(sc.PbULong.ZERO,n);if(typeof e!="number"&&typeof e!="string")break;return oc.reflectionLongConvert(sc.PbULong.from(e),n);case st.ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case st.ScalarType.STRING:if(e===null)return"";if(typeof e!="string"){s="extra whitespace";break}try{encodeURIComponent(e)}catch(u){u="invalid UTF8";break}return e;case st.ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return rB.base64decode(e)}}catch(o){s=o.message}this.assert(!1,i+(s?" - "+s:""),e)}};ac.ReflectionJsonReader=Nh});var Fh=S(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.ReflectionJsonWriter=void 0;var nB=$u(),Km=zn(),_t=dr(),Me=Os(),Uh=class{constructor(e){var r;this.fields=(r=e.fields)!==null&&r!==void 0?r:[]}write(e,r){let n={},i=e;for(let s of this.fields){if(!s.oneof){let c=this.field(s,i[s.localName],r);c!==void 0&&(n[r.useProtoFieldName?s.name:s.jsonName]=c);continue}let o=i[s.oneof];if(o.oneofKind!==s.localName)continue;let a=s.kind=="scalar"||s.kind=="enum"?Object.assign(Object.assign({},r),{emitDefaultValues:!0}):r,u=this.field(s,o[s.localName],a);Me.assert(u!==void 0),n[r.useProtoFieldName?s.name:s.jsonName]=u}return n}field(e,r,n){let i;if(e.kind=="map"){Me.assert(typeof r=="object"&&r!==null);let s={};switch(e.V.kind){case"scalar":for(let[u,c]of Object.entries(r)){let f=this.scalar(e.V.T,c,e.name,!1,!0);Me.assert(f!==void 0),s[u.toString()]=f}break;case"message":let o=e.V.T();for(let[u,c]of Object.entries(r)){let f=this.message(o,c,e.name,n);Me.assert(f!==void 0),s[u.toString()]=f}break;case"enum":let a=e.V.T();for(let[u,c]of Object.entries(r)){Me.assert(c===void 0||typeof c=="number");let f=this.enum(a,c,e.name,!1,!0,n.enumAsInteger);Me.assert(f!==void 0),s[u.toString()]=f}break}(n.emitDefaultValues||Object.keys(s).length>0)&&(i=s)}else if(e.repeat){Me.assert(Array.isArray(r));let s=[];switch(e.kind){case"scalar":for(let u=0;u<r.length;u++){let c=this.scalar(e.T,r[u],e.name,e.opt,!0);Me.assert(c!==void 0),s.push(c)}break;case"enum":let o=e.T();for(let u=0;u<r.length;u++){Me.assert(r[u]===void 0||typeof r[u]=="number");let c=this.enum(o,r[u],e.name,e.opt,!0,n.enumAsInteger);Me.assert(c!==void 0),s.push(c)}break;case"message":let a=e.T();for(let u=0;u<r.length;u++){let c=this.message(a,r[u],e.name,n);Me.assert(c!==void 0),s.push(c)}break}(n.emitDefaultValues||s.length>0||n.emitDefaultValues)&&(i=s)}else switch(e.kind){case"scalar":i=this.scalar(e.T,r,e.name,e.opt,n.emitDefaultValues);break;case"enum":i=this.enum(e.T(),r,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":i=this.message(e.T(),r,e.name,n);break}return i}enum(e,r,n,i,s,o){if(e[0]=="google.protobuf.NullValue")return null;if(r===void 0){Me.assert(i);return}if(!(r===0&&!s&&!i))return Me.assert(typeof r=="number"),Me.assert(Number.isInteger(r)),o||!e[1].hasOwnProperty(r)?r:e[2]?e[2]+e[1][r]:e[1][r]}message(e,r,n,i){return r===void 0?i.emitDefaultValues?null:void 0:e.internalJsonWrite(r,i)}scalar(e,r,n,i,s){if(r===void 0){Me.assert(i);return}let o=s||i;switch(e){case _t.ScalarType.INT32:case _t.ScalarType.SFIXED32:case _t.ScalarType.SINT32:return r===0?o?0:void 0:(Me.assertInt32(r),r);case _t.ScalarType.FIXED32:case _t.ScalarType.UINT32:return r===0?o?0:void 0:(Me.assertUInt32(r),r);case _t.ScalarType.FLOAT:Me.assertFloat32(r);case _t.ScalarType.DOUBLE:return r===0?o?0:void 0:(Me.assert(typeof r=="number"),Number.isNaN(r)?"NaN":r===Number.POSITIVE_INFINITY?"Infinity":r===Number.NEGATIVE_INFINITY?"-Infinity":r);case _t.ScalarType.STRING:return r===""?o?"":void 0:(Me.assert(typeof r=="string"),r);case _t.ScalarType.BOOL:return r===!1?o?!1:void 0:(Me.assert(typeof r=="boolean"),r);case _t.ScalarType.UINT64:case _t.ScalarType.FIXED64:Me.assert(typeof r=="number"||typeof r=="string"||typeof r=="bigint");let a=Km.PbULong.from(r);return a.isZero()&&!o?void 0:a.toString();case _t.ScalarType.INT64:case _t.ScalarType.SFIXED64:case _t.ScalarType.SINT64:Me.assert(typeof r=="number"||typeof r=="string"||typeof r=="bigint");let u=Km.PbLong.from(r);return u.isZero()&&!o?void 0:u.toString();case _t.ScalarType.BYTES:return Me.assert(r instanceof Uint8Array),r.byteLength?nB.base64encode(r):o?"":void 0}}};uc.ReflectionJsonWriter=Uh});var fc=S(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.reflectionScalarDefault=void 0;var pr=dr(),Vm=ic(),zm=zn();function iB(t,e=pr.LongType.STRING){switch(t){case pr.ScalarType.BOOL:return!1;case pr.ScalarType.UINT64:case pr.ScalarType.FIXED64:return Vm.reflectionLongConvert(zm.PbULong.ZERO,e);case pr.ScalarType.INT64:case pr.ScalarType.SFIXED64:case pr.ScalarType.SINT64:return Vm.reflectionLongConvert(zm.PbLong.ZERO,e);case pr.ScalarType.DOUBLE:case pr.ScalarType.FLOAT:return 0;case pr.ScalarType.BYTES:return new Uint8Array(0);case pr.ScalarType.STRING:return"";default:return 0}}cc.reflectionScalarDefault=iB});var Ph=S(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.ReflectionBinaryReader=void 0;var Hm=Ho(),Ye=dr(),Xo=ic(),$m=fc(),Lh=class{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let r=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(r.map(n=>[n.no,n]))}}read(e,r,n,i){this.prepare();let s=i===void 0?e.len:e.pos+i;for(;e.pos<s;){let[o,a]=e.tag(),u=this.fieldNoToField.get(o);if(!u){let d=n.readUnknownField;if(d=="throw")throw new Error(`Unknown field ${o} (wire type ${a}) for ${this.info.typeName}`);let y=e.skip(a);d!==!1&&(d===!0?Hm.UnknownFieldHandler.onRead:d)(this.info.typeName,r,o,a,y);continue}let c=r,f=u.repeat,h=u.localName;switch(u.oneof&&(c=c[u.oneof],c.oneofKind!==h&&(c=r[u.oneof]={oneofKind:h})),u.kind){case"scalar":case"enum":let d=u.kind=="enum"?Ye.ScalarType.INT32:u.T,y=u.kind=="scalar"?u.L:void 0;if(f){let g=c[h];if(a==Hm.WireType.LengthDelimited&&d!=Ye.ScalarType.STRING&&d!=Ye.ScalarType.BYTES){let m=e.uint32()+e.pos;for(;e.pos<m;)g.push(this.scalar(e,d,y))}else g.push(this.scalar(e,d,y))}else c[h]=this.scalar(e,d,y);break;case"message":if(f){let g=c[h],m=u.T().internalBinaryRead(e,e.uint32(),n);g.push(m)}else c[h]=u.T().internalBinaryRead(e,e.uint32(),n,c[h]);break;case"map":let[l,p]=this.mapEntry(u,e,n);c[h][l]=p;break}}}mapEntry(e,r,n){let i=r.uint32(),s=r.pos+i,o,a;for(;r.pos<s;){let[u,c]=r.tag();switch(u){case 1:e.K==Ye.ScalarType.BOOL?o=r.bool().toString():o=this.scalar(r,e.K,Ye.LongType.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(r,e.V.T,e.V.L);break;case"enum":a=r.int32();break;case"message":a=e.V.T().internalBinaryRead(r,r.uint32(),n);break}break;default:throw new Error(`Unknown field ${u} (wire type ${c}) in map entry for ${this.info.typeName}#${e.name}`)}}if(o===void 0){let u=$m.reflectionScalarDefault(e.K);o=e.K==Ye.ScalarType.BOOL?u.toString():u}if(a===void 0)switch(e.V.kind){case"scalar":a=$m.reflectionScalarDefault(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create();break}return[o,a]}scalar(e,r,n){switch(r){case Ye.ScalarType.INT32:return e.int32();case Ye.ScalarType.STRING:return e.string();case Ye.ScalarType.BOOL:return e.bool();case Ye.ScalarType.DOUBLE:return e.double();case Ye.ScalarType.FLOAT:return e.float();case Ye.ScalarType.INT64:return Xo.reflectionLongConvert(e.int64(),n);case Ye.ScalarType.UINT64:return Xo.reflectionLongConvert(e.uint64(),n);case Ye.ScalarType.FIXED64:return Xo.reflectionLongConvert(e.fixed64(),n);case Ye.ScalarType.FIXED32:return e.fixed32();case Ye.ScalarType.BYTES:return e.bytes();case Ye.ScalarType.UINT32:return e.uint32();case Ye.ScalarType.SFIXED32:return e.sfixed32();case Ye.ScalarType.SFIXED64:return Xo.reflectionLongConvert(e.sfixed64(),n);case Ye.ScalarType.SINT32:return e.sint32();case Ye.ScalarType.SINT64:return Xo.reflectionLongConvert(e.sint64(),n)}}};lc.ReflectionBinaryReader=Lh});var qh=S(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.ReflectionBinaryWriter=void 0;var Mt=Ho(),Ie=dr(),Us=Os(),Jo=zn(),Mh=class{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((r,n)=>r.no-n.no)}}write(e,r,n){this.prepare();for(let s of this.fields){let o,a,u=s.repeat,c=s.localName;if(s.oneof){let f=e[s.oneof];if(f.oneofKind!==c)continue;o=f[c],a=!0}else o=e[c],a=!1;switch(s.kind){case"scalar":case"enum":let f=s.kind=="enum"?Ie.ScalarType.INT32:s.T;if(u)if(Us.assert(Array.isArray(o)),u==Ie.RepeatType.PACKED)this.packed(r,f,s.no,o);else for(let h of o)this.scalar(r,f,s.no,h,!0);else o===void 0?Us.assert(s.opt):this.scalar(r,f,s.no,o,a||s.opt);break;case"message":if(u){Us.assert(Array.isArray(o));for(let h of o)this.message(r,n,s.T(),s.no,h)}else this.message(r,n,s.T(),s.no,o);break;case"map":Us.assert(typeof o=="object"&&o!==null);for(let[h,d]of Object.entries(o))this.mapEntry(r,n,s,h,d);break}}let i=n.writeUnknownFields;i!==!1&&(i===!0?Mt.UnknownFieldHandler.onWrite:i)(this.info.typeName,e,r)}mapEntry(e,r,n,i,s){e.tag(n.no,Mt.WireType.LengthDelimited),e.fork();let o=i;switch(n.K){case Ie.ScalarType.INT32:case Ie.ScalarType.FIXED32:case Ie.ScalarType.UINT32:case Ie.ScalarType.SFIXED32:case Ie.ScalarType.SINT32:o=Number.parseInt(i);break;case Ie.ScalarType.BOOL:Us.assert(i=="true"||i=="false"),o=i=="true";break}switch(this.scalar(e,n.K,1,o,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,s,!0);break;case"enum":this.scalar(e,Ie.ScalarType.INT32,2,s,!0);break;case"message":this.message(e,r,n.V.T(),2,s);break}e.join()}message(e,r,n,i,s){s!==void 0&&(n.internalBinaryWrite(s,e.tag(i,Mt.WireType.LengthDelimited).fork(),r),e.join())}scalar(e,r,n,i,s){let[o,a,u]=this.scalarInfo(r,i);(!u||s)&&(e.tag(n,o),e[a](i))}packed(e,r,n,i){if(!i.length)return;Us.assert(r!==Ie.ScalarType.BYTES&&r!==Ie.ScalarType.STRING),e.tag(n,Mt.WireType.LengthDelimited),e.fork();let[,s]=this.scalarInfo(r);for(let o=0;o<i.length;o++)e[s](i[o]);e.join()}scalarInfo(e,r){let n=Mt.WireType.Varint,i,s=r===void 0,o=r===0;switch(e){case Ie.ScalarType.INT32:i="int32";break;case Ie.ScalarType.STRING:o=s||!r.length,n=Mt.WireType.LengthDelimited,i="string";break;case Ie.ScalarType.BOOL:o=r===!1,i="bool";break;case Ie.ScalarType.UINT32:i="uint32";break;case Ie.ScalarType.DOUBLE:n=Mt.WireType.Bit64,i="double";break;case Ie.ScalarType.FLOAT:n=Mt.WireType.Bit32,i="float";break;case Ie.ScalarType.INT64:o=s||Jo.PbLong.from(r).isZero(),i="int64";break;case Ie.ScalarType.UINT64:o=s||Jo.PbULong.from(r).isZero(),i="uint64";break;case Ie.ScalarType.FIXED64:o=s||Jo.PbULong.from(r).isZero(),n=Mt.WireType.Bit64,i="fixed64";break;case Ie.ScalarType.BYTES:o=s||!r.byteLength,n=Mt.WireType.LengthDelimited,i="bytes";break;case Ie.ScalarType.FIXED32:n=Mt.WireType.Bit32,i="fixed32";break;case Ie.ScalarType.SFIXED32:n=Mt.WireType.Bit32,i="sfixed32";break;case Ie.ScalarType.SFIXED64:o=s||Jo.PbLong.from(r).isZero(),n=Mt.WireType.Bit64,i="sfixed64";break;case Ie.ScalarType.SINT32:i="sint32";break;case Ie.ScalarType.SINT64:o=s||Jo.PbLong.from(r).isZero(),i="sint64";break}return[n,i,s||o]}};hc.ReflectionBinaryWriter=Mh});var Kh=S(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.reflectionCreate=void 0;var sB=fc(),oB=ec();function aB(t){let e={};Object.defineProperty(e,oB.MESSAGE_TYPE,{enumerable:!1,value:t});for(let r of t.fields){let n=r.localName;if(!r.opt)if(r.oneof)e[r.oneof]={oneofKind:void 0};else if(r.repeat)e[n]=[];else switch(r.kind){case"scalar":e[n]=sB.reflectionScalarDefault(r.T,r.L);break;case"enum":e[n]=0;break;case"map":e[n]={};break}}return e}dc.reflectionCreate=aB});var Vh=S(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.reflectionMergePartial=void 0;function uB(t,e,r){let n,i=r,s;for(let o of t.fields){let a=o.localName;if(o.oneof){let u=i[o.oneof];if(u==null)continue;if(n=u[a],s=e[o.oneof],s.oneofKind=u.oneofKind,n==null){delete s[a];continue}}else if(n=i[a],s=e,n==null)continue;switch(o.repeat&&(s[a].length=n.length),o.kind){case"scalar":case"enum":if(o.repeat)for(let c=0;c<n.length;c++)s[a][c]=n[c];else s[a]=n;break;case"message":let u=o.T();if(o.repeat)for(let c=0;c<n.length;c++)s[a][c]=u.create(n[c]);else s[a]===void 0?s[a]=u.create(n):u.mergePartial(s[a],n);break;case"map":switch(o.V.kind){case"scalar":case"enum":Object.assign(s[a],n);break;case"message":let c=o.V.T();for(let f of Object.keys(n))s[a][f]=c.create(n[f]);break}break}}}pc.reflectionMergePartial=uB});var Hh=S(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.reflectionEquals=void 0;var zh=dr();function cB(t,e,r){if(e===r)return!0;if(!e||!r)return!1;for(let n of t.fields){let i=n.localName,s=n.oneof?e[n.oneof][i]:e[i],o=n.oneof?r[n.oneof][i]:r[i];switch(n.kind){case"enum":case"scalar":let a=n.kind=="enum"?zh.ScalarType.INT32:n.T;if(!(n.repeat?jm(a,s,o):Wm(a,s,o)))return!1;break;case"map":if(!(n.V.kind=="message"?Gm(n.V.T(),yc(s),yc(o)):jm(n.V.kind=="enum"?zh.ScalarType.INT32:n.V.T,yc(s),yc(o))))return!1;break;case"message":let u=n.T();if(!(n.repeat?Gm(u,s,o):u.equals(s,o)))return!1;break}}return!0}gc.reflectionEquals=cB;var yc=Object.values;function Wm(t,e,r){if(e===r)return!0;if(t!==zh.ScalarType.BYTES)return!1;let n=e,i=r;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!=i[s])return!1;return!0}function jm(t,e,r){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!Wm(t,e[n],r[n]))return!1;return!0}function Gm(t,e,r){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!t.equals(e[n],r[n]))return!1;return!0}});var Jm=S(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.MessageType=void 0;var fB=dr(),lB=Oh(),hB=Rh(),dB=Fh(),pB=Ph(),yB=qh(),gB=Kh(),$h=Vh(),mB=zu(),Xm=Bh(),bB=Hh(),xB=_h(),vB=Ah(),jh=class{constructor(e,r,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=r.map(fB.normalizeFieldInfo),this.options=n??{},this.refTypeCheck=new lB.ReflectionTypeCheck(this),this.refJsonReader=new hB.ReflectionJsonReader(this),this.refJsonWriter=new dB.ReflectionJsonWriter(this),this.refBinReader=new pB.ReflectionBinaryReader(this),this.refBinWriter=new yB.ReflectionBinaryWriter(this)}create(e){let r=gB.reflectionCreate(this);return e!==void 0&&$h.reflectionMergePartial(this,r,e),r}clone(e){let r=this.create();return $h.reflectionMergePartial(this,r,e),r}equals(e,r){return bB.reflectionEquals(this,e,r)}is(e,r=this.defaultCheckDepth){return this.refTypeCheck.is(e,r,!1)}isAssignable(e,r=this.defaultCheckDepth){return this.refTypeCheck.is(e,r,!0)}mergePartial(e,r){$h.reflectionMergePartial(this,e,r)}fromBinary(e,r){let n=vB.binaryReadOptions(r);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,r){return this.internalJsonRead(e,Xm.jsonReadOptions(r))}fromJsonString(e,r){let n=JSON.parse(e);return this.fromJson(n,r)}toJson(e,r){return this.internalJsonWrite(e,Xm.jsonWriteOptions(r))}toJsonString(e,r){var n;let i=this.toJson(e,r);return JSON.stringify(i,null,(n=r?.prettySpaces)!==null&&n!==void 0?n:0)}toBinary(e,r){let n=xB.binaryWriteOptions(r);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,r,n){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){let i=n??this.create();return this.refJsonReader.read(e,i,r),i}throw new Error(`Unable to parse message ${this.typeName} from JSON ${mB.typeofJsonValue(e)}.`)}internalJsonWrite(e,r){return this.refJsonWriter.write(e,r)}internalBinaryWrite(e,r,n){return this.refBinWriter.write(e,r,n),r}internalBinaryRead(e,r,n,i){let s=i??this.create();return this.refBinReader.read(e,s,n,r),s}};mc.MessageType=jh});var Ym=S(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.containsMessageType=void 0;var DB=ec();function wB(t){return t[DB.MESSAGE_TYPE]!=null}bc.containsMessageType=wB});var Qm=S(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.listEnumNumbers=Ur.listEnumNames=Ur.listEnumValues=Ur.isEnumObject=void 0;function Zm(t){if(typeof t!="object"||t===null||!t.hasOwnProperty(0))return!1;for(let e of Object.keys(t)){let r=parseInt(e);if(Number.isNaN(r)){let n=t[e];if(n===void 0||typeof n!="number"||t[n]===void 0)return!1}else{let n=t[r];if(n===void 0||t[n]!==r)return!1}}return!0}Ur.isEnumObject=Zm;function Gh(t){if(!Zm(t))throw new Error("not a typescript enum object");let e=[];for(let[r,n]of Object.entries(t))typeof n=="number"&&e.push({name:r,number:n});return e}Ur.listEnumValues=Gh;function EB(t){return Gh(t).map(e=>e.name)}Ur.listEnumNames=EB;function SB(t){return Gh(t).map(e=>e.number).filter((e,r,n)=>n.indexOf(e)==r)}Ur.listEnumNumbers=SB});var Fs=S(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var eb=zu();Object.defineProperty(J,"typeofJsonValue",{enumerable:!0,get:function(){return eb.typeofJsonValue}});Object.defineProperty(J,"isJsonObject",{enumerable:!0,get:function(){return eb.isJsonObject}});var tb=$u();Object.defineProperty(J,"base64decode",{enumerable:!0,get:function(){return tb.base64decode}});Object.defineProperty(J,"base64encode",{enumerable:!0,get:function(){return tb.base64encode}});var CB=Tm();Object.defineProperty(J,"utf8read",{enumerable:!0,get:function(){return CB.utf8read}});var Wh=Ho();Object.defineProperty(J,"WireType",{enumerable:!0,get:function(){return Wh.WireType}});Object.defineProperty(J,"mergeBinaryOptions",{enumerable:!0,get:function(){return Wh.mergeBinaryOptions}});Object.defineProperty(J,"UnknownFieldHandler",{enumerable:!0,get:function(){return Wh.UnknownFieldHandler}});var rb=Ah();Object.defineProperty(J,"BinaryReader",{enumerable:!0,get:function(){return rb.BinaryReader}});Object.defineProperty(J,"binaryReadOptions",{enumerable:!0,get:function(){return rb.binaryReadOptions}});var nb=_h();Object.defineProperty(J,"BinaryWriter",{enumerable:!0,get:function(){return nb.BinaryWriter}});Object.defineProperty(J,"binaryWriteOptions",{enumerable:!0,get:function(){return nb.binaryWriteOptions}});var ib=zn();Object.defineProperty(J,"PbLong",{enumerable:!0,get:function(){return ib.PbLong}});Object.defineProperty(J,"PbULong",{enumerable:!0,get:function(){return ib.PbULong}});var Xh=Bh();Object.defineProperty(J,"jsonReadOptions",{enumerable:!0,get:function(){return Xh.jsonReadOptions}});Object.defineProperty(J,"jsonWriteOptions",{enumerable:!0,get:function(){return Xh.jsonWriteOptions}});Object.defineProperty(J,"mergeJsonOptions",{enumerable:!0,get:function(){return Xh.mergeJsonOptions}});var AB=ec();Object.defineProperty(J,"MESSAGE_TYPE",{enumerable:!0,get:function(){return AB.MESSAGE_TYPE}});var _B=Jm();Object.defineProperty(J,"MessageType",{enumerable:!0,get:function(){return _B.MessageType}});var bi=dr();Object.defineProperty(J,"ScalarType",{enumerable:!0,get:function(){return bi.ScalarType}});Object.defineProperty(J,"LongType",{enumerable:!0,get:function(){return bi.LongType}});Object.defineProperty(J,"RepeatType",{enumerable:!0,get:function(){return bi.RepeatType}});Object.defineProperty(J,"normalizeFieldInfo",{enumerable:!0,get:function(){return bi.normalizeFieldInfo}});Object.defineProperty(J,"readFieldOptions",{enumerable:!0,get:function(){return bi.readFieldOptions}});Object.defineProperty(J,"readFieldOption",{enumerable:!0,get:function(){return bi.readFieldOption}});Object.defineProperty(J,"readMessageOption",{enumerable:!0,get:function(){return bi.readMessageOption}});var BB=Oh();Object.defineProperty(J,"ReflectionTypeCheck",{enumerable:!0,get:function(){return BB.ReflectionTypeCheck}});var TB=Kh();Object.defineProperty(J,"reflectionCreate",{enumerable:!0,get:function(){return TB.reflectionCreate}});var IB=fc();Object.defineProperty(J,"reflectionScalarDefault",{enumerable:!0,get:function(){return IB.reflectionScalarDefault}});var kB=Vh();Object.defineProperty(J,"reflectionMergePartial",{enumerable:!0,get:function(){return kB.reflectionMergePartial}});var OB=Hh();Object.defineProperty(J,"reflectionEquals",{enumerable:!0,get:function(){return OB.reflectionEquals}});var NB=Ph();Object.defineProperty(J,"ReflectionBinaryReader",{enumerable:!0,get:function(){return NB.ReflectionBinaryReader}});var RB=qh();Object.defineProperty(J,"ReflectionBinaryWriter",{enumerable:!0,get:function(){return RB.ReflectionBinaryWriter}});var UB=Rh();Object.defineProperty(J,"ReflectionJsonReader",{enumerable:!0,get:function(){return UB.ReflectionJsonReader}});var FB=Fh();Object.defineProperty(J,"ReflectionJsonWriter",{enumerable:!0,get:function(){return FB.ReflectionJsonWriter}});var LB=Ym();Object.defineProperty(J,"containsMessageType",{enumerable:!0,get:function(){return LB.containsMessageType}});var Yo=Ih();Object.defineProperty(J,"isOneofGroup",{enumerable:!0,get:function(){return Yo.isOneofGroup}});Object.defineProperty(J,"setOneofValue",{enumerable:!0,get:function(){return Yo.setOneofValue}});Object.defineProperty(J,"getOneofValue",{enumerable:!0,get:function(){return Yo.getOneofValue}});Object.defineProperty(J,"clearOneofValue",{enumerable:!0,get:function(){return Yo.clearOneofValue}});Object.defineProperty(J,"getSelectedOneofValue",{enumerable:!0,get:function(){return Yo.getSelectedOneofValue}});var xc=Qm();Object.defineProperty(J,"listEnumValues",{enumerable:!0,get:function(){return xc.listEnumValues}});Object.defineProperty(J,"listEnumNames",{enumerable:!0,get:function(){return xc.listEnumNames}});Object.defineProperty(J,"listEnumNumbers",{enumerable:!0,get:function(){return xc.listEnumNumbers}});Object.defineProperty(J,"isEnumObject",{enumerable:!0,get:function(){return xc.isEnumObject}});var PB=Th();Object.defineProperty(J,"lowerCamelCase",{enumerable:!0,get:function(){return PB.lowerCamelCase}});var Zo=Os();Object.defineProperty(J,"assert",{enumerable:!0,get:function(){return Zo.assert}});Object.defineProperty(J,"assertNever",{enumerable:!0,get:function(){return Zo.assertNever}});Object.defineProperty(J,"assertInt32",{enumerable:!0,get:function(){return Zo.assertInt32}});Object.defineProperty(J,"assertUInt32",{enumerable:!0,get:function(){return Zo.assertUInt32}});Object.defineProperty(J,"assertFloat32",{enumerable:!0,get:function(){return Zo.assertFloat32}})});var ub=S(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});function KB(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Qh.isSerializableHash=KB});var Dc=S(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});function VB(t,e,r){return~(t-1)&e|t-1&r}Ls.select=VB;function zB(t,e){return(t|0)-(e|0)-1>>>31&1}Ls.lessOrEqual=zB;function cb(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Ls.compare=cb;function HB(t,e){return t.length===0||e.length===0?!1:cb(t,e)!==0}Ls.equal=HB});var Lr=S(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});function $B(t){for(var e=0;e<t.length;e++)t[e]=0;return t}ed.wipe=$B});var lb=S(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var Pr=ub(),jB=Dc(),GB=Lr(),fb=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Pr.isSerializableHash(this._inner)&&Pr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),GB.wipe(n)}return t.prototype.reset=function(){if(!Pr.isSerializableHash(this._inner)||!Pr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Pr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Pr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Pr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Pr.isSerializableHash(this._inner)||!Pr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Pr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Qo.HMAC=fb;function WB(t,e,r){var n=new fb(t,e);n.update(r);var i=n.digest();return n.clean(),i}Qo.hmac=WB;Qo.equal=jB.equal});var pb=S(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});var hb=lb(),db=Lr(),XB=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=hb.hmac(this._hash,n,r);this._hmac=new hb.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),db.wipe(this._buffer),db.wipe(this._counter),this._bufpos=0},t}();td.HKDF=XB});var gb=S(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.BrowserRandomSource=void 0;var yb=65536,rd=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=yb)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,yb)));return r}};wc.BrowserRandomSource=rd});var mb=S(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.NodeRandomSource=void 0;var JB=Lr(),nd=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Re<"u"){let e=Re("crypto");e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,JB.wipe)(r),n}};Ec.NodeRandomSource=nd});var bb=S(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.SystemRandomSource=void 0;var YB=gb(),ZB=mb(),id=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new YB.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new ZB.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Sc.SystemRandomSource=id});var xb=S(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});function QB(t,e){var r=t>>>16&65535,n=t&65535,i=e>>>16&65535,s=e&65535;return n*s+(r*s+n*i<<16>>>0)|0}qt.mul=Math.imul||QB;function eT(t,e){return t+e|0}qt.add=eT;function tT(t,e){return t-e|0}qt.sub=tT;function rT(t,e){return t<<e|t>>>32-e}qt.rotl=rT;function nT(t,e){return t<<32-e|t>>>e}qt.rotr=nT;function iT(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}qt.isInteger=Number.isInteger||iT;qt.MAX_SAFE_INTEGER=9007199254740991;qt.isSafeInteger=function(t){return qt.isInteger(t)&&t>=-qt.MAX_SAFE_INTEGER&&t<=qt.MAX_SAFE_INTEGER}});var ea=S(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});var vb=xb();function sT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}oe.readInt16BE=sT;function oT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}oe.readUint16BE=oT;function aT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}oe.readInt16LE=aT;function uT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}oe.readUint16LE=uT;function Db(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}oe.writeUint16BE=Db;oe.writeInt16BE=Db;function wb(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}oe.writeUint16LE=wb;oe.writeInt16LE=wb;function sd(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}oe.readInt32BE=sd;function od(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}oe.readUint32BE=od;function ad(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}oe.readInt32LE=ad;function ud(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}oe.readUint32LE=ud;function Cc(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}oe.writeUint32BE=Cc;oe.writeInt32BE=Cc;function Ac(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}oe.writeUint32LE=Ac;oe.writeInt32LE=Ac;function cT(t,e){e===void 0&&(e=0);var r=sd(t,e),n=sd(t,e+4);return r*4294967296+n-(n>>31)*4294967296}oe.readInt64BE=cT;function fT(t,e){e===void 0&&(e=0);var r=od(t,e),n=od(t,e+4);return r*4294967296+n}oe.readUint64BE=fT;function lT(t,e){e===void 0&&(e=0);var r=ad(t,e),n=ad(t,e+4);return n*4294967296+r-(r>>31)*4294967296}oe.readInt64LE=lT;function hT(t,e){e===void 0&&(e=0);var r=ud(t,e),n=ud(t,e+4);return n*4294967296+r}oe.readUint64LE=hT;function Eb(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Cc(t/4294967296>>>0,e,r),Cc(t>>>0,e,r+4),e}oe.writeUint64BE=Eb;oe.writeInt64BE=Eb;function Sb(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Ac(t>>>0,e,r),Ac(t/4294967296>>>0,e,r+4),e}oe.writeUint64LE=Sb;oe.writeInt64LE=Sb;function dT(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}oe.readUintBE=dT;function pT(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}oe.readUintLE=pT;function yT(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!vb.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}oe.writeUintBE=yT;function gT(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!vb.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}oe.writeUintLE=gT;function mT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}oe.readFloat32BE=mT;function bT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}oe.readFloat32LE=bT;function xT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}oe.readFloat64BE=xT;function vT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}oe.readFloat64LE=vT;function DT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}oe.writeFloat32BE=DT;function wT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}oe.writeFloat32LE=wT;function ET(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}oe.writeFloat64BE=ET;function ST(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}oe.writeFloat64LE=ST});var Bb=S(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.randomStringForEntropy=Dt.randomString=Dt.randomUint32=Dt.randomBytes=Dt.defaultRandomSource=void 0;var CT=bb(),AT=ea(),Cb=Lr();Dt.defaultRandomSource=new CT.SystemRandomSource;function cd(t,e=Dt.defaultRandomSource){return e.randomBytes(t)}Dt.randomBytes=cd;function _T(t=Dt.defaultRandomSource){let e=cd(4,t),r=(0,AT.readUint32LE)(e);return(0,Cb.wipe)(e),r}Dt.randomUint32=_T;var Ab="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function _b(t,e=Ab,r=Dt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;t>0;){let o=cd(Math.ceil(t*256/s),r);for(let a=0;a<o.length&&t>0;a++){let u=o[a];u<s&&(n+=e.charAt(u%i),t--)}(0,Cb.wipe)(o)}return n}Dt.randomString=_b;function BT(t,e=Ab,r=Dt.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return _b(n,e,r)}Dt.randomStringForEntropy=BT});var Ob=S(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.sharedKey=We.generateKeyPair=We.generateKeyPairFromSeed=We.scalarMultBase=We.scalarMult=We.SHARED_KEY_LENGTH=We.SECRET_KEY_LENGTH=We.PUBLIC_KEY_LENGTH=void 0;var TT=Bb(),IT=Lr();We.PUBLIC_KEY_LENGTH=32;We.SECRET_KEY_LENGTH=32;We.SHARED_KEY_LENGTH=32;function Mr(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var Tb=new Uint8Array(32);Tb[0]=9;var kT=Mr([56129,1]);function fd(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function ta(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function OT(t,e){let r=Mr(),n=Mr();for(let i=0;i<16;i++)n[i]=e[i];fd(n),fd(n),fd(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,ta(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function NT(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function _c(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function Bc(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function mn(t,e,r){let n,i,s=0,o=0,a=0,u=0,c=0,f=0,h=0,d=0,y=0,l=0,p=0,g=0,m=0,b=0,v=0,x=0,D=0,w=0,C=0,_=0,F=0,z=0,Y=0,V=0,ue=0,re=0,$=0,Q=0,T=0,Z=0,_e=0,ee=r[0],ie=r[1],se=r[2],fe=r[3],ce=r[4],le=r[5],he=r[6],de=r[7],Ee=r[8],I=r[9],k=r[10],U=r[11],M=r[12],P=r[13],j=r[14],pe=r[15];n=e[0],s+=n*ee,o+=n*ie,a+=n*se,u+=n*fe,c+=n*ce,f+=n*le,h+=n*he,d+=n*de,y+=n*Ee,l+=n*I,p+=n*k,g+=n*U,m+=n*M,b+=n*P,v+=n*j,x+=n*pe,n=e[1],o+=n*ee,a+=n*ie,u+=n*se,c+=n*fe,f+=n*ce,h+=n*le,d+=n*he,y+=n*de,l+=n*Ee,p+=n*I,g+=n*k,m+=n*U,b+=n*M,v+=n*P,x+=n*j,D+=n*pe,n=e[2],a+=n*ee,u+=n*ie,c+=n*se,f+=n*fe,h+=n*ce,d+=n*le,y+=n*he,l+=n*de,p+=n*Ee,g+=n*I,m+=n*k,b+=n*U,v+=n*M,x+=n*P,D+=n*j,w+=n*pe,n=e[3],u+=n*ee,c+=n*ie,f+=n*se,h+=n*fe,d+=n*ce,y+=n*le,l+=n*he,p+=n*de,g+=n*Ee,m+=n*I,b+=n*k,v+=n*U,x+=n*M,D+=n*P,w+=n*j,C+=n*pe,n=e[4],c+=n*ee,f+=n*ie,h+=n*se,d+=n*fe,y+=n*ce,l+=n*le,p+=n*he,g+=n*de,m+=n*Ee,b+=n*I,v+=n*k,x+=n*U,D+=n*M,w+=n*P,C+=n*j,_+=n*pe,n=e[5],f+=n*ee,h+=n*ie,d+=n*se,y+=n*fe,l+=n*ce,p+=n*le,g+=n*he,m+=n*de,b+=n*Ee,v+=n*I,x+=n*k,D+=n*U,w+=n*M,C+=n*P,_+=n*j,F+=n*pe,n=e[6],h+=n*ee,d+=n*ie,y+=n*se,l+=n*fe,p+=n*ce,g+=n*le,m+=n*he,b+=n*de,v+=n*Ee,x+=n*I,D+=n*k,w+=n*U,C+=n*M,_+=n*P,F+=n*j,z+=n*pe,n=e[7],d+=n*ee,y+=n*ie,l+=n*se,p+=n*fe,g+=n*ce,m+=n*le,b+=n*he,v+=n*de,x+=n*Ee,D+=n*I,w+=n*k,C+=n*U,_+=n*M,F+=n*P,z+=n*j,Y+=n*pe,n=e[8],y+=n*ee,l+=n*ie,p+=n*se,g+=n*fe,m+=n*ce,b+=n*le,v+=n*he,x+=n*de,D+=n*Ee,w+=n*I,C+=n*k,_+=n*U,F+=n*M,z+=n*P,Y+=n*j,V+=n*pe,n=e[9],l+=n*ee,p+=n*ie,g+=n*se,m+=n*fe,b+=n*ce,v+=n*le,x+=n*he,D+=n*de,w+=n*Ee,C+=n*I,_+=n*k,F+=n*U,z+=n*M,Y+=n*P,V+=n*j,ue+=n*pe,n=e[10],p+=n*ee,g+=n*ie,m+=n*se,b+=n*fe,v+=n*ce,x+=n*le,D+=n*he,w+=n*de,C+=n*Ee,_+=n*I,F+=n*k,z+=n*U,Y+=n*M,V+=n*P,ue+=n*j,re+=n*pe,n=e[11],g+=n*ee,m+=n*ie,b+=n*se,v+=n*fe,x+=n*ce,D+=n*le,w+=n*he,C+=n*de,_+=n*Ee,F+=n*I,z+=n*k,Y+=n*U,V+=n*M,ue+=n*P,re+=n*j,$+=n*pe,n=e[12],m+=n*ee,b+=n*ie,v+=n*se,x+=n*fe,D+=n*ce,w+=n*le,C+=n*he,_+=n*de,F+=n*Ee,z+=n*I,Y+=n*k,V+=n*U,ue+=n*M,re+=n*P,$+=n*j,Q+=n*pe,n=e[13],b+=n*ee,v+=n*ie,x+=n*se,D+=n*fe,w+=n*ce,C+=n*le,_+=n*he,F+=n*de,z+=n*Ee,Y+=n*I,V+=n*k,ue+=n*U,re+=n*M,$+=n*P,Q+=n*j,T+=n*pe,n=e[14],v+=n*ee,x+=n*ie,D+=n*se,w+=n*fe,C+=n*ce,_+=n*le,F+=n*he,z+=n*de,Y+=n*Ee,V+=n*I,ue+=n*k,re+=n*U,$+=n*M,Q+=n*P,T+=n*j,Z+=n*pe,n=e[15],x+=n*ee,D+=n*ie,w+=n*se,C+=n*fe,_+=n*ce,F+=n*le,z+=n*he,Y+=n*de,V+=n*Ee,ue+=n*I,re+=n*k,$+=n*U,Q+=n*M,T+=n*P,Z+=n*j,_e+=n*pe,s+=38*D,o+=38*w,a+=38*C,u+=38*_,c+=38*F,f+=38*z,h+=38*Y,d+=38*V,y+=38*ue,l+=38*re,p+=38*$,g+=38*Q,m+=38*T,b+=38*Z,v+=38*_e,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=d,t[8]=y,t[9]=l,t[10]=p,t[11]=g,t[12]=m,t[13]=b,t[14]=v,t[15]=x}function ra(t,e){mn(t,e,e)}function RT(t,e){let r=Mr();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)ra(r,r),n!==2&&n!==4&&mn(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}function ld(t,e){let r=new Uint8Array(32),n=new Float64Array(80),i=Mr(),s=Mr(),o=Mr(),a=Mr(),u=Mr(),c=Mr();for(let y=0;y<31;y++)r[y]=t[y];r[31]=t[31]&127|64,r[0]&=248,NT(n,e);for(let y=0;y<16;y++)s[y]=n[y];i[0]=a[0]=1;for(let y=254;y>=0;--y){let l=r[y>>>3]>>>(y&7)&1;ta(i,s,l),ta(o,a,l),_c(u,i,o),Bc(i,i,o),_c(o,s,a),Bc(s,s,a),ra(a,u),ra(c,i),mn(i,o,i),mn(o,s,u),_c(u,i,o),Bc(i,i,o),ra(s,i),Bc(o,a,c),mn(i,o,kT),_c(i,i,a),mn(o,o,i),mn(i,a,c),mn(a,s,n),ra(s,u),ta(i,s,l),ta(o,a,l)}for(let y=0;y<16;y++)n[y+16]=i[y],n[y+32]=o[y],n[y+48]=s[y],n[y+64]=a[y];let f=n.subarray(32),h=n.subarray(16);RT(f,f),mn(h,h,f);let d=new Uint8Array(32);return OT(d,h),d}We.scalarMult=ld;function Ib(t){return ld(t,Tb)}We.scalarMultBase=Ib;function kb(t){if(t.length!==We.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${We.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:Ib(e),secretKey:e}}We.generateKeyPairFromSeed=kb;function UT(t){let e=(0,TT.randomBytes)(32,t),r=kb(e);return(0,IT.wipe)(e),r}We.generateKeyPair=UT;function FT(t,e,r=!1){if(t.length!==We.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==We.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=ld(t,e);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}We.sharedKey=FT});var Rb=S($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Ic=ea(),Tc=Lr();$n.DIGEST_LENGTH=32;$n.BLOCK_SIZE=64;var Nb=function(){function t(){this.digestLength=$n.DIGEST_LENGTH,this.blockSize=$n.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){Tc.wipe(this._buffer),Tc.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(hd(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=hd(this._temp,this._state,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%64<56?64:128;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;Ic.writeUint32BE(i,this._buffer,o-8),Ic.writeUint32BE(s,this._buffer,o-4),hd(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)Ic.writeUint32BE(this._state[a],e,a*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){Tc.wipe(e.state),e.buffer&&Tc.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();$n.SHA256=Nb;var LT=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function hd(t,e,r,n,i){for(;i>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],c=e[4],f=e[5],h=e[6],d=e[7],y=0;y<16;y++){var l=n+y*4;t[y]=Ic.readUint32BE(r,l)}for(var y=16;y<64;y++){var p=t[y-2],g=(p>>>17|p<<32-17)^(p>>>19|p<<32-19)^p>>>10;p=t[y-15];var m=(p>>>7|p<<32-7)^(p>>>18|p<<32-18)^p>>>3;t[y]=(g+t[y-7]|0)+(m+t[y-16]|0)}for(var y=0;y<64;y++){var g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&h)|0)+(d+(LT[y]+t[y]|0)|0)|0,m=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;d=h,h=f,f=c,c=u+g|0,u=a,a=o,o=s,s=g+m|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=c,e[5]+=f,e[6]+=h,e[7]+=d,n+=64,i-=64}return n}function PT(t){var e=new Nb;e.update(t);var r=e.digest();return e.clean(),r}$n.hash=PT});var Fb=S(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});var wt=ea(),dd=Lr(),MT=20;function qT(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],l=r[31]<<24|r[30]<<16|r[29]<<8|r[28],p=e[3]<<24|e[2]<<16|e[1]<<8|e[0],g=e[7]<<24|e[6]<<16|e[5]<<8|e[4],m=e[11]<<24|e[10]<<16|e[9]<<8|e[8],b=e[15]<<24|e[14]<<16|e[13]<<8|e[12],v=n,x=i,D=s,w=o,C=a,_=u,F=c,z=f,Y=h,V=d,ue=y,re=l,$=p,Q=g,T=m,Z=b,_e=0;_e<MT;_e+=2)v=v+C|0,$^=v,$=$>>>32-16|$<<16,Y=Y+$|0,C^=Y,C=C>>>32-12|C<<12,x=x+_|0,Q^=x,Q=Q>>>32-16|Q<<16,V=V+Q|0,_^=V,_=_>>>32-12|_<<12,D=D+F|0,T^=D,T=T>>>32-16|T<<16,ue=ue+T|0,F^=ue,F=F>>>32-12|F<<12,w=w+z|0,Z^=w,Z=Z>>>32-16|Z<<16,re=re+Z|0,z^=re,z=z>>>32-12|z<<12,D=D+F|0,T^=D,T=T>>>32-8|T<<8,ue=ue+T|0,F^=ue,F=F>>>32-7|F<<7,w=w+z|0,Z^=w,Z=Z>>>32-8|Z<<8,re=re+Z|0,z^=re,z=z>>>32-7|z<<7,x=x+_|0,Q^=x,Q=Q>>>32-8|Q<<8,V=V+Q|0,_^=V,_=_>>>32-7|_<<7,v=v+C|0,$^=v,$=$>>>32-8|$<<8,Y=Y+$|0,C^=Y,C=C>>>32-7|C<<7,v=v+_|0,Z^=v,Z=Z>>>32-16|Z<<16,ue=ue+Z|0,_^=ue,_=_>>>32-12|_<<12,x=x+F|0,$^=x,$=$>>>32-16|$<<16,re=re+$|0,F^=re,F=F>>>32-12|F<<12,D=D+z|0,Q^=D,Q=Q>>>32-16|Q<<16,Y=Y+Q|0,z^=Y,z=z>>>32-12|z<<12,w=w+C|0,T^=w,T=T>>>32-16|T<<16,V=V+T|0,C^=V,C=C>>>32-12|C<<12,D=D+z|0,Q^=D,Q=Q>>>32-8|Q<<8,Y=Y+Q|0,z^=Y,z=z>>>32-7|z<<7,w=w+C|0,T^=w,T=T>>>32-8|T<<8,V=V+T|0,C^=V,C=C>>>32-7|C<<7,x=x+F|0,$^=x,$=$>>>32-8|$<<8,re=re+$|0,F^=re,F=F>>>32-7|F<<7,v=v+_|0,Z^=v,Z=Z>>>32-8|Z<<8,ue=ue+Z|0,_^=ue,_=_>>>32-7|_<<7;wt.writeUint32LE(v+n|0,t,0),wt.writeUint32LE(x+i|0,t,4),wt.writeUint32LE(D+s|0,t,8),wt.writeUint32LE(w+o|0,t,12),wt.writeUint32LE(C+a|0,t,16),wt.writeUint32LE(_+u|0,t,20),wt.writeUint32LE(F+c|0,t,24),wt.writeUint32LE(z+f|0,t,28),wt.writeUint32LE(Y+h|0,t,32),wt.writeUint32LE(V+d|0,t,36),wt.writeUint32LE(ue+y|0,t,40),wt.writeUint32LE(re+l|0,t,44),wt.writeUint32LE($+p|0,t,48),wt.writeUint32LE(Q+g|0,t,52),wt.writeUint32LE(T+m|0,t,56),wt.writeUint32LE(Z+b|0,t,60)}function Ub(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<r.length;u+=64){qT(a,s,t);for(var c=u;c<u+64&&c<r.length;c++)n[c]=r[c]^a[c-u];VT(s,0,o)}return dd.wipe(a),i===0&&dd.wipe(s),n}kc.streamXOR=Ub;function KT(t,e,r,n){return n===void 0&&(n=0),dd.wipe(r),Ub(t,e,r,r,n)}kc.stream=KT;function VT(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var Pb=S(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var zT=Dc(),Oc=Lr();bn.DIGEST_LENGTH=16;var Lb=function(){function t(e){this.digestLength=bn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var c=e[14]|e[15]<<8;this._r[8]=(u>>>8|c<<8)&8191,this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,n){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],c=this._h[4],f=this._h[5],h=this._h[6],d=this._h[7],y=this._h[8],l=this._h[9],p=this._r[0],g=this._r[1],m=this._r[2],b=this._r[3],v=this._r[4],x=this._r[5],D=this._r[6],w=this._r[7],C=this._r[8],_=this._r[9];n>=16;){var F=e[r+0]|e[r+1]<<8;s+=F&8191;var z=e[r+2]|e[r+3]<<8;o+=(F>>>13|z<<3)&8191;var Y=e[r+4]|e[r+5]<<8;a+=(z>>>10|Y<<6)&8191;var V=e[r+6]|e[r+7]<<8;u+=(Y>>>7|V<<9)&8191;var ue=e[r+8]|e[r+9]<<8;c+=(V>>>4|ue<<12)&8191,f+=ue>>>1&8191;var re=e[r+10]|e[r+11]<<8;h+=(ue>>>14|re<<2)&8191;var $=e[r+12]|e[r+13]<<8;d+=(re>>>11|$<<5)&8191;var Q=e[r+14]|e[r+15]<<8;y+=($>>>8|Q<<8)&8191,l+=Q>>>5|i;var T=0,Z=T;Z+=s*p,Z+=o*(5*_),Z+=a*(5*C),Z+=u*(5*w),Z+=c*(5*D),T=Z>>>13,Z&=8191,Z+=f*(5*x),Z+=h*(5*v),Z+=d*(5*b),Z+=y*(5*m),Z+=l*(5*g),T+=Z>>>13,Z&=8191;var _e=T;_e+=s*g,_e+=o*p,_e+=a*(5*_),_e+=u*(5*C),_e+=c*(5*w),T=_e>>>13,_e&=8191,_e+=f*(5*D),_e+=h*(5*x),_e+=d*(5*v),_e+=y*(5*b),_e+=l*(5*m),T+=_e>>>13,_e&=8191;var ee=T;ee+=s*m,ee+=o*g,ee+=a*p,ee+=u*(5*_),ee+=c*(5*C),T=ee>>>13,ee&=8191,ee+=f*(5*w),ee+=h*(5*D),ee+=d*(5*x),ee+=y*(5*v),ee+=l*(5*b),T+=ee>>>13,ee&=8191;var ie=T;ie+=s*b,ie+=o*m,ie+=a*g,ie+=u*p,ie+=c*(5*_),T=ie>>>13,ie&=8191,ie+=f*(5*C),ie+=h*(5*w),ie+=d*(5*D),ie+=y*(5*x),ie+=l*(5*v),T+=ie>>>13,ie&=8191;var se=T;se+=s*v,se+=o*b,se+=a*m,se+=u*g,se+=c*p,T=se>>>13,se&=8191,se+=f*(5*_),se+=h*(5*C),se+=d*(5*w),se+=y*(5*D),se+=l*(5*x),T+=se>>>13,se&=8191;var fe=T;fe+=s*x,fe+=o*v,fe+=a*b,fe+=u*m,fe+=c*g,T=fe>>>13,fe&=8191,fe+=f*p,fe+=h*(5*_),fe+=d*(5*C),fe+=y*(5*w),fe+=l*(5*D),T+=fe>>>13,fe&=8191;var ce=T;ce+=s*D,ce+=o*x,ce+=a*v,ce+=u*b,ce+=c*m,T=ce>>>13,ce&=8191,ce+=f*g,ce+=h*p,ce+=d*(5*_),ce+=y*(5*C),ce+=l*(5*w),T+=ce>>>13,ce&=8191;var le=T;le+=s*w,le+=o*D,le+=a*x,le+=u*v,le+=c*b,T=le>>>13,le&=8191,le+=f*m,le+=h*g,le+=d*p,le+=y*(5*_),le+=l*(5*C),T+=le>>>13,le&=8191;var he=T;he+=s*C,he+=o*w,he+=a*D,he+=u*x,he+=c*v,T=he>>>13,he&=8191,he+=f*b,he+=h*m,he+=d*g,he+=y*p,he+=l*(5*_),T+=he>>>13,he&=8191;var de=T;de+=s*_,de+=o*C,de+=a*w,de+=u*D,de+=c*x,T=de>>>13,de&=8191,de+=f*v,de+=h*b,de+=d*m,de+=y*g,de+=l*p,T+=de>>>13,de&=8191,T=(T<<2)+T|0,T=T+Z|0,Z=T&8191,T=T>>>13,_e+=T,s=Z,o=_e,a=ee,u=ie,c=se,f=fe,h=ce,d=le,y=he,l=de,r+=16,n-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=c,this._h[5]=f,this._h[6]=h,this._h[7]=d,this._h[8]=y,this._h[9]=l},t.prototype.finish=function(e,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,a=1;a<10;a++)n[a]=this._h[a]+i,i=n[a]>>>13,n[a]&=8191;for(n[9]-=1<<13,s=(i^1)-1,a=0;a<10;a++)n[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|n[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return Oc.wipe(this._buffer),Oc.wipe(this._r),Oc.wipe(this._h),Oc.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();bn.Poly1305=Lb;function HT(t,e){var r=new Lb(t);r.update(e);var n=r.digest();return r.clean(),n}bn.oneTimeAuth=HT;function $T(t,e){return t.length!==bn.DIGEST_LENGTH||e.length!==bn.DIGEST_LENGTH?!1:zT.equal(t,e)}bn.equal=$T});var Kb=S(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Nc=Fb(),jT=Pb(),na=Lr(),Mb=ea(),GT=Dc();xn.KEY_LENGTH=32;xn.NONCE_LENGTH=12;xn.TAG_LENGTH=16;var qb=new Uint8Array(16),WT=function(){function t(e){if(this.nonceLength=xn.NONCE_LENGTH,this.tagLength=xn.TAG_LENGTH,e.length!==xn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Nc.stream(this._key,s,o,4);var a=r.length+this.tagLength,u;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(a);return Nc.streamXOR(this._key,s,r,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),n),na.wipe(s),u},t.prototype.open=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Nc.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,r.subarray(0,r.length-this.tagLength),n),!GT.equal(a,r.subarray(r.length-this.tagLength,r.length)))return null;var u=r.length-this.tagLength,c;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return Nc.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),c,4),na.wipe(s),c},t.prototype.clean=function(){return na.wipe(this._key),this},t.prototype._authenticate=function(e,r,n,i){var s=new jT.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(qb.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(qb.subarray(n.length%16));var o=new Uint8Array(8);i&&Mb.writeUint64LE(i.length,o),s.update(o),Mb.writeUint64LE(n.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),na.wipe(a),na.wipe(o)},t}();xn.ChaCha20Poly1305=WT});var Zb=S((KV,Yb)=>{Yb.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var tx=S((zV,ex)=>{var Qb=Zb();ex.exports=class{constructor(e){this.hwm=e||16,this.head=new Qb(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new Qb(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}});var nx=S((HV,rx)=>{var bd=tx();rx.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new bd,n,i,s,o=()=>{if(!r.isEmpty()){if(t.writev){let p,g=[];for(;!r.isEmpty();){if(p=r.shift(),p.error)throw p.error;g.push(p.value)}return{done:p.done,value:g}}let l=r.shift();if(l.error)throw l.error;return l}return s?{done:!0}:new Promise((l,p)=>{i=g=>(i=null,g.error?p(g.error):t.writev&&!g.done?l({done:g.done,value:[g.value]}):l(g),n)})},a=l=>i?i(l):(r.push(l),n),u=l=>(r=new bd,i?i({error:l}):(r.push({error:l}),n)),c=l=>s?n:a({done:!1,value:l}),f=l=>s?n:(s=!0,l?u(l):a({done:!0})),h=()=>(r=new bd,f(),{done:!0}),d=l=>(f(l),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:o,return:h,throw:d,push:c,end:f},!e)return n;let y=n;return n={[Symbol.asyncIterator](){return this},next(){return y.next()},throw(l){return y.throw(l),e&&(e(l),e=null),{done:!0}},return(){return y.return(),e&&(e(),e=null),{done:!0}},push:c,end(l){return y.end(l),e&&(e(l),e=null),n}},n}});var sx=S(($V,ix)=>{"use strict";var aI=nx(),uI=async function*(...t){let e=aI();setTimeout(async()=>{try{await Promise.all(t.map(async r=>{for await(let n of r)e.push(n)})),e.end()}catch(r){e.end(r)}},0),yield*e};ix.exports=uI});var vd=S((oz,xx)=>{"use strict";xx.exports=hI;function hI(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(f){if(s)if(s=!1,f)u(f);else{for(var h=new Array(arguments.length-1),d=0;d<h.length;)h[d++]=arguments[d];a.apply(null,h)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,u(c))}})}});var Ex=S(wx=>{"use strict";var Lc=wx;Lc.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var qs=new Array(64),Dx=new Array(123);for(yr=0;yr<64;)Dx[qs[yr]=yr<26?yr+65:yr<52?yr+71:yr<62?yr-4:yr-59|43]=yr++;var yr;Lc.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,u;r<n;){var c=e[r++];switch(a){case 0:s[o++]=qs[c>>2],u=(c&3)<<4,a=1;break;case 1:s[o++]=qs[u|c>>4],u=(c&15)<<2,a=2;break;case 2:s[o++]=qs[u|c>>6],s[o++]=qs[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=qs[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var vx="invalid encoding";Lc.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=Dx[u])===void 0)throw Error(vx);switch(s){case 0:o=u,s=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:r[n++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(vx);return n-i};Lc.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Cx=S((uz,Sx)=>{"use strict";Sx.exports=Pc;function Pc(){this._listeners={}}Pc.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Pc.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Pc.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Ox=S((cz,kx)=>{"use strict";kx.exports=Ax(Ax);function Ax(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3]}function s(u,c,f){e[0]=u,c[f]=r[3],c[f+1]=r[2],c[f+2]=r[1],c[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],e[0]}function a(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|c)>>>0,s,o)}}t.writeFloatLE=e.bind(null,_x),t.writeFloatBE=e.bind(null,Bx);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,u=o>>>23&255,c=o&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}t.readFloatLE=r.bind(null,Tx),t.readFloatBE=r.bind(null,Ix)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3],c[f+4]=r[4],c[f+5]=r[5],c[f+6]=r[6],c[f+7]=r[7]}function s(u,c,f){e[0]=u,c[f]=r[7],c[f+1]=r[6],c[f+2]=r[5],c[f+3]=r[4],c[f+4]=r[3],c[f+5]=r[2],c[f+6]=r[1],c[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],e[0]}function a(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,u){var c=o<0?1:0;if(c&&(o=-o),o===0)n(0,a,u+i),n(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))n(0,a,u+i),n(2146959360,a,u+s);else if(o>17976931348623157e292)n(0,a,u+i),n((c<<31|2146435072)>>>0,a,u+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,a,u+i),n((c<<31|f/4294967296)>>>0,a,u+s);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),f=o*Math.pow(2,-h),n(f*4503599627370496>>>0,a,u+i),n((c<<31|h+1023<<20|f*1048576&1048575)>>>0,a,u+s)}}}t.writeDoubleLE=e.bind(null,_x,0,4),t.writeDoubleBE=e.bind(null,Bx,4,0);function r(n,i,s,o,a){var u=n(o,a+i),c=n(o,a+s),f=(c>>31)*2+1,h=c>>>20&2047,d=4294967296*(c&1048575)+u;return h===2047?d?NaN:f*(1/0):h===0?f*5e-324*d:f*Math.pow(2,h-1075)*(d+4503599627370496)}t.readDoubleLE=r.bind(null,Tx,0,4),t.readDoubleBE=r.bind(null,Ix,4,0)}(),t}function _x(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Bx(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Tx(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Ix(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Dd=S((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Rx=S(Nx=>{"use strict";var wd=Nx;wd.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};wd.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,u;r<n;)u=e[r++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};wd.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var Fx=S((lz,Ux)=>{"use strict";Ux.exports=dI;function dI(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(s=t(n),o=0);var c=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),c}}});var Px=S((hz,Lx)=>{"use strict";Lx.exports=ft;var ca=qr();function ft(t,e){this.lo=t>>>0,this.hi=e>>>0}var Ci=ft.zero=new ft(0,0);Ci.toNumber=function(){return 0};Ci.zzEncode=Ci.zzDecode=function(){return this};Ci.length=function(){return 1};var pI=ft.zeroHash="\0\0\0\0\0\0\0\0";ft.fromNumber=function(e){if(e===0)return Ci;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new ft(n,i)};ft.from=function(e){if(typeof e=="number")return ft.fromNumber(e);if(ca.isString(e))if(ca.Long)e=ca.Long.fromString(e);else return ft.fromNumber(parseInt(e,10));return e.low||e.high?new ft(e.low>>>0,e.high>>>0):Ci};ft.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};ft.prototype.toLong=function(e){return ca.Long?new ca.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var jn=String.prototype.charCodeAt;ft.fromHash=function(e){return e===pI?Ci:new ft((jn.call(e,0)|jn.call(e,1)<<8|jn.call(e,2)<<16|jn.call(e,3)<<24)>>>0,(jn.call(e,4)|jn.call(e,5)<<8|jn.call(e,6)<<16|jn.call(e,7)<<24)>>>0)};ft.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};ft.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};ft.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};ft.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var qr=S(Ed=>{"use strict";var H=Ed;H.asPromise=vd();H.base64=Ex();H.EventEmitter=Cx();H.float=Ox();H.inquire=Dd();H.utf8=Rx();H.pool=Fx();H.LongBits=Px();H.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);H.global=H.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||Ed;H.emptyArray=Object.freeze?Object.freeze([]):[];H.emptyObject=Object.freeze?Object.freeze({}):{};H.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};H.isString=function(e){return typeof e=="string"||e instanceof String};H.isObject=function(e){return e&&typeof e=="object"};H.isset=H.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};H.Buffer=function(){try{var t=H.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();H._Buffer_from=null;H._Buffer_allocUnsafe=null;H.newBuffer=function(e){return typeof e=="number"?H.Buffer?H._Buffer_allocUnsafe(e):new H.Array(e):H.Buffer?H._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};H.Array=typeof Uint8Array<"u"?Uint8Array:Array;H.Long=H.global.dcodeIO&&H.global.dcodeIO.Long||H.global.Long||H.inquire("long");H.key2Re=/^true|false|0|1$/;H.key32Re=/^-?(?:0|[1-9][0-9]*)$/;H.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;H.longToHash=function(e){return e?H.LongBits.from(e).toHash():H.LongBits.zeroHash};H.longFromHash=function(e,r){var n=H.LongBits.fromHash(e);return H.Long?H.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function Mx(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}H.merge=Mx;H.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function qx(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Mx(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}H.newError=qx;H.ProtocolError=qx("ProtocolError");H.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};H.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};H.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};H._configure=function(){var t=H.Buffer;if(!t){H._Buffer_from=H._Buffer_allocUnsafe=null;return}H._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},H._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var qc=S((pz,Hx)=>{"use strict";Hx.exports=ve;var Jt=qr(),Sd,Mc=Jt.LongBits,Kx=Jt.base64,Vx=Jt.utf8;function fa(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Ad(){}function yI(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function ve(){this.len=0,this.head=new fa(Ad,0,0),this.tail=this.head,this.states=null}var zx=function(){return Jt.Buffer?function(){return(ve.create=function(){return new Sd})()}:function(){return new ve}};ve.create=zx();ve.alloc=function(e){return new Jt.Array(e)};Jt.Array!==Array&&(ve.alloc=Jt.pool(ve.alloc,Jt.Array.prototype.subarray));ve.prototype._push=function(e,r,n){return this.tail=this.tail.next=new fa(e,r,n),this.len+=r,this};function _d(t,e,r){e[r]=t&255}function gI(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Bd(t,e){this.len=t,this.next=void 0,this.val=e}Bd.prototype=Object.create(fa.prototype);Bd.prototype.fn=gI;ve.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Bd((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};ve.prototype.int32=function(e){return e<0?this._push(Td,10,Mc.fromNumber(e)):this.uint32(e)};ve.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Td(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}ve.prototype.uint64=function(e){var r=Mc.from(e);return this._push(Td,r.length(),r)};ve.prototype.int64=ve.prototype.uint64;ve.prototype.sint64=function(e){var r=Mc.from(e).zzEncode();return this._push(Td,r.length(),r)};ve.prototype.bool=function(e){return this._push(_d,1,e?1:0)};function Cd(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}ve.prototype.fixed32=function(e){return this._push(Cd,4,e>>>0)};ve.prototype.sfixed32=ve.prototype.fixed32;ve.prototype.fixed64=function(e){var r=Mc.from(e);return this._push(Cd,4,r.lo)._push(Cd,4,r.hi)};ve.prototype.sfixed64=ve.prototype.fixed64;ve.prototype.float=function(e){return this._push(Jt.float.writeFloatLE,4,e)};ve.prototype.double=function(e){return this._push(Jt.float.writeDoubleLE,8,e)};var mI=Jt.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};ve.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(_d,1,0);if(Jt.isString(e)){var n=ve.alloc(r=Kx.length(e));Kx.decode(e,n,0),e=n}return this.uint32(r)._push(mI,r,e)};ve.prototype.string=function(e){var r=Vx.length(e);return r?this.uint32(r)._push(Vx.write,r,e):this._push(_d,1,0)};ve.prototype.fork=function(){return this.states=new yI(this),this.head=this.tail=new fa(Ad,0,0),this.len=0,this};ve.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new fa(Ad,0,0),this.len=0),this};ve.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};ve.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};ve._configure=function(t){Sd=t,ve.create=zx(),Sd._configure()}});var Gx=S((yz,jx)=>{"use strict";jx.exports=Kr;var $x=qc();(Kr.prototype=Object.create($x.prototype)).constructor=Kr;var Gn=qr();function Kr(){$x.call(this)}Kr._configure=function(){Kr.alloc=Gn._Buffer_allocUnsafe,Kr.writeBytesBuffer=Gn.Buffer&&Gn.Buffer.prototype instanceof Uint8Array&&Gn.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Kr.prototype.bytes=function(e){Gn.isString(e)&&(e=Gn._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Kr.writeBytesBuffer,r,e),this};function bI(t,e,r){t.length<40?Gn.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Kr.prototype.string=function(e){var r=Gn.Buffer.byteLength(e);return this.uint32(r),r&&this._push(bI,r,e),this};Kr._configure()});var Vc=S((gz,Zx)=>{"use strict";Zx.exports=Ze;var Vr=qr(),kd,Jx=Vr.LongBits,xI=Vr.utf8;function gr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Ze(t){this.buf=t,this.pos=0,this.len=t.length}var Wx=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ze(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ze(e);throw Error("illegal buffer")},Yx=function(){return Vr.Buffer?function(r){return(Ze.create=function(i){return Vr.Buffer.isBuffer(i)?new kd(i):Wx(i)})(r)}:Wx};Ze.create=Yx();Ze.prototype._slice=Vr.Array.prototype.subarray||Vr.Array.prototype.slice;Ze.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,gr(this,10);return e}}();Ze.prototype.int32=function(){return this.uint32()|0};Ze.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Id(){var t=new Jx(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw gr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw gr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Ze.prototype.bool=function(){return this.uint32()!==0};function Kc(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Ze.prototype.fixed32=function(){if(this.pos+4>this.len)throw gr(this,4);return Kc(this.buf,this.pos+=4)};Ze.prototype.sfixed32=function(){if(this.pos+4>this.len)throw gr(this,4);return Kc(this.buf,this.pos+=4)|0};function Xx(){if(this.pos+8>this.len)throw gr(this,8);return new Jx(Kc(this.buf,this.pos+=4),Kc(this.buf,this.pos+=4))}Ze.prototype.float=function(){if(this.pos+4>this.len)throw gr(this,4);var e=Vr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ze.prototype.double=function(){if(this.pos+8>this.len)throw gr(this,4);var e=Vr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ze.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw gr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Ze.prototype.string=function(){var e=this.bytes();return xI.read(e,0,e.length)};Ze.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw gr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw gr(this);while(this.buf[this.pos++]&128);return this};Ze.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Ze._configure=function(t){kd=t,Ze.create=Yx(),kd._configure();var e=Vr.Long?"toLong":"toNumber";Vr.merge(Ze.prototype,{int64:function(){return Id.call(this)[e](!1)},uint64:function(){return Id.call(this)[e](!0)},sint64:function(){return Id.call(this).zzDecode()[e](!1)},fixed64:function(){return Xx.call(this)[e](!0)},sfixed64:function(){return Xx.call(this)[e](!1)}})}});var r3=S((mz,t3)=>{"use strict";t3.exports=Ai;var e3=Vc();(Ai.prototype=Object.create(e3.prototype)).constructor=Ai;var Qx=qr();function Ai(t){e3.call(this,t)}Ai._configure=function(){Qx.Buffer&&(Ai.prototype._slice=Qx.Buffer.prototype.slice)};Ai.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ai._configure()});var i3=S((bz,n3)=>{"use strict";n3.exports=la;var Od=qr();(la.prototype=Object.create(Od.EventEmitter.prototype)).constructor=la;function la(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");Od.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}la.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return Od.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,c){if(u)return o.emit("error",u,e),s(u);if(c===null){o.end(!0);return}if(!(c instanceof n))try{c=n[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};la.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Nd=S(s3=>{"use strict";var vI=s3;vI.Service=i3()});var Rd=S((vz,o3)=>{"use strict";o3.exports={}});var c3=S(u3=>{"use strict";var Nt=u3;Nt.build="minimal";Nt.Writer=qc();Nt.BufferWriter=Gx();Nt.Reader=Vc();Nt.BufferReader=r3();Nt.util=qr();Nt.rpc=Nd();Nt.roots=Rd();Nt.configure=a3;function a3(){Nt.util._configure(),Nt.Writer._configure(Nt.BufferWriter),Nt.Reader._configure(Nt.BufferReader)}a3()});var l3=S((wz,f3)=>{"use strict";f3.exports=Ud;function Ud(t,e){typeof t=="string"&&(e=t,t=void 0);var r=[];function n(s){if(typeof s!="string"){var o=i();if(Ud.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),u=new Array(a.length+1),c=new Array(a.length),f=0;f<a.length;)u[f]=a[f],c[f]=s[a[f++]];return u[f]=o,Function.apply(null,u).apply(null,c)}return Function(o)()}for(var h=new Array(arguments.length-1),d=0;d<h.length;)h[d]=arguments[++d];if(d=0,s=s.replace(/%([%dfijs])/g,function(l,p){var g=h[d++];switch(p){case"d":case"f":return String(Number(g));case"i":return String(Math.floor(g));case"j":return JSON.stringify(g);case"s":return String(g)}return"%"}),d!==h.length)throw Error("parameter count mismatch");return r.push(s),n}function i(s){return"function "+(s||e||"")+"("+(t&&t.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return n.toString=i,n}Ud.verbose=!1});var d3=S((Ez,h3)=>{"use strict";h3.exports=ha;var DI=vd(),wI=Dd(),Fd=wI("fs");function ha(t,e,r){return typeof e=="function"?(r=e,e={}):e||(e={}),r?!e.xhr&&Fd&&Fd.readFile?Fd.readFile(t,function(i,s){return i&&typeof XMLHttpRequest<"u"?ha.xhr(t,e,r):i?r(i):r(null,e.binary?s:s.toString("utf8"))}):ha.xhr(t,e,r):DI(ha,this,t,e)}ha.xhr=function(e,r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return n(Error("status "+i.status));if(r.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return n(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return n(null,i.responseText)}},r.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var g3=S(y3=>{"use strict";var Pd=y3,p3=Pd.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},Ld=Pd.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=e.split("/"),n=p3(e),i="";n&&(i=r.shift()+"/");for(var s=0;s<r.length;)r[s]===".."?s>0&&r[s-1]!==".."?r.splice(--s,2):n?r.splice(s,1):++s:r[s]==="."?r.splice(s,1):++s;return i+r.join("/")};Pd.resolve=function(e,r,n){return n||(r=Ld(r)),p3(r)?r:(n||(e=Ld(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?Ld(e+"/"+r):r)}});var _i=S(m3=>{"use strict";var da=m3,EI=lt(),SI=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function pa(t,e){var r=0,n={};for(e|=0;r<t.length;)n[SI[r+e]]=t[r++];return n}da.basic=pa([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);da.defaults=pa([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",EI.emptyArray,null]);da.long=pa([0,0,0,1,1],7);da.mapKey=pa([0,0,0,5,5,0,0,0,1,1,0,2],2);da.packed=pa([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Wn=S((Az,v3)=>{"use strict";v3.exports=Yt;var zc=Bi();((Yt.prototype=Object.create(zc.prototype)).constructor=Yt).className="Field";var b3=mr(),x3=_i(),rt=lt(),Md,CI=/^required|optional|repeated$/;Yt.fromJSON=function(e,r){return new Yt(e,r.id,r.type,r.rule,r.extend,r.options,r.comment)};function Yt(t,e,r,n,i,s,o){if(rt.isObject(n)?(o=i,s=n,n=i=void 0):rt.isObject(i)&&(o=s,s=i,i=void 0),zc.call(this,t,s),!rt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!rt.isString(r))throw TypeError("type must be a string");if(n!==void 0&&!CI.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!rt.isString(i))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=r,this.id=e,this.extend=i||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=rt.Long?x3.long[r]!==void 0:!1,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(Yt.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Yt.prototype.setOption=function(e,r,n){return e==="packed"&&(this._packed=null),zc.prototype.setOption.call(this,e,r,n)};Yt.prototype.toJSON=function(e){var r=e?Boolean(e.keepComments):!1;return rt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};Yt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=x3.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Md?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof b3&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof b3))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=rt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;rt.base64.test(this.typeDefault)?rt.base64.decode(this.typeDefault,e=rt.newBuffer(rt.base64.length(this.typeDefault)),0):rt.utf8.write(this.typeDefault,e=rt.newBuffer(rt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=rt.emptyObject:this.repeated?this.defaultValue=rt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Md&&(this.parent.ctor.prototype[this.name]=this.defaultValue),zc.prototype.resolve.call(this)};Yt.d=function(e,r,n,i){return typeof r=="function"?r=rt.decorateType(r).name:r&&typeof r=="object"&&(r=rt.decorateEnum(r).name),function(o,a){rt.decorateType(o.constructor).add(new Yt(a,e,r,n,{default:i}))}};Yt._configure=function(e){Md=e}});var Ks=S((_z,E3)=>{"use strict";E3.exports=Zt;var $c=Bi();((Zt.prototype=Object.create($c.prototype)).constructor=Zt).className="OneOf";var D3=Wn(),Hc=lt();function Zt(t,e,r,n){if(Array.isArray(e)||(r=e,e=void 0),$c.call(this,t,r),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=n}Zt.fromJSON=function(e,r){return new Zt(e,r.oneof,r.options,r.comment)};Zt.prototype.toJSON=function(e){var r=e?Boolean(e.keepComments):!1;return Hc.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function w3(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}Zt.prototype.add=function(e){if(!(e instanceof D3))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,w3(this),this};Zt.prototype.remove=function(e){if(!(e instanceof D3))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(e.name),r>-1&&this.oneof.splice(r,1),e.partOf=null,this};Zt.prototype.onAdd=function(e){$c.prototype.onAdd.call(this,e);for(var r=this,n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=r,r.fieldsArray.push(i))}w3(this)};Zt.prototype.onRemove=function(e){for(var r=0,n;r<this.fieldsArray.length;++r)(n=this.fieldsArray[r]).parent&&n.parent.remove(n);$c.prototype.onRemove.call(this,e)};Zt.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(i,s){Hc.decorateType(i.constructor).add(new Zt(s,e)),Object.defineProperty(i,s,{get:Hc.oneOfGetter(e),set:Hc.oneOfSetter(e)})}}});var Hs=S((Bz,_3)=>{"use strict";_3.exports=we;var qd=Bi();((we.prototype=Object.create(qd.prototype)).constructor=we).className="Namespace";var S3=Wn(),jc=lt(),AI=Ks(),Vs,ya,zs;we.fromJSON=function(e,r){return new we(e,r.options).addJSON(r.nested)};function C3(t,e){if(!!(t&&t.length)){for(var r={},n=0;n<t.length;++n)r[t[n].name]=t[n].toJSON(e);return r}}we.arrayToJSON=C3;we.isReservedId=function(e,r){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!="string"&&e[n][0]<=r&&e[n][1]>r)return!0}return!1};we.isReservedName=function(e,r){if(e){for(var n=0;n<e.length;++n)if(e[n]===r)return!0}return!1};function we(t,e){qd.call(this,t,e),this.nested=void 0,this._nestedArray=null}function A3(t){return t._nestedArray=null,t}Object.defineProperty(we.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=jc.toArray(this.nested))}});we.prototype.toJSON=function(e){return jc.toObject(["options",this.options,"nested",C3(this.nestedArray,e)])};we.prototype.addJSON=function(e){var r=this;if(e)for(var n=Object.keys(e),i=0,s;i<n.length;++i)s=e[n[i]],r.add((s.fields!==void 0?Vs.fromJSON:s.values!==void 0?zs.fromJSON:s.methods!==void 0?ya.fromJSON:s.id!==void 0?S3.fromJSON:we.fromJSON)(n[i],s));return this};we.prototype.get=function(e){return this.nested&&this.nested[e]||null};we.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof zs)return this.nested[e].values;throw Error("no such enum: "+e)};we.prototype.add=function(e){if(!(e instanceof S3&&e.extend!==void 0||e instanceof Vs||e instanceof AI||e instanceof zs||e instanceof ya||e instanceof we))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var r=this.get(e.name);if(r)if(r instanceof we&&e instanceof we&&!(r instanceof Vs||r instanceof ya)){for(var n=r.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(r),this.nested||(this.nested={}),e.setOptions(r.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),A3(this)};we.prototype.remove=function(e){if(!(e instanceof qd))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),A3(this)};we.prototype.define=function(e,r){if(jc.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var n=this;e.length>0;){var i=e.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof we))throw Error("path conflicts with non-namespace objects")}else n.add(n=new we(i))}return r&&n.addJSON(r),n};we.prototype.resolveAll=function(){for(var e=this.nestedArray,r=0;r<e.length;)e[r]instanceof we?e[r++].resolveAll():e[r++].resolve();return this.resolve()};we.prototype.lookup=function(e,r,n){if(typeof r=="boolean"?(n=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),jc.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),r);var i=this.get(e[0]);if(i){if(e.length===1){if(!r||r.indexOf(i.constructor)>-1)return i}else if(i instanceof we&&(i=i.lookup(e.slice(1),r,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof we&&(i=this._nestedArray[s].lookup(e,r,!0)))return i;return this.parent===null||n?null:this.parent.lookup(e,r)};we.prototype.lookupType=function(e){var r=this.lookup(e,[Vs]);if(!r)throw Error("no such type: "+e);return r};we.prototype.lookupEnum=function(e){var r=this.lookup(e,[zs]);if(!r)throw Error("no such Enum '"+e+"' in "+this);return r};we.prototype.lookupTypeOrEnum=function(e){var r=this.lookup(e,[Vs,zs]);if(!r)throw Error("no such Type or Enum '"+e+"' in "+this);return r};we.prototype.lookupService=function(e){var r=this.lookup(e,[ya]);if(!r)throw Error("no such Service '"+e+"' in "+this);return r};we._configure=function(t,e,r){Vs=t,ya=e,zs=r}});var Gc=S((Tz,B3)=>{"use strict";B3.exports=wn;var Kd=Wn();((wn.prototype=Object.create(Kd.prototype)).constructor=wn).className="MapField";var _I=_i(),ga=lt();function wn(t,e,r,n,i,s){if(Kd.call(this,t,e,n,void 0,void 0,i,s),!ga.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}wn.fromJSON=function(e,r){return new wn(e,r.id,r.keyType,r.type,r.options,r.comment)};wn.prototype.toJSON=function(e){var r=e?Boolean(e.keepComments):!1;return ga.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};wn.prototype.resolve=function(){if(this.resolved)return this;if(_I.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Kd.prototype.resolve.call(this)};wn.d=function(e,r,n){return typeof n=="function"?n=ga.decorateType(n).name:n&&typeof n=="object"&&(n=ga.decorateEnum(n).name),function(s,o){ga.decorateType(s.constructor).add(new wn(o,e,r,n))}}});var Wc=S((Iz,T3)=>{"use strict";T3.exports=Ti;var Vd=Bi();((Ti.prototype=Object.create(Vd.prototype)).constructor=Ti).className="Method";var $s=lt();function Ti(t,e,r,n,i,s,o,a,u){if($s.isObject(i)?(o=i,i=s=void 0):$s.isObject(s)&&(o=s,s=void 0),!(e===void 0||$s.isString(e)))throw TypeError("type must be a string");if(!$s.isString(r))throw TypeError("requestType must be a string");if(!$s.isString(n))throw TypeError("responseType must be a string");Vd.call(this,t,o),this.type=e||"rpc",this.requestType=r,this.requestStream=i?!0:void 0,this.responseType=n,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=u}Ti.fromJSON=function(e,r){return new Ti(e,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};Ti.prototype.toJSON=function(e){var r=e?Boolean(e.keepComments):!1;return $s.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};Ti.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Vd.prototype.resolve.call(this))}});var Xc=S((kz,k3)=>{"use strict";k3.exports=Qt;var Xn=Hs();((Qt.prototype=Object.create(Xn.prototype)).constructor=Qt).className="Service";var zd=Wc(),ma=lt(),BI=Nd();function Qt(t,e){Xn.call(this,t,e),this.methods={},this._methodsArray=null}Qt.fromJSON=function(e,r){var n=new Qt(e,r.options);if(r.methods)for(var i=Object.keys(r.methods),s=0;s<i.length;++s)n.add(zd.fromJSON(i[s],r.methods[i[s]]));return r.nested&&n.addJSON(r.nested),n.comment=r.comment,n};Qt.prototype.toJSON=function(e){var r=Xn.prototype.toJSON.call(this,e),n=e?Boolean(e.keepComments):!1;return ma.toObject(["options",r&&r.options||void 0,"methods",Xn.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};Object.defineProperty(Qt.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=ma.toArray(this.methods))}});function I3(t){return t._methodsArray=null,t}Qt.prototype.get=function(e){return this.methods[e]||Xn.prototype.get.call(this,e)};Qt.prototype.resolveAll=function(){for(var e=this.methodsArray,r=0;r<e.length;++r)e[r].resolve();return Xn.prototype.resolve.call(this)};Qt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof zd?(this.methods[e.name]=e,e.parent=this,I3(this)):Xn.prototype.add.call(this,e)};Qt.prototype.remove=function(e){if(e instanceof zd){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,I3(this)}return Xn.prototype.remove.call(this,e)};Qt.prototype.create=function(e,r,n){for(var i=new BI.Service(e,r,n),s=0,o;s<this.methodsArray.length;++s){var a=ma.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=ma.codegen(["r","c"],ma.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var Jc=S((Oz,O3)=>{"use strict";O3.exports=zr;var TI=qr();function zr(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]]}zr.create=function(e){return this.$type.create(e)};zr.encode=function(e,r){return this.$type.encode(e,r)};zr.encodeDelimited=function(e,r){return this.$type.encodeDelimited(e,r)};zr.decode=function(e){return this.$type.decode(e)};zr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};zr.verify=function(e){return this.$type.verify(e)};zr.fromObject=function(e){return this.$type.fromObject(e)};zr.toObject=function(e,r){return this.$type.toObject(e,r)};zr.prototype.toJSON=function(){return this.$type.toObject(this,TI.toJSONOptions)}});var Hd=S((Nz,R3)=>{"use strict";R3.exports=OI;var II=mr(),En=_i(),N3=lt();function kI(t){return"missing required '"+t.name+"'"}function OI(t){var e=N3.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var n=t._fieldsArray[r].resolve(),i=n.resolvedType instanceof II?"int32":n.type,s="m"+N3.safeProp(n.name);e("case %i: {",n.id),n.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),En.defaults[n.keyType]!==void 0?e("k=%j",En.defaults[n.keyType]):e("k=null"),En.defaults[i]!==void 0?e("value=%j",En.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),En.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),En.long[n.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):n.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),En.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),En.basic[i]===void 0?e(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,r):e("%s.push(r.%s())",s,i)):En.basic[i]===void 0?e(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,r):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var o=t._fieldsArray[r];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",kI(o))}return e("return m")}});var Gd=S((Rz,U3)=>{"use strict";U3.exports=UI;var NI=mr(),$d=lt();function er(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function jd(t,e,r,n){if(e.resolvedType)if(e.resolvedType instanceof NI){t("switch(%s){",n)("default:")("return%j",er(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)t("case %i:",e.resolvedType.values[i[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",n)("return%j",er(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",er(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',n)("return%j",er(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',n)("return%j",er(e,"boolean"));break;case"string":t("if(!util.isString(%s))",n)("return%j",er(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",er(e,"buffer"));break}return t}function RI(t,e,r){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",er(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",er(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",r)("return%j",er(e,"boolean key"));break}return t}function UI(t){var e=$d.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=t.oneofsArray,n={};r.length&&e("var p={}");for(var i=0;i<t.fieldsArray.length;++i){var s=t._fieldsArray[i].resolve(),o="m"+$d.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",er(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),RI(e,s,"k[i]"),jd(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",er(s,"array"))("for(var i=0;i<%s.length;++i){",o),jd(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=$d.safeProp(s.partOf.name);n[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),n[s.partOf.name]=1,e("p%s=1",a)}jd(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var Jd=S(L3=>{"use strict";var F3=L3,ba=mr(),Hr=lt();function Wd(t,e,r,n){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof ba){t("switch(d%s){",n);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),e.repeated||t("break"),i=!0),t("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",n,s[o[a]])("break");t("}")}else t('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":t("m%s=String(d%s)",n,n);break;case"bool":t("m%s=Boolean(d%s)",n,n);break}}return t}F3.fromObject=function(e){var r=e.fieldsArray,n=Hr.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<r.length;++i){var s=r[i].resolve(),o=Hr.safeProp(s.name);s.map?(n("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),Wd(n,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),Wd(n,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof ba||n("if(d%s!=null){",o),Wd(n,s,i,o),s.resolvedType instanceof ba||n("}"))}return n("return m")};function Xd(t,e,r,n){if(e.resolvedType)e.resolvedType instanceof ba?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):t("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:t("d%s=m%s",n,n);break}}return t}F3.toObject=function(e){var r=e.fieldsArray.slice().sort(Hr.compareFieldsById);if(!r.length)return Hr.codegen()("return {}");for(var n=Hr.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<r.length;++a)r[a].partOf||(r[a].resolve().repeated?i:r[a].map?s:o).push(r[a]);if(i.length){for(n("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)n("d%s=[]",Hr.safeProp(i[a].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),a=0;a<s.length;++a)n("d%s={}",Hr.safeProp(s[a].name));n("}")}if(o.length){for(n("if(o.defaults){"),a=0;a<o.length;++a){var u=o[a],c=Hr.safeProp(u.name);if(u.resolvedType instanceof ba)n("d%s=o.enums===String?%j:%j",c,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",c,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else n("d%s=%j",c,u.typeDefault)}n("}")}var h=!1;for(a=0;a<r.length;++a){var u=r[a],d=e._fieldsArray.indexOf(u),c=Hr.safeProp(u.name);u.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),Xd(n,u,d,c+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),Xd(n,u,d,c+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",c,u.name),Xd(n,u,d,c),u.partOf&&n("if(o.oneofs)")("d%s=%j",Hr.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}});var Yd=S(P3=>{"use strict";var FI=P3,LI=Jc();FI[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var n=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="type.googleapis.com/",n="",i="";if(e&&e.json&&t.type_url&&t.value){i=t.type_url.substring(t.type_url.lastIndexOf("/")+1),n=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(t=s.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof LI){var o=t.$type.toObject(t,e),a=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return n===""&&(n=r),i=n+a,o["@type"]=i,o}return this.toObject(t,e)}}});var Qc=S((Lz,q3)=>{"use strict";q3.exports=ke;var br=Hs();((ke.prototype=Object.create(br.prototype)).constructor=ke).className="Type";var PI=mr(),ep=Ks(),Yc=Wn(),MI=Gc(),qI=Xc(),Zd=Jc(),Qd=Vc(),KI=qc(),Et=lt(),VI=tp(),zI=Hd(),HI=Gd(),M3=Jd(),$I=Yd();function ke(t,e){br.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(ke.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Et.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Et.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=ke.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof Zd||((t.prototype=new Zd).constructor=t,Et.merge(t.prototype,e)),t.$type=t.prototype.$type=this,Et.merge(t,Zd,!0),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:Et.oneOfGetter(this._oneofsArray[r].oneof),set:Et.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,n)}}});ke.generateConstructor=function(e){for(var r=Et.codegen(["p"],e.name),n=0,i;n<e.fieldsArray.length;++n)(i=e._fieldsArray[n]).map?r("this%s={}",Et.safeProp(i.name)):i.repeated&&r("this%s=[]",Et.safeProp(i.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Zc(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}ke.fromJSON=function(e,r){var n=new ke(e,r.options);n.extensions=r.extensions,n.reserved=r.reserved;for(var i=Object.keys(r.fields),s=0;s<i.length;++s)n.add((typeof r.fields[i[s]].keyType<"u"?MI.fromJSON:Yc.fromJSON)(i[s],r.fields[i[s]]));if(r.oneofs)for(i=Object.keys(r.oneofs),s=0;s<i.length;++s)n.add(ep.fromJSON(i[s],r.oneofs[i[s]]));if(r.nested)for(i=Object.keys(r.nested),s=0;s<i.length;++s){var o=r.nested[i[s]];n.add((o.id!==void 0?Yc.fromJSON:o.fields!==void 0?ke.fromJSON:o.values!==void 0?PI.fromJSON:o.methods!==void 0?qI.fromJSON:br.fromJSON)(i[s],o))}return r.extensions&&r.extensions.length&&(n.extensions=r.extensions),r.reserved&&r.reserved.length&&(n.reserved=r.reserved),r.group&&(n.group=!0),r.comment&&(n.comment=r.comment),n};ke.prototype.toJSON=function(e){var r=br.prototype.toJSON.call(this,e),n=e?Boolean(e.keepComments):!1;return Et.toObject(["options",r&&r.options||void 0,"oneofs",br.arrayToJSON(this.oneofsArray,e),"fields",br.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};ke.prototype.resolveAll=function(){for(var e=this.fieldsArray,r=0;r<e.length;)e[r++].resolve();var n=this.oneofsArray;for(r=0;r<n.length;)n[r++].resolve();return br.prototype.resolveAll.call(this)};ke.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};ke.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof Yc&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),Zc(this)}return e instanceof ep?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),Zc(this)):br.prototype.add.call(this,e)};ke.prototype.remove=function(e){if(e instanceof Yc&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),Zc(this)}if(e instanceof ep){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),Zc(this)}return br.prototype.remove.call(this,e)};ke.prototype.isReservedId=function(e){return br.isReservedId(this.reserved,e)};ke.prototype.isReservedName=function(e){return br.isReservedName(this.reserved,e)};ke.prototype.create=function(e){return new this.ctor(e)};ke.prototype.setup=function(){for(var e=this.fullName,r=[],n=0;n<this.fieldsArray.length;++n)r.push(this._fieldsArray[n].resolve().resolvedType);this.encode=VI(this)({Writer:KI,types:r,util:Et}),this.decode=zI(this)({Reader:Qd,types:r,util:Et}),this.verify=HI(this)({types:r,util:Et}),this.fromObject=M3.fromObject(this)({types:r,util:Et}),this.toObject=M3.toObject(this)({types:r,util:Et});var i=$I[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};ke.prototype.encode=function(e,r){return this.setup().encode(e,r)};ke.prototype.encodeDelimited=function(e,r){return this.encode(e,r&&r.len?r.fork():r).ldelim()};ke.prototype.decode=function(e,r){return this.setup().decode(e,r)};ke.prototype.decodeDelimited=function(e){return e instanceof Qd||(e=Qd.create(e)),this.decode(e,e.uint32())};ke.prototype.verify=function(e){return this.setup().verify(e)};ke.prototype.fromObject=function(e){return this.setup().fromObject(e)};ke.prototype.toObject=function(e,r){return this.setup().toObject(e,r)};ke.d=function(e){return function(n){Et.decorateType(n,e)}}});var rf=S((Pz,$3)=>{"use strict";$3.exports=Vt;var tf=Hs();((Vt.prototype=Object.create(tf.prototype)).constructor=Vt).className="Root";var np=Wn(),V3=mr(),jI=Ks(),Jn=lt(),z3,rp,xa;function Vt(t){tf.call(this,"",t),this.deferred=[],this.files=[]}Vt.fromJSON=function(e,r){return r||(r=new Vt),e.options&&r.setOptions(e.options),r.addJSON(e.nested)};Vt.prototype.resolvePath=Jn.path.resolve;Vt.prototype.fetch=Jn.fetch;function H3(){}Vt.prototype.load=function t(e,r,n){typeof r=="function"&&(n=r,r=void 0);var i=this;if(!n)return Jn.asPromise(t,i,e,r);var s=n===H3;function o(y,l){if(!!n){var p=n;if(n=null,s)throw y;p(y,l)}}function a(y){var l=y.lastIndexOf("google/protobuf/");if(l>-1){var p=y.substring(l);if(p in xa)return p}return null}function u(y,l){try{if(Jn.isString(l)&&l.charAt(0)==="{"&&(l=JSON.parse(l)),!Jn.isString(l))i.setOptions(l.options).addJSON(l.nested);else{rp.filename=y;var p=rp(l,i,r),g,m=0;if(p.imports)for(;m<p.imports.length;++m)(g=a(p.imports[m])||i.resolvePath(y,p.imports[m]))&&c(g);if(p.weakImports)for(m=0;m<p.weakImports.length;++m)(g=a(p.weakImports[m])||i.resolvePath(y,p.weakImports[m]))&&c(g,!0)}}catch(b){o(b)}!s&&!f&&o(null,i)}function c(y,l){if(!(i.files.indexOf(y)>-1)){if(i.files.push(y),y in xa){s?u(y,xa[y]):(++f,setTimeout(function(){--f,u(y,xa[y])}));return}if(s){var p;try{p=Jn.fs.readFileSync(y).toString("utf8")}catch(g){l||o(g);return}u(y,p)}else++f,i.fetch(y,function(g,m){if(--f,!!n){if(g){l?f||o(null,i):o(g);return}u(y,m)}})}}var f=0;Jn.isString(e)&&(e=[e]);for(var h=0,d;h<e.length;++h)(d=i.resolvePath("",e[h]))&&c(d);if(s)return i;f||o(null,i)};Vt.prototype.loadSync=function(e,r){if(!Jn.isNode)throw Error("not supported");return this.load(e,r,H3)};Vt.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return tf.prototype.resolveAll.call(this)};var ef=/^[A-Z]/;function K3(t,e){var r=e.parent.lookup(e.extend);if(r){var n=new np(e.fullName,e.id,e.type,e.rule,void 0,e.options);return n.declaringField=e,e.extensionField=n,r.add(n),!0}return!1}Vt.prototype._handleAdd=function(e){if(e instanceof np)e.extend!==void 0&&!e.extensionField&&(K3(this,e)||this.deferred.push(e));else if(e instanceof V3)ef.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof jI)){if(e instanceof z3)for(var r=0;r<this.deferred.length;)K3(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);ef.test(e.name)&&(e.parent[e.name]=e)}};Vt.prototype._handleRemove=function(e){if(e instanceof np){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var r=this.deferred.indexOf(e);r>-1&&this.deferred.splice(r,1)}}else if(e instanceof V3)ef.test(e.name)&&delete e.parent[e.name];else if(e instanceof tf){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);ef.test(e.name)&&delete e.parent[e.name]}};Vt._configure=function(t,e,r){z3=t,rp=e,xa=r}});var lt=S((Mz,G3)=>{"use strict";var Qe=G3.exports=qr(),j3=Rd(),ip,sp;Qe.codegen=l3();Qe.fetch=d3();Qe.path=g3();Qe.fs=Qe.inquire("fs");Qe.toArray=function(e){if(e){for(var r=Object.keys(e),n=new Array(r.length),i=0;i<r.length;)n[i]=e[r[i++]];return n}return[]};Qe.toObject=function(e){for(var r={},n=0;n<e.length;){var i=e[n++],s=e[n++];s!==void 0&&(r[i]=s)}return r};var GI=/\\/g,WI=/"/g;Qe.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Qe.safeProp=function(e){return!/^[$\w_]+$/.test(e)||Qe.isReserved(e)?'["'+e.replace(GI,"\\\\").replace(WI,'\\"')+'"]':"."+e};Qe.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var XI=/_([a-z])/g;Qe.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(XI,function(r,n){return n.toUpperCase()})};Qe.compareFieldsById=function(e,r){return e.id-r.id};Qe.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(Qe.decorateRoot.remove(e.$type),e.$type.name=r,Qe.decorateRoot.add(e.$type)),e.$type;ip||(ip=Qc());var n=new ip(r||e.name);return Qe.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var JI=0;Qe.decorateEnum=function(e){if(e.$type)return e.$type;sp||(sp=mr());var r=new sp("Enum"+JI++,e);return Qe.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:!1}),r};Qe.setProperty=function(e,r,n){function i(s,o,a){var u=o.shift();if(u==="__proto__")return s;if(o.length>0)s[u]=i(s[u]||{},o,a);else{var c=s[u];c&&(a=[].concat(c).concat(a)),s[u]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),i(e,r,n)};Object.defineProperty(Qe,"decorateRoot",{get:function(){return j3.decorated||(j3.decorated=new(rf()))}})});var Bi=S((qz,W3)=>{"use strict";W3.exports=zt;zt.className="ReflectionObject";var nf=lt(),sf;function zt(t,e){if(!nf.isString(t))throw TypeError("name must be a string");if(e&&!nf.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(zt.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});zt.prototype.toJSON=function(){throw Error()};zt.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var r=e.root;r instanceof sf&&r._handleAdd(this)};zt.prototype.onRemove=function(e){var r=e.root;r instanceof sf&&r._handleRemove(this),this.parent=null,this.resolved=!1};zt.prototype.resolve=function(){return this.resolved?this:(this.root instanceof sf&&(this.resolved=!0),this)};zt.prototype.getOption=function(e){if(this.options)return this.options[e]};zt.prototype.setOption=function(e,r,n){return(!n||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=r),this};zt.prototype.setParsedOption=function(e,r,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var s=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(s){var o=s[e];nf.setProperty(o,n,r)}else s={},s[e]=nf.setProperty({},n,r),i.push(s)}else{var a={};a[e]=r,i.push(a)}return this};zt.prototype.setOptions=function(e,r){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],r);return this};zt.prototype.toString=function(){var e=this.constructor.className,r=this.fullName;return r.length?e+" "+r:e};zt._configure=function(t){sf=t}});var mr=S((Kz,Y3)=>{"use strict";Y3.exports=$r;var X3=Bi();(($r.prototype=Object.create(X3.prototype)).constructor=$r).className="Enum";var J3=Hs(),of=lt();function $r(t,e,r,n,i,s){if(X3.call(this,t,r),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}$r.fromJSON=function(e,r){var n=new $r(e,r.values,r.options,r.comment,r.comments);return n.reserved=r.reserved,n};$r.prototype.toJSON=function(e){var r=e?Boolean(e.keepComments):!1;return of.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};$r.prototype.add=function(e,r,n,i){if(!of.isString(e))throw TypeError("name must be a string");if(!of.isInteger(r))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[e]=r}else this.valuesById[this.values[e]=r]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=n||null,this};$r.prototype.remove=function(e){if(!of.isString(e))throw TypeError("name must be a string");var r=this.values[e];if(r==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};$r.prototype.isReservedId=function(e){return J3.isReservedId(this.reserved,e)};$r.prototype.isReservedName=function(e){return J3.isReservedName(this.reserved,e)}});var tp=S((Vz,Q3)=>{"use strict";Q3.exports=ZI;var YI=mr(),op=_i(),ap=lt();function Z3(t,e,r,n){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(e.id<<3|2)>>>0)}function ZI(t){for(var e=ap.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r,n,i=t.fieldsArray.slice().sort(ap.compareFieldsById),r=0;r<i.length;++r){var s=i[r].resolve(),o=t._fieldsArray.indexOf(s),a=s.resolvedType instanceof YI?"int32":s.type,u=op.basic[a];n="m"+ap.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|op.mapKey[s.keyType],s.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,n):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,a,n),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",n,n),s.packed&&op.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",a,n)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",n),u===void 0?Z3(e,s,o,n+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|u)>>>0,a,n)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,s.name),u===void 0?Z3(e,s,o,n):e("w.uint32(%i).%s(%s)",(s.id<<3|u)>>>0,a,n))}return e("return w")}});var tv=S((zz,ev)=>{"use strict";var ye=ev.exports=c3();ye.build="light";function QI(t,e,r){return typeof e=="function"?(r=e,e=new ye.Root):e||(e=new ye.Root),e.load(t,r)}ye.load=QI;function ek(t,e){return e||(e=new ye.Root),e.loadSync(t)}ye.loadSync=ek;ye.encoder=tp();ye.decoder=Hd();ye.verifier=Gd();ye.converter=Jd();ye.ReflectionObject=Bi();ye.Namespace=Hs();ye.Root=rf();ye.Enum=mr();ye.Type=Qc();ye.Field=Wn();ye.OneOf=Ks();ye.MapField=Gc();ye.Service=Xc();ye.Method=Wc();ye.Message=Jc();ye.wrappers=Yd();ye.types=_i();ye.util=lt();ye.ReflectionObject._configure(ye.Root);ye.Namespace._configure(ye.Type,ye.Service,ye.Enum);ye.Root._configure(ye.Type);ye.Field._configure(ye.Type)});var cp=S((Hz,iv)=>{"use strict";iv.exports=nv;var up=/[\s{}=;:[\],'"()<>]/g,tk=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,rk=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,nk=/^ *[*/]+ */,ik=/^\s*\*?\/*/,sk=/\n/g,ok=/\s/,ak=/\\(.?)/g,uk={0:"\0",r:"\r",n:`
`,t:"	"};function rv(t){return t.replace(ak,function(e,r){switch(r){case"\\":case"":return r;default:return uk[r]||""}})}nv.unescape=rv;function nv(t,e){t=t.toString();var r=0,n=t.length,i=1,s=0,o={},a=[],u=null;function c(x){return Error("illegal "+x+" (line "+i+")")}function f(){var x=u==="'"?rk:tk;x.lastIndex=r-1;var D=x.exec(t);if(!D)throw c("string");return r=x.lastIndex,g(u),u=null,rv(D[1])}function h(x){return t.charAt(x)}function d(x,D,w){var C={type:t.charAt(x++),lineEmpty:!1,leading:w},_;e?_=2:_=3;var F=x-_,z;do if(--F<0||(z=t.charAt(F))===`
`){C.lineEmpty=!0;break}while(z===" "||z==="	");for(var Y=t.substring(x,D).split(sk),V=0;V<Y.length;++V)Y[V]=Y[V].replace(e?ik:nk,"").trim();C.text=Y.join(`
`).trim(),o[i]=C,s=i}function y(x){var D=l(x),w=t.substring(x,D),C=/^\s*\/{1,2}/.test(w);return C}function l(x){for(var D=x;D<n&&h(D)!==`
`;)D++;return D}function p(){if(a.length>0)return a.shift();if(u)return f();var x,D,w,C,_,F=r===0;do{if(r===n)return null;for(x=!1;ok.test(w=h(r));)if(w===`
`&&(F=!0,++i),++r===n)return null;if(h(r)==="/"){if(++r===n)throw c("comment");if(h(r)==="/")if(e){if(C=r,_=!1,y(r)){_=!0;do if(r=l(r),r===n||(r++,!F))break;while(y(r))}else r=Math.min(n,l(r)+1);_&&(d(C,r,F),F=!0),i++,x=!0}else{for(_=h(C=r+1)==="/";h(++r)!==`
`;)if(r===n)return null;++r,_&&(d(C,r-1,F),F=!0),++i,x=!0}else if((w=h(r))==="*"){C=r+1,_=e||h(C)==="*";do{if(w===`
`&&++i,++r===n)throw c("comment");D=w,w=h(r)}while(D!=="*"||w!=="/");++r,_&&(d(C,r-2,F),F=!0),x=!0}else return"/"}}while(x);var z=r;up.lastIndex=0;var Y=up.test(h(z++));if(!Y)for(;z<n&&!up.test(h(z));)++z;var V=t.substring(r,r=z);return(V==='"'||V==="'")&&(u=V),V}function g(x){a.push(x)}function m(){if(!a.length){var x=p();if(x===null)return null;g(x)}return a[0]}function b(x,D){var w=m(),C=w===x;if(C)return p(),!0;if(!D)throw c("token '"+w+"', '"+x+"' expected");return!1}function v(x){var D=null,w;return x===void 0?(w=o[i-1],delete o[i-1],w&&(e||w.type==="*"||w.lineEmpty)&&(D=w.leading?w.text:null)):(s<x&&m(),w=o[x],delete o[x],w&&!w.lineEmpty&&(e||w.type==="/")&&(D=w.leading?null:w.text)),D}return Object.defineProperty({next:p,peek:m,push:g,skip:b,cmnt:v},"line",{get:function(){return i}})}});var fv=S(($z,cv)=>{"use strict";cv.exports=Sn;Sn.filename=null;Sn.defaults={keepCase:!1};var ck=cp(),sv=rf(),ov=Qc(),av=Wn(),fk=Gc(),uv=Ks(),lk=mr(),hk=Xc(),dk=Wc(),fp=_i(),lp=lt(),pk=/^[1-9][0-9]*$/,yk=/^-?[1-9][0-9]*$/,gk=/^0[x][0-9a-fA-F]+$/,mk=/^-?0[x][0-9a-fA-F]+$/,bk=/^0[0-7]+$/,xk=/^-?0[0-7]+$/,vk=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,jr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Gr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Dk=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function Sn(t,e,r){e instanceof sv||(r=e,e=new sv),r||(r=Sn.defaults);var n=r.preferTrailingComment||!1,i=ck(t,r.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,u=i.skip,c=i.cmnt,f=!0,h,d,y,l,p=!1,g=e,m=r.keepCase?function(I){return I}:lp.camelCase;function b(I,k,U){var M=Sn.filename;return U||(Sn.filename=null),Error("illegal "+(k||"token")+" '"+I+"' ("+(M?M+", ":"")+"line "+i.line+")")}function v(){var I=[],k;do{if((k=s())!=='"'&&k!=="'")throw b(k);I.push(s()),u(k),k=a()}while(k==='"'||k==="'");return I.join("")}function x(I){var k=s();switch(k){case"'":case'"':return o(k),v();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return w(k,!0)}catch{if(I&&Gr.test(k))return k;throw b(k,"value")}}function D(I,k){var U,M;do k&&((U=a())==='"'||U==="'")?I.push(v()):I.push([M=C(s()),u("to",!0)?C(s()):M]);while(u(",",!0));u(";")}function w(I,k){var U=1;switch(I.charAt(0)==="-"&&(U=-1,I=I.substring(1)),I){case"inf":case"INF":case"Inf":return U*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(pk.test(I))return U*parseInt(I,10);if(gk.test(I))return U*parseInt(I,16);if(bk.test(I))return U*parseInt(I,8);if(vk.test(I))return U*parseFloat(I);throw b(I,"number",k)}function C(I,k){switch(I){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!k&&I.charAt(0)==="-")throw b(I,"id");if(yk.test(I))return parseInt(I,10);if(mk.test(I))return parseInt(I,16);if(xk.test(I))return parseInt(I,8);throw b(I,"id")}function _(){if(h!==void 0)throw b("package");if(h=s(),!Gr.test(h))throw b(h,"name");g=g.define(h),u(";")}function F(){var I=a(),k;switch(I){case"weak":k=y||(y=[]),s();break;case"public":s();default:k=d||(d=[]);break}I=v(),u(";"),k.push(I)}function z(){if(u("="),l=v(),p=l==="proto3",!p&&l!=="proto2")throw b(l,"syntax");u(";")}function Y(I,k){switch(k){case"option":return ee(I,k),u(";"),!0;case"message":return ue(I,k),!0;case"enum":return Z(I,k),!0;case"service":return le(I,k),!0;case"extend":return de(I,k),!0}return!1}function V(I,k,U){var M=i.line;if(I&&(typeof I.comment!="string"&&(I.comment=c()),I.filename=Sn.filename),u("{",!0)){for(var P;(P=s())!=="}";)k(P);u(";",!0)}else U&&U(),u(";"),I&&(typeof I.comment!="string"||n)&&(I.comment=c(M)||I.comment)}function ue(I,k){if(!jr.test(k=s()))throw b(k,"type name");var U=new ov(k);V(U,function(P){if(!Y(U,P))switch(P){case"map":Q(U,P);break;case"required":case"repeated":re(U,P);break;case"optional":p?re(U,"proto3_optional"):re(U,"optional");break;case"oneof":T(U,P);break;case"extensions":D(U.extensions||(U.extensions=[]));break;case"reserved":D(U.reserved||(U.reserved=[]),!0);break;default:if(!p||!Gr.test(P))throw b(P);o(P),re(U,"optional");break}}),I.add(U)}function re(I,k,U){var M=s();if(M==="group"){$(I,k);return}if(!Gr.test(M))throw b(M,"type");var P=s();if(!jr.test(P))throw b(P,"name");P=m(P),u("=");var j=new av(P,C(s()),M,k,U);if(V(j,function(Ft){if(Ft==="option")ee(j,Ft),u(";");else throw b(Ft)},function(){ce(j)}),k==="proto3_optional"){var pe=new uv("_"+P);j.setOption("proto3_optional",!0),pe.add(j),I.add(pe)}else I.add(j);!p&&j.repeated&&(fp.packed[M]!==void 0||fp.basic[M]===void 0)&&j.setOption("packed",!1,!0)}function $(I,k){var U=s();if(!jr.test(U))throw b(U,"name");var M=lp.lcFirst(U);U===M&&(U=lp.ucFirst(U)),u("=");var P=C(s()),j=new ov(U);j.group=!0;var pe=new av(M,P,U,k);pe.filename=Sn.filename,V(j,function(Ft){switch(Ft){case"option":ee(j,Ft),u(";");break;case"required":case"repeated":re(j,Ft);break;case"optional":p?re(j,"proto3_optional"):re(j,"optional");break;case"message":ue(j,Ft);break;case"enum":Z(j,Ft);break;default:throw b(Ft)}}),I.add(j).add(pe)}function Q(I){u("<");var k=s();if(fp.mapKey[k]===void 0)throw b(k,"type");u(",");var U=s();if(!Gr.test(U))throw b(U,"type");u(">");var M=s();if(!jr.test(M))throw b(M,"name");u("=");var P=new fk(m(M),C(s()),k,U);V(P,function(pe){if(pe==="option")ee(P,pe),u(";");else throw b(pe)},function(){ce(P)}),I.add(P)}function T(I,k){if(!jr.test(k=s()))throw b(k,"name");var U=new uv(m(k));V(U,function(P){P==="option"?(ee(U,P),u(";")):(o(P),re(U,"optional"))}),I.add(U)}function Z(I,k){if(!jr.test(k=s()))throw b(k,"name");var U=new lk(k);V(U,function(P){switch(P){case"option":ee(U,P),u(";");break;case"reserved":D(U.reserved||(U.reserved=[]),!0);break;default:_e(U,P)}}),I.add(U)}function _e(I,k){if(!jr.test(k))throw b(k,"name");u("=");var U=C(s(),!0),M={options:void 0};M.setOption=function(P,j){this.options===void 0&&(this.options={}),this.options[P]=j},V(M,function(j){if(j==="option")ee(M,j),u(";");else throw b(j)},function(){ce(M)}),I.add(k,U,M.comment,M.options)}function ee(I,k){var U=u("(",!0);if(!Gr.test(k=s()))throw b(k,"name");var M=k,P=M,j;U&&(u(")"),M="("+M+")",P=M,k=a(),Dk.test(k)&&(j=k.slice(1),M+=k,s())),u("=");var pe=ie(I,M);fe(I,P,pe,j)}function ie(I,k){if(u("{",!0)){for(var U={};!u("}",!0);){if(!jr.test(Ee=s()))throw b(Ee,"name");var M,P=Ee;if(u(":",!0),a()==="{")M=ie(I,k+"."+Ee);else if(a()==="["){M=[];var j;if(u("[",!0)){do j=x(!0),M.push(j);while(u(",",!0));u("]"),typeof j<"u"&&se(I,k+"."+Ee,j)}}else M=x(!0),se(I,k+"."+Ee,M);var pe=U[P];pe&&(M=[].concat(pe).concat(M)),U[P]=M,u(",",!0),u(";",!0)}return U}var Rn=x(!0);return se(I,k,Rn),Rn}function se(I,k,U){I.setOption&&I.setOption(k,U)}function fe(I,k,U,M){I.setParsedOption&&I.setParsedOption(k,U,M)}function ce(I){if(u("[",!0)){do ee(I,"option");while(u(",",!0));u("]")}return I}function le(I,k){if(!jr.test(k=s()))throw b(k,"service name");var U=new hk(k);V(U,function(P){if(!Y(U,P))if(P==="rpc")he(U,P);else throw b(P)}),I.add(U)}function he(I,k){var U=c(),M=k;if(!jr.test(k=s()))throw b(k,"name");var P=k,j,pe,Rn,Ft;if(u("("),u("stream",!0)&&(pe=!0),!Gr.test(k=s())||(j=k,u(")"),u("returns"),u("("),u("stream",!0)&&(Ft=!0),!Gr.test(k=s())))throw b(k);Rn=k,u(")");var eu=new dk(P,M,j,Rn,pe,Ft);eu.comment=U,V(eu,function(x0){if(x0==="option")ee(eu,x0),u(";");else throw b(x0)}),I.add(eu)}function de(I,k){if(!Gr.test(k=s()))throw b(k,"reference");var U=k;V(null,function(P){switch(P){case"required":case"repeated":re(I,P,U);break;case"optional":p?re(I,"proto3_optional",U):re(I,"optional",U);break;default:if(!p||!Gr.test(P))throw b(P);o(P),re(I,"optional",U);break}})}for(var Ee;(Ee=s())!==null;)switch(Ee){case"package":if(!f)throw b(Ee);_();break;case"import":if(!f)throw b(Ee);F();break;case"syntax":if(!f)throw b(Ee);z();break;case"option":ee(g,Ee),u(";");break;default:if(Y(g,Ee)){f=!1;continue}throw b(Ee)}return Sn.filename=null,{package:h,imports:d,weakImports:y,syntax:l,root:e}}});var dv=S((jz,hv)=>{"use strict";hv.exports=xr;var wk=/\/|\./;function xr(t,e){wk.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),xr[t]=e}xr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var lv;xr("duration",{Duration:lv={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});xr("timestamp",{Timestamp:lv});xr("empty",{Empty:{fields:{}}});xr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});xr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});xr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});xr.get=function(e){return xr[e]||null}});var yv=S((Gz,pv)=>{"use strict";var Yn=pv.exports=tv();Yn.build="full";Yn.tokenize=cp();Yn.parse=fv();Yn.common=dv();Yn.Root._configure(Yn.Type,Yn.parse,Yn.common)});var hp=S((Wz,gv)=>{"use strict";gv.exports=yv()});var Be=S((uH,xv)=>{xv.exports={options:{usePureJavaScript:!1}}});var wv=S((cH,Dv)=>{var mp={};Dv.exports=mp;var vv={};mp.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Ck(t,e);else{var i=0,s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%s,c=c/s|0;for(;c>0;)a.push(c%s),c=c/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};mp.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=vv[e];if(!r){r=vv[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),o=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var u=0,c=a;u<o.length;++u)c+=o[u]*i,o[u]=c&255,c>>=8;for(;c>0;)o.push(c&255),c>>=8}for(var f=0;t[f]===s&&f<t.length-1;++f)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function Ck(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,a=t.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=i;for(r=s.length-1;r>=0;--r)u+=e[s[r]];return u}});var nt=S((fH,Av)=>{var Ev=Be(),Sv=wv(),E=Av.exports=Ev.util=Ev.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){E.nextTick=process.nextTick,typeof setImmediate=="function"?E.setImmediate=setImmediate:E.setImmediate=E.nextTick;return}if(typeof setImmediate=="function"){E.setImmediate=function(){return setImmediate.apply(void 0,arguments)},E.nextTick=function(a){return setImmediate(a)};return}if(E.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(f){f()})}};var o=a,t="forge.setImmediate",e=[];E.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(c){c()})}).observe(i,{attributes:!0});var s=E.setImmediate;E.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),s(u)):(e.push(u),e.length===1&&i.setAttribute("a",n=!n))}}E.nextTick=E.setImmediate})();E.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;E.globalScope=function(){return E.isNodejs?globalThis:typeof self>"u"?window:self}();E.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};E.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};E.isArrayBufferView=function(t){return t&&E.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function va(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}E.ByteBuffer=bp;function bp(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(E.isArrayBuffer(t)||E.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof bp||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}E.ByteStringBuffer=bp;var Ak=4096;E.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Ak&&(this.data.substr(0,1),this._constructedStringLength=0)};E.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};E.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};E.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};E.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};E.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};E.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(E.encodeUtf8(t))};E.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};E.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};E.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};E.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};E.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};E.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};E.ByteStringBuffer.prototype.putInt=function(t,e){va(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};E.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};E.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};E.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};E.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};E.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};E.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};E.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};E.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};E.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};E.ByteStringBuffer.prototype.getInt=function(t){va(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};E.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};E.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};E.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};E.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};E.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};E.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};E.ByteStringBuffer.prototype.copy=function(){var t=E.createBuffer(this.data);return t.read=this.read,t};E.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};E.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};E.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};E.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};E.ByteStringBuffer.prototype.toString=function(){return E.decodeUtf8(this.bytes())};function _k(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=E.isArrayBuffer(t),n=E.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}E.DataBuffer=_k;E.DataBuffer.prototype.length=function(){return this.write-this.read};E.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};E.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};E.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};E.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};E.DataBuffer.prototype.putBytes=function(t,e){if(E.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(E.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof E.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&E.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof E.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=E.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=E.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=E.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=E.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=E.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};E.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};E.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};E.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};E.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};E.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};E.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};E.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};E.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};E.DataBuffer.prototype.putInt=function(t,e){va(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};E.DataBuffer.prototype.putSignedInt=function(t,e){return va(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};E.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};E.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};E.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};E.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};E.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};E.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};E.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};E.DataBuffer.prototype.getInt=function(t){va(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};E.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};E.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};E.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};E.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};E.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};E.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};E.DataBuffer.prototype.copy=function(){return new E.DataBuffer(this)};E.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};E.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};E.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};E.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};E.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return E.binary.raw.encode(e);if(t==="hex")return E.binary.hex.encode(e);if(t==="base64")return E.binary.base64.encode(e);if(t==="utf8")return E.text.utf8.decode(e);if(t==="utf16")return E.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};E.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=E.encodeUtf8(t)),new E.ByteBuffer(t)};E.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};E.xorBytes=function(t,e,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+=s,n};E.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};E.bytesToHex=function(t){return E.createBuffer(t).toHex()};E.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Zn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Qn=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Cv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";E.encode64=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.length;)i=t.charCodeAt(a++),s=t.charCodeAt(a++),o=t.charCodeAt(a++),r+=Zn.charAt(i>>2),r+=Zn.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Zn.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":Zn.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};E.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,o=0;o<t.length;)r=Qn[t.charCodeAt(o++)-43],n=Qn[t.charCodeAt(o++)-43],i=Qn[t.charCodeAt(o++)-43],s=Qn[t.charCodeAt(o++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};E.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};E.decodeUtf8=function(t){return decodeURIComponent(escape(t))};E.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Sv.encode,decode:Sv.decode}};E.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};E.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};E.binary.hex.encode=E.bytesToHex;E.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};E.binary.base64.encode=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.byteLength;)i=t[a++],s=t[a++],o=t[a++],r+=Zn.charAt(i>>2),r+=Zn.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Zn.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":Zn.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};E.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,a,u=0,c=r;u<t.length;)i=Qn[t.charCodeAt(u++)-43],s=Qn[t.charCodeAt(u++)-43],o=Qn[t.charCodeAt(u++)-43],a=Qn[t.charCodeAt(u++)-43],n[c++]=i<<2|s>>4,o!==64&&(n[c++]=(s&15)<<4|o>>2,a!==64&&(n[c++]=(o&3)<<6|a));return e?c-r:n.subarray(0,c)};E.binary.base58.encode=function(t,e){return E.binary.baseN.encode(t,Cv,e)};E.binary.base58.decode=function(t,e){return E.binary.baseN.decode(t,Cv,e)};E.text={utf8:{},utf16:{}};E.text.utf8.encode=function(t,e,r){t=E.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};E.text.utf8.decode=function(t){return E.decodeUtf8(String.fromCharCode.apply(null,t))};E.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,a=0;a<t.length;++a)i[o++]=t.charCodeAt(a),s+=2;return e?s-r:n};E.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};E.deflate=function(t,e,r){if(e=E.decode64(t.deflate(E.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};E.inflate=function(t,e,r){var n=t.inflate(E.encode64(e)).rval;return n===null?null:E.decode64(n)};var xp=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=E.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},vp=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(E.decode64(r))),r},Bk=function(t,e,r,n){var i=vp(t,e);i===null&&(i={}),i[r]=n,xp(t,e,i)},Tk=function(t,e,r){var n=vp(t,e);return n!==null&&(n=r in n?n[r]:null),n},Ik=function(t,e,r){var n=vp(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),xp(t,e,n)}},kk=function(t,e){xp(t,e,null)},cf=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,o=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(u){o=u}if(s)break}if(!s)throw o;return n};E.setItem=function(t,e,r,n,i){cf(Bk,arguments,i)};E.getItem=function(t,e,r,n){return cf(Tk,arguments,n)};E.removeItem=function(t,e,r,n){cf(Ik,arguments,n)};E.clearItems=function(t,e,r){cf(kk,arguments,r)};E.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};E.format=function(t){for(var e=/%./g,r,n,i=0,s=[],o=0;r=e.exec(t);){n=t.substring(o,e.lastIndex-2),n.length>0&&s.push(n),o=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(t.substring(o)),s.join("")};E.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,o=r===void 0?",":r,a=n===void 0?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+a:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-c).toFixed(s).slice(2):"")};E.formatSize=function(t){return t>=1073741824?t=E.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=E.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=E.formatNumber(t/1024,0)+" KiB":t=E.formatNumber(t,0)+" bytes",t};E.bytesFromIP=function(t){return t.indexOf(".")!==-1?E.bytesFromIPv4(t):t.indexOf(":")!==-1?E.bytesFromIPv6(t):null};E.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=E.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};E.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(o){return o.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=E.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=E.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};E.bytesToIP=function(t){return t.length===4?E.bytesToIPv4(t):t.length===16?E.bytesToIPv6(t):null};E.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};E.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=E.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],a=e.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};E.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in E&&!t.update)return e(null,E.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return E.cores=navigator.hardwareConcurrency,e(null,E.cores);if(typeof Worker>"u")return E.cores=1,e(null,E.cores);if(typeof Blob>"u")return E.cores=2,e(null,E.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),u=a+4;Date.now()<u;);self.postMessage({st:a,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,u){if(a===0){var c=Math.floor(o.reduce(function(f,h){return f+h},0)/o.length);return E.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,E.cores)}i(u,function(f,h){o.push(s(u,h)),n(o,a-1,u)})}function i(o,a){for(var u=[],c=[],f=0;f<o;++f){var h=new Worker(r);h.addEventListener("message",function(d){if(c.push(d.data),c.length===o){for(var y=0;y<o;++y)u[y].terminate();a(null,c)}}),u.push(h)}for(var f=0;f<o;++f)u[f].postMessage(f)}function s(o,a){for(var u=[],c=0;c<o;++c)for(var f=a[c],h=u[c]=[],d=0;d<o;++d)if(c!==d){var y=a[d];(f.st>y.st&&f.st<y.et||y.st>f.st&&y.st<f.et)&&h.push(d)}return u.reduce(function(l,p){return Math.max(l,p.length)},0)}}});var ff=S((lH,_v)=>{var Da=Be();Da.pki=Da.pki||{};var Dp=_v.exports=Da.pki.oids=Da.oids=Da.oids||{};function R(t,e){Dp[t]=e,Dp[e]=t}function Ce(t,e){Dp[t]=e}R("1.2.840.113549.1.1.1","rsaEncryption");R("1.2.840.113549.1.1.4","md5WithRSAEncryption");R("1.2.840.113549.1.1.5","sha1WithRSAEncryption");R("1.2.840.113549.1.1.7","RSAES-OAEP");R("1.2.840.113549.1.1.8","mgf1");R("1.2.840.113549.1.1.9","pSpecified");R("1.2.840.113549.1.1.10","RSASSA-PSS");R("1.2.840.113549.1.1.11","sha256WithRSAEncryption");R("1.2.840.113549.1.1.12","sha384WithRSAEncryption");R("1.2.840.113549.1.1.13","sha512WithRSAEncryption");R("1.3.101.112","EdDSA25519");R("1.2.840.10040.4.3","dsa-with-sha1");R("1.3.14.3.2.7","desCBC");R("1.3.14.3.2.26","sha1");R("1.3.14.3.2.29","sha1WithRSASignature");R("2.16.840.1.101.3.4.2.1","sha256");R("2.16.840.1.101.3.4.2.2","sha384");R("2.16.840.1.101.3.4.2.3","sha512");R("2.16.840.1.101.3.4.2.4","sha224");R("2.16.840.1.101.3.4.2.5","sha512-224");R("2.16.840.1.101.3.4.2.6","sha512-256");R("1.2.840.113549.2.2","md2");R("1.2.840.113549.2.5","md5");R("1.2.840.113549.1.7.1","data");R("1.2.840.113549.1.7.2","signedData");R("1.2.840.113549.1.7.3","envelopedData");R("1.2.840.113549.1.7.4","signedAndEnvelopedData");R("1.2.840.113549.1.7.5","digestedData");R("1.2.840.113549.1.7.6","encryptedData");R("1.2.840.113549.1.9.1","emailAddress");R("1.2.840.113549.1.9.2","unstructuredName");R("1.2.840.113549.1.9.3","contentType");R("1.2.840.113549.1.9.4","messageDigest");R("1.2.840.113549.1.9.5","signingTime");R("1.2.840.113549.1.9.6","counterSignature");R("1.2.840.113549.1.9.7","challengePassword");R("1.2.840.113549.1.9.8","unstructuredAddress");R("1.2.840.113549.1.9.14","extensionRequest");R("1.2.840.113549.1.9.20","friendlyName");R("1.2.840.113549.1.9.21","localKeyId");R("1.2.840.113549.1.9.22.1","x509Certificate");R("1.2.840.113549.1.12.10.1.1","keyBag");R("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");R("1.2.840.113549.1.12.10.1.3","certBag");R("1.2.840.113549.1.12.10.1.4","crlBag");R("1.2.840.113549.1.12.10.1.5","secretBag");R("1.2.840.113549.1.12.10.1.6","safeContentsBag");R("1.2.840.113549.1.5.13","pkcs5PBES2");R("1.2.840.113549.1.5.12","pkcs5PBKDF2");R("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");R("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");R("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");R("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");R("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");R("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");R("1.2.840.113549.2.7","hmacWithSHA1");R("1.2.840.113549.2.8","hmacWithSHA224");R("1.2.840.113549.2.9","hmacWithSHA256");R("1.2.840.113549.2.10","hmacWithSHA384");R("1.2.840.113549.2.11","hmacWithSHA512");R("1.2.840.113549.3.7","des-EDE3-CBC");R("2.16.840.1.101.3.4.1.2","aes128-CBC");R("2.16.840.1.101.3.4.1.22","aes192-CBC");R("2.16.840.1.101.3.4.1.42","aes256-CBC");R("2.5.4.3","commonName");R("2.5.4.4","surname");R("2.5.4.5","serialNumber");R("2.5.4.6","countryName");R("2.5.4.7","localityName");R("2.5.4.8","stateOrProvinceName");R("2.5.4.9","streetAddress");R("2.5.4.10","organizationName");R("2.5.4.11","organizationalUnitName");R("2.5.4.12","title");R("2.5.4.13","description");R("2.5.4.15","businessCategory");R("2.5.4.17","postalCode");R("2.5.4.42","givenName");R("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");R("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");R("2.16.840.1.113730.1.1","nsCertType");R("2.16.840.1.113730.1.13","nsComment");Ce("2.5.29.1","authorityKeyIdentifier");Ce("2.5.29.2","keyAttributes");Ce("2.5.29.3","certificatePolicies");Ce("2.5.29.4","keyUsageRestriction");Ce("2.5.29.5","policyMapping");Ce("2.5.29.6","subtreesConstraint");Ce("2.5.29.7","subjectAltName");Ce("2.5.29.8","issuerAltName");Ce("2.5.29.9","subjectDirectoryAttributes");Ce("2.5.29.10","basicConstraints");Ce("2.5.29.11","nameConstraints");Ce("2.5.29.12","policyConstraints");Ce("2.5.29.13","basicConstraints");R("2.5.29.14","subjectKeyIdentifier");R("2.5.29.15","keyUsage");Ce("2.5.29.16","privateKeyUsagePeriod");R("2.5.29.17","subjectAltName");R("2.5.29.18","issuerAltName");R("2.5.29.19","basicConstraints");Ce("2.5.29.20","cRLNumber");Ce("2.5.29.21","cRLReason");Ce("2.5.29.22","expirationDate");Ce("2.5.29.23","instructionCode");Ce("2.5.29.24","invalidityDate");Ce("2.5.29.25","cRLDistributionPoints");Ce("2.5.29.26","issuingDistributionPoint");Ce("2.5.29.27","deltaCRLIndicator");Ce("2.5.29.28","issuingDistributionPoint");Ce("2.5.29.29","certificateIssuer");Ce("2.5.29.30","nameConstraints");R("2.5.29.31","cRLDistributionPoints");R("2.5.29.32","certificatePolicies");Ce("2.5.29.33","policyMappings");Ce("2.5.29.34","policyConstraints");R("2.5.29.35","authorityKeyIdentifier");Ce("2.5.29.36","policyConstraints");R("2.5.29.37","extKeyUsage");Ce("2.5.29.46","freshestCRL");Ce("2.5.29.54","inhibitAnyPolicy");R("1.3.6.1.4.1.11129.2.4.2","timestampList");R("1.3.6.1.5.5.7.1.1","authorityInfoAccess");R("1.3.6.1.5.5.7.3.1","serverAuth");R("1.3.6.1.5.5.7.3.2","clientAuth");R("1.3.6.1.5.5.7.3.3","codeSigning");R("1.3.6.1.5.5.7.3.4","emailProtection");R("1.3.6.1.5.5.7.3.8","timeStamping")});var Ea=S((hH,Tv)=>{var Ue=Be();nt();ff();var L=Tv.exports=Ue.asn1=Ue.asn1||{};L.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};L.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};L.create=function(t,e,r,n,i){if(Ue.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var a={tagClass:t,type:e,constructed:r,composed:r||Ue.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=L.copy(a)),a};L.copy=function(t,e){var r;if(Ue.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(L.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:L.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};L.equals=function(t,e,r){if(Ue.util.isArray(t)){if(!Ue.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!L.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&L.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};L.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function wa(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var Ok=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;wa(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};L.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Ue.util.createBuffer(t));var r=t.length(),n=lf(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function lf(t,e,r,n){var i;wa(t,e,2);var s=t.getByte();e--;var o=s&192,a=s&31;i=t.length();var u=Ok(t,e);if(e-=i-t.length(),u!==void 0&&u>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=u,c}u=e}var f,h,d=(s&32)===32;if(d)if(f=[],u===void 0)for(;;){if(wa(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),f.push(lf(t,e,r+1,n)),e-=i-t.length()}else for(;u>0;)i=t.length(),f.push(lf(t,u,r+1,n)),e-=i-t.length(),u-=i-t.length();if(f===void 0&&o===L.Class.UNIVERSAL&&a===L.Type.BITSTRING&&(h=t.bytes(u)),f===void 0&&n.decodeBitStrings&&o===L.Class.UNIVERSAL&&a===L.Type.BITSTRING&&u>1){var y=t.read,l=e,p=0;if(a===L.Type.BITSTRING&&(wa(t,e,1),p=t.getByte(),e--),p===0)try{i=t.length();var g={strict:!0,decodeBitStrings:!0},m=lf(t,e,r+1,g),b=i-t.length();e-=b,a==L.Type.BITSTRING&&b++;var v=m.tagClass;b===u&&(v===L.Class.UNIVERSAL||v===L.Class.CONTEXT_SPECIFIC)&&(f=[m])}catch{}f===void 0&&(t.read=y,e=l)}if(f===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(a===L.Type.BMPSTRING)for(f="";u>0;u-=2)wa(t,e,2),f+=String.fromCharCode(t.getInt16()),e-=2;else f=t.getBytes(u),e-=u}var x=h===void 0?null:{bitStringContents:h};return L.create(o,a,d,f,x)}L.toDer=function(t){var e=Ue.util.createBuffer(),r=t.tagClass|t.type,n=Ue.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=L.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(L.toDer(t.value[s]))}else if(t.type===L.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===L.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)e.putByte(a.charCodeAt(s))}return e.putBuffer(n),e};L.oidToDer=function(t){var e=t.split("."),r=Ue.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,o,a=2;a<e.length;++a){n=!0,i=[],s=parseInt(e[a],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var u=i.length-1;u>=0;--u)r.putByte(i[u])}return r};L.derToOid=function(t){var e;typeof t=="string"&&(t=Ue.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};L.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var u=t.charAt(10),c=10;u!=="+"&&u!=="-"&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,0),c&&(u=t.charAt(c),u==="+"||u==="-")){var f=parseInt(t.substr(c+1,2),10),h=parseInt(t.substr(c+4,2),10),d=f*60+h;d*=6e4,u==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};L.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;t.charAt(t.length-1)==="Z"&&(f=!0);var h=t.length-5,d=t.charAt(h);if(d==="+"||d==="-"){var y=parseInt(t.substr(h+1,2),10),l=parseInt(t.substr(h+4,2),10);c=y*60+l,c*=6e4,d==="+"&&(c*=-1),f=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(s,o,a,u)),e};L.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};L.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};L.integerToDer=function(t){var e=Ue.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};L.derToInteger=function(t){typeof t=="string"&&(t=Ue.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};L.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&Ue.util.isArray(e.value))for(var s=0,o=0;i&&o<e.value.length;++o)i=e.value[o].optional||!1,t.value[s]&&(i=L.validate(t.value[s],e.value[o],r,n),i?++s:e.value[o].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Bv=/[^\\u0000-\\u00ff]/;L.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case L.Class.UNIVERSAL:n+="Universal:";break;case L.Class.APPLICATION:n+="Application:";break;case L.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case L.Class.PRIVATE:n+="Private:";break}if(t.tagClass===L.Class.UNIVERSAL)switch(n+=t.type,t.type){case L.Type.NONE:n+=" (None)";break;case L.Type.BOOLEAN:n+=" (Boolean)";break;case L.Type.INTEGER:n+=" (Integer)";break;case L.Type.BITSTRING:n+=" (Bit string)";break;case L.Type.OCTETSTRING:n+=" (Octet string)";break;case L.Type.NULL:n+=" (Null)";break;case L.Type.OID:n+=" (Object Identifier)";break;case L.Type.ODESC:n+=" (Object Descriptor)";break;case L.Type.EXTERNAL:n+=" (External or Instance of)";break;case L.Type.REAL:n+=" (Real)";break;case L.Type.ENUMERATED:n+=" (Enumerated)";break;case L.Type.EMBEDDED:n+=" (Embedded PDV)";break;case L.Type.UTF8:n+=" (UTF8)";break;case L.Type.ROID:n+=" (Relative Object Identifier)";break;case L.Type.SEQUENCE:n+=" (Sequence)";break;case L.Type.SET:n+=" (Set)";break;case L.Type.PRINTABLESTRING:n+=" (Printable String)";break;case L.Type.IA5String:n+=" (IA5String (ASCII))";break;case L.Type.UTCTIME:n+=" (UTC time)";break;case L.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case L.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var o=0,a="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(o+=1,a+=L.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(a+=","));n+=i+"Sub values: "+o+a}else{if(n+=i+"Value: ",t.type===L.Type.OID){var u=L.derToOid(t.value);n+=u,Ue.pki&&Ue.pki.oids&&u in Ue.pki.oids&&(n+=" ("+Ue.pki.oids[u]+") ")}if(t.type===L.Type.INTEGER)try{n+=L.derToInteger(t.value)}catch{n+="0x"+Ue.util.bytesToHex(t.value)}else if(t.type===L.Type.BITSTRING){if(t.value.length>1?n+="0x"+Ue.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===L.Type.OCTETSTRING)Bv.test(t.value)||(n+="("+t.value+") "),n+="0x"+Ue.util.bytesToHex(t.value);else if(t.type===L.Type.UTF8)try{n+=Ue.util.decodeUtf8(t.value)}catch(f){if(f.message==="URI malformed")n+="0x"+Ue.util.bytesToHex(t.value)+" (malformed UTF8)";else throw f}else t.type===L.Type.PRINTABLESTRING||t.type===L.Type.IA5String?n+=t.value:Bv.test(t.value)?n+="0x"+Ue.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Ep=S((dH,Iv)=>{var ht=Be();nt();Iv.exports=ht.cipher=ht.cipher||{};ht.cipher.algorithms=ht.cipher.algorithms||{};ht.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=ht.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new ht.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};ht.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=ht.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new ht.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};ht.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),ht.cipher.algorithms[t]=e};ht.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in ht.cipher.algorithms?ht.cipher.algorithms[t]:null};var wp=ht.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};wp.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=ht.util.createBuffer(),this.output=t.output||ht.util.createBuffer(),this.mode.start(e)};wp.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};wp.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var Cp=S((pH,kv)=>{var dt=Be();nt();dt.cipher=dt.cipher||{};var ae=kv.exports=dt.cipher.modes=dt.cipher.modes||{};ae.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ae.ecb.prototype.start=function(t){};ae.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};ae.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};ae.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ae.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};ae.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ae.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=hf(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ae.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};ae.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};ae.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ae.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};ae.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=dt.util.createBuffer(),this._partialBytes=0};ae.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=hf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ae.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ae.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ae.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=dt.util.createBuffer(),this._partialBytes=0};ae.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=hf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ae.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ae.ofb.prototype.decrypt=ae.ofb.prototype.encrypt;ae.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=dt.util.createBuffer(),this._partialBytes=0};ae.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=hf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ae.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}df(this._inBlock)};ae.ctr.prototype.decrypt=ae.ctr.prototype.encrypt;ae.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=dt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ae.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=dt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=dt.util.createBuffer(t.additionalData):r=dt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=dt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Sp(n*8)))}this._inBlock=this._j0.slice(0),df(this._inBlock),this._partialBytes=0,r=dt.util.createBuffer(r),this._aDataLength=Sp(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ae.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),df(this._inBlock)};ae.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),df(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};ae.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=dt.util.createBuffer();var n=this._aDataLength.concat(Sp(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ae.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};ae.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};ae.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};ae.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};ae.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],u=o/n|0,c=(n-1-o%n)*e;a[u]=1<<e-1<<c,s[o]=this.generateSubHashTable(this.multiply(a,t),e)}return s};ae.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],u=i[o];i[s+o]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function hf(t,e){if(typeof t=="string"&&(t=dt.util.createBuffer(t)),dt.util.isArray(t)&&t.length>4){var r=t;t=dt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!dt.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}function df(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Sp(t){return[t/4294967296|0,t&4294967295]}});var Tp=S((yH,Uv)=>{var Ne=Be();Ep();Cp();nt();Uv.exports=Ne.aes=Ne.aes||{};Ne.aes.startEncrypting=function(t,e,r,n){var i=pf({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Ne.aes.createEncryptionCipher=function(t,e){return pf({key:t,output:null,decrypt:!1,mode:e})};Ne.aes.startDecrypting=function(t,e,r,n){var i=pf({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Ne.aes.createDecryptionCipher=function(t,e){return pf({key:t,output:null,decrypt:!0,mode:e})};Ne.aes.Algorithm=function(t,e){Bp||Nv();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return _p(r._w,n,i,!1)},decrypt:function(n,i){return _p(r._w,n,i,!0)}}}),r._init=!1};Ne.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Ne.util.createBuffer(e);else if(Ne.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Ne.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Ne.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Ne.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=Rv(e,t.decrypt&&!o),this._init=!0}};Ne.aes._expandKey=function(t,e){return Bp||Nv(),Rv(t,e)};Ne.aes._updateBlock=_p;Ws("AES-ECB",Ne.cipher.modes.ecb);Ws("AES-CBC",Ne.cipher.modes.cbc);Ws("AES-CFB",Ne.cipher.modes.cfb);Ws("AES-OFB",Ne.cipher.modes.ofb);Ws("AES-CTR",Ne.cipher.modes.ctr);Ws("AES-GCM",Ne.cipher.modes.gcm);function Ws(t,e){var r=function(){return new Ne.aes.Algorithm(t,e)};Ne.cipher.registerAlgorithm(t,r)}var Bp=!1,Gs=4,Bt,Ap,Ov,Ni,vr;function Nv(){Bp=!0,Ov=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Bt=new Array(256),Ap=new Array(256),Ni=new Array(4),vr=new Array(4);for(var e=0;e<4;++e)Ni[e]=new Array(256),vr[e]=new Array(256);for(var r=0,n=0,i,s,o,a,u,c,f,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,Bt[r]=a,Ap[a]=r,u=t[a],i=t[r],s=t[i],o=t[s],c=u<<24^a<<16^a<<8^(a^u),f=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var h=0;h<4;++h)Ni[h][r]=c,vr[h][a]=f,c=c<<24|c>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^t[t[t[i^o]]],n^=t[t[n]])}}function Rv(t,e){for(var r=t.slice(0),n,i=1,s=r.length,o=s+6+1,a=Gs*o,u=s;u<a;++u)n=r[u-1],u%s===0?(n=Bt[n>>>16&255]<<24^Bt[n>>>8&255]<<16^Bt[n&255]<<8^Bt[n>>>24]^Ov[i]<<24,i++):s>6&&u%s===4&&(n=Bt[n>>>24]<<24^Bt[n>>>16&255]<<16^Bt[n>>>8&255]<<8^Bt[n&255]),r[u]=r[u-s]^n;if(e){var c,f=vr[0],h=vr[1],d=vr[2],y=vr[3],l=r.slice(0);a=r.length;for(var u=0,p=a-Gs;u<a;u+=Gs,p-=Gs)if(u===0||u===a-Gs)l[u]=r[p],l[u+1]=r[p+3],l[u+2]=r[p+2],l[u+3]=r[p+1];else for(var g=0;g<Gs;++g)c=r[p+g],l[u+(3&-g)]=f[Bt[c>>>24]]^h[Bt[c>>>16&255]]^d[Bt[c>>>8&255]]^y[Bt[c&255]];r=l}return r}function _p(t,e,r,n){var i=t.length/4-1,s,o,a,u,c;n?(s=vr[0],o=vr[1],a=vr[2],u=vr[3],c=Ap):(s=Ni[0],o=Ni[1],a=Ni[2],u=Ni[3],c=Bt);var f,h,d,y,l,p,g;f=e[0]^t[0],h=e[n?3:1]^t[1],d=e[2]^t[2],y=e[n?1:3]^t[3];for(var m=3,b=1;b<i;++b)l=s[f>>>24]^o[h>>>16&255]^a[d>>>8&255]^u[y&255]^t[++m],p=s[h>>>24]^o[d>>>16&255]^a[y>>>8&255]^u[f&255]^t[++m],g=s[d>>>24]^o[y>>>16&255]^a[f>>>8&255]^u[h&255]^t[++m],y=s[y>>>24]^o[f>>>16&255]^a[h>>>8&255]^u[d&255]^t[++m],f=l,h=p,d=g;r[0]=c[f>>>24]<<24^c[h>>>16&255]<<16^c[d>>>8&255]<<8^c[y&255]^t[++m],r[n?3:1]=c[h>>>24]<<24^c[d>>>16&255]<<16^c[y>>>8&255]<<8^c[f&255]^t[++m],r[2]=c[d>>>24]<<24^c[y>>>16&255]<<16^c[f>>>8&255]<<8^c[h&255]^t[++m],r[n?1:3]=c[y>>>24]<<24^c[f>>>16&255]<<16^c[h>>>8&255]<<8^c[d&255]^t[++m]}function pf(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Ne.cipher.createDecipher(r,t.key):n=Ne.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof Ne.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var Pv=S((gH,Lv)=>{var qe=Be();Ep();Cp();nt();Lv.exports=qe.des=qe.des||{};qe.des.startEncrypting=function(t,e,r,n){var i=yf({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};qe.des.createEncryptionCipher=function(t,e){return yf({key:t,output:null,decrypt:!1,mode:e})};qe.des.startDecrypting=function(t,e,r,n){var i=yf({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};qe.des.createDecryptionCipher=function(t,e){return yf({key:t,output:null,decrypt:!0,mode:e})};qe.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Fv(r._keys,n,i,!1)},decrypt:function(n,i){return Fv(r._keys,n,i,!0)}}}),r._init=!1};qe.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=qe.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Kk(e),this._init=!0}};Jr("DES-ECB",qe.cipher.modes.ecb);Jr("DES-CBC",qe.cipher.modes.cbc);Jr("DES-CFB",qe.cipher.modes.cfb);Jr("DES-OFB",qe.cipher.modes.ofb);Jr("DES-CTR",qe.cipher.modes.ctr);Jr("3DES-ECB",qe.cipher.modes.ecb);Jr("3DES-CBC",qe.cipher.modes.cbc);Jr("3DES-CFB",qe.cipher.modes.cfb);Jr("3DES-OFB",qe.cipher.modes.ofb);Jr("3DES-CTR",qe.cipher.modes.ctr);function Jr(t,e){var r=function(){return new qe.des.Algorithm(t,e)};qe.cipher.registerAlgorithm(t,r)}var Nk=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Rk=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Uk=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Fk=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Lk=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Pk=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Mk=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],qk=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Kk(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],l=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],p=t.length()>8?3:1,g=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,v,x=0;x<p;x++){var D=t.getInt32(),w=t.getInt32();v=(D>>>4^w)&252645135,w^=v,D^=v<<4,v=(w>>>-16^D)&65535,D^=v,w^=v<<-16,v=(D>>>2^w)&858993459,w^=v,D^=v<<2,v=(w>>>-16^D)&65535,D^=v,w^=v<<-16,v=(D>>>1^w)&1431655765,w^=v,D^=v<<1,v=(w>>>8^D)&16711935,D^=v,w^=v<<8,v=(D>>>1^w)&1431655765,w^=v,D^=v<<1,v=D<<8|w>>>20&240,D=w<<24|w<<8&16711680|w>>>8&65280|w>>>24&240,w=v;for(var C=0;C<m.length;++C){m[C]?(D=D<<2|D>>>26,w=w<<2|w>>>26):(D=D<<1|D>>>27,w=w<<1|w>>>27),D&=-15,w&=-15;var _=e[D>>>28]|r[D>>>24&15]|n[D>>>20&15]|i[D>>>16&15]|s[D>>>12&15]|o[D>>>8&15]|a[D>>>4&15],F=u[w>>>28]|c[w>>>24&15]|f[w>>>20&15]|h[w>>>16&15]|d[w>>>12&15]|y[w>>>8&15]|l[w>>>4&15];v=(F>>>16^_)&65535,g[b++]=_^v,g[b++]=F^v<<16}}return g}function Fv(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=e[0],u=e[1];o=(a>>>4^u)&252645135,u^=o,a^=o<<4,o=(a>>>16^u)&65535,u^=o,a^=o<<16,o=(u>>>2^a)&858993459,a^=o,u^=o<<2,o=(u>>>8^a)&16711935,a^=o,u^=o<<8,o=(a>>>1^u)&1431655765,u^=o,a^=o<<1,a=a<<1|a>>>31,u=u<<1|u>>>31;for(var c=0;c<i;c+=3){for(var f=s[c+1],h=s[c+2],d=s[c];d!=f;d+=h){var y=u^t[d],l=(u>>>4|u<<28)^t[d+1];o=a,a=u,u=o^(Rk[y>>>24&63]|Fk[y>>>16&63]|Pk[y>>>8&63]|qk[y&63]|Nk[l>>>24&63]|Uk[l>>>16&63]|Lk[l>>>8&63]|Mk[l&63])}o=a,a=u,u=o}a=a>>>1|a<<31,u=u>>>1|u<<31,o=(a>>>1^u)&1431655765,u^=o,a^=o<<1,o=(u>>>8^a)&16711935,a^=o,u^=o<<8,o=(u>>>2^a)&858993459,a^=o,u^=o<<2,o=(a>>>16^u)&65535,u^=o,a^=o<<16,o=(a>>>4^u)&252645135,u^=o,a^=o<<4,r[0]=a,r[1]=u}function yf(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=qe.cipher.createDecipher(r,t.key):n=qe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof qe.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var Ri=S((mH,Mv)=>{var gf=Be();Mv.exports=gf.md=gf.md||{};gf.md.algorithms=gf.md.algorithms||{}});var Kv=S((bH,qv)=>{var Cn=Be();Ri();nt();var Vk=qv.exports=Cn.hmac=Cn.hmac||{};Vk.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in Cn.md.algorithms)e=Cn.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=t;else{if(typeof o=="string")o=Cn.util.createBuffer(o);else if(Cn.util.isArray(o)){var a=o;o=Cn.util.createBuffer();for(var u=0;u<a.length;++u)o.putByte(a[u])}var c=o.length();c>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=Cn.util.createBuffer(),n=Cn.util.createBuffer(),c=o.length();for(var u=0;u<c;++u){var a=o.at(u);r.putByte(54^a),n.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var zv=S((xH,Vv)=>{var Tt=Be();Kv();Ri();nt();var zk=Tt.pkcs5=Tt.pkcs5||{},An;Tt.util.isNodejs&&!Tt.options.usePureJavaScript&&(An=Re("crypto"));Vv.exports=Tt.pbkdf2=zk.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),Tt.util.isNodejs&&!Tt.options.usePureJavaScript&&An.pbkdf2&&(i===null||typeof i!="object")&&(An.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?An.pbkdf2Sync.length===4?An.pbkdf2(t,e,r,n,function(v,x){if(v)return s(v);s(null,x.toString("binary"))}):An.pbkdf2(t,e,r,n,i,function(v,x){if(v)return s(v);s(null,x.toString("binary"))}):An.pbkdf2Sync.length===4?An.pbkdf2Sync(t,e,r,n).toString("binary"):An.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Tt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Tt.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var u=Math.ceil(n/o),c=n-(u-1)*o,f=Tt.hmac.create();f.start(i,t);var h="",d,y,l;if(!s){for(var p=1;p<=u;++p){f.start(null,null),f.update(e),f.update(Tt.util.int32ToBytes(p)),d=l=f.digest().getBytes();for(var g=2;g<=r;++g)f.start(null,null),f.update(l),y=f.digest().getBytes(),d=Tt.util.xorBytes(d,y,o),l=y;h+=p<u?d:d.substr(0,c)}return h}var p=1,g;function m(){if(p>u)return s(null,h);f.start(null,null),f.update(e),f.update(Tt.util.int32ToBytes(p)),d=l=f.digest().getBytes(),g=2,b()}function b(){if(g<=r)return f.start(null,null),f.update(l),y=f.digest().getBytes(),d=Tt.util.xorBytes(d,y,o),l=y,++g,Tt.util.setImmediate(b);h+=p<u?d:d.substr(0,c),++p,m()}m()}});var jv=S((vH,$v)=>{var bf=Be();nt();var Hv=$v.exports=bf.pem=bf.pem||{};Hv.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=mf(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=mf(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=mf(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=mf(t.headers[i]);return t.procType&&(r+=`\r
`),r+=bf.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Hv.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var o=s[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var a={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:bf.util.decode64(s[3])};if(e.push(a),!!s[2]){for(var u=s[2].split(i),c=0;s&&c<u.length;){for(var f=u[c].replace(/\s+$/,""),h=c+1;h<u.length;++h){var d=u[h];if(!/\s/.test(d[0]))break;f+=d,c=h}if(s=f.match(n),s){for(var y={name:s[1],values:[]},l=s[2].split(","),p=0;p<l.length;++p)y.values.push(Hk(l[p]));if(a.procType)if(!a.contentDomain&&y.name==="Content-Domain")a.contentDomain=l[0]||"";else if(!a.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:l[0],parameters:l[1]||null}}else a.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:l[0],type:l[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function mf(t){for(var e=t.name+": ",r=[],n=function(u,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<e.length;++i,++s)if(s>65&&o!==-1){var a=e[o];a===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+a+e.substr(o+1),s=i-o-1,o=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(o=i);return e}function Hk(t){return t.replace(/^\s+/,"")}});var Zv=S((DH,Yv)=>{var Yr=Be();Ri();nt();var Wv=Yv.exports=Yr.sha256=Yr.sha256||{};Yr.md.sha256=Yr.md.algorithms.sha256=Wv;Wv.create=function(){Xv||$k();var t=null,e=Yr.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Yr.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Yr.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),Gv(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Yr.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Ip.substr(0,n.blockLength-o));for(var a,u,c=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Gv(h,r,i);var d=Yr.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d.putInt32(h.h5),d.putInt32(h.h6),d.putInt32(h.h7),d},n};var Ip=null,Xv=!1,Jv=null;function $k(){Ip=String.fromCharCode(128),Ip+=Yr.util.fillString(String.fromCharCode(0),64),Jv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Xv=!0}function Gv(t,e,r){for(var n,i,s,o,a,u,c,f,h,d,y,l,p,g,m,b=r.length();b>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(f=t.h0,h=t.h1,d=t.h2,y=t.h3,l=t.h4,p=t.h5,g=t.h6,m=t.h7,c=0;c<64;++c)o=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),a=g^l&(p^g),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),u=f&h|d&(f^h),n=m+o+a+Jv[c]+e[c],i=s+u,m=g,g=p,p=l,l=y+n>>>0,y=d,d=h,h=f,f=n+i>>>0;t.h0=t.h0+f|0,t.h1=t.h1+h|0,t.h2=t.h2+d|0,t.h3=t.h3+y|0,t.h4=t.h4+l|0,t.h5=t.h5+p|0,t.h6=t.h6+g|0,t.h7=t.h7+m|0,b-=64}}});var eD=S((wH,Qv)=>{var Zr=Be();nt();var xf=null;Zr.util.isNodejs&&!Zr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(xf=Re("crypto"));var jk=Qv.exports=Zr.prng=Zr.prng||{};jk.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,f){if(!f)return e.generateSync(c);var h=e.plugin.cipher,d=e.plugin.increment,y=e.plugin.formatKey,l=e.plugin.formatSeed,p=Zr.util.createBuffer();e.key=null,g();function g(m){if(m)return f(m);if(p.length()>=c)return f(null,p.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Zr.util.nextTick(function(){s(g)});var b=h(e.key,e.seed);e.generated+=b.length,p.putBytes(b),e.key=y(h(e.key,d(e.seed))),e.seed=l(h(e.key,e.seed)),Zr.util.setImmediate(g)}},e.generateSync=function(c){var f=e.plugin.cipher,h=e.plugin.increment,d=e.plugin.formatKey,y=e.plugin.formatSeed;e.key=null;for(var l=Zr.util.createBuffer();l.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&o();var p=f(e.key,e.seed);e.generated+=p.length,l.putBytes(p),e.key=d(f(e.key,h(e.seed))),e.seed=y(f(e.key,e.seed))}return l.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return a(),c();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(h,d){if(h)return c(h);e.collect(d),a(),c()})}function o(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var f=1,h=0;h<32;++h)e.reseeds%f===0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),f=f<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var d=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function u(c){var f=null,h=Zr.util.globalScope,d=h.crypto||h.msCrypto;d&&d.getRandomValues&&(f=function(D){return d.getRandomValues(D)});var y=Zr.util.createBuffer();if(f)for(;y.length()<c;){var l=Math.max(1,Math.min(c-y.length(),65536)/4),p=new Uint32Array(Math.floor(l));try{f(p);for(var g=0;g<p.length;++g)y.putInt32(p[g])}catch(D){if(!(typeof QuotaExceededError<"u"&&D instanceof QuotaExceededError))throw D}}if(y.length()<c)for(var m,b,v,x=Math.floor(Math.random()*65536);y.length()<c;){b=16807*(x&65535),m=16807*(x>>16),b+=(m&32767)<<16,b+=m>>15,b=(b&2147483647)+(b>>31),x=b&4294967295;for(var g=0;g<3;++g)v=x>>>(g<<3),v^=Math.floor(Math.random()*256),y.putByte(v&255)}return y.getBytes(c)}return xf?(e.seedFile=function(c,f){xf.randomBytes(c,function(h,d){if(h)return f(h);f(null,d.toString())})},e.seedFileSync=function(c){return xf.randomBytes(c).toString()}):(e.seedFile=function(c,f){try{f(null,u(c))}catch(h){f(h)}},e.seedFileSync=u),e.collect=function(c){for(var f=c.length,h=0;h<f;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,f){for(var h="",d=0;d<f;d+=8)h+=String.fromCharCode(c>>d&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,d){function y(l){var p=l.data;p.forge&&p.forge.prng&&(self.removeEventListener("message",y),d(p.forge.prng.err,p.forge.prng.bytes))}self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:h}}})};else{var f=function(h){var d=h.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(y,l){c.postMessage({forge:{prng:{err:y,bytes:l}}})})};c.addEventListener("message",f)}},e}});var Sa=S((EH,kp)=>{var pt=Be();Tp();Zv();eD();nt();(function(){if(pt.random&&pt.random.getBytes){kp.exports=pt.random;return}(function(t){var e={},r=new Array(4),n=pt.util.createBuffer();e.formatKey=function(h){var d=pt.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),pt.aes._expandKey(h,!1)},e.formatSeed=function(h){var d=pt.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),h},e.cipher=function(h,d){return pt.aes._updateBlock(h,d,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=pt.md.sha256;function i(){var h=pt.prng.create(e);return h.getBytes=function(d,y){return h.generate(d,y)},h.getBytesSync=function(d){return h.generate(d)},h}var s=i(),o=null,a=pt.util.globalScope,u=a.crypto||a.msCrypto;if(u&&u.getRandomValues&&(o=function(h){return u.getRandomValues(h)}),pt.options.usePureJavaScript||!pt.util.isNodejs&&!o){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var f in navigator)try{typeof navigator[f]=="string"&&(c+=navigator[f])}catch{}s.collect(c),c=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!pt.random)pt.random=s;else for(var f in s)pt.random[f]=s[f];pt.random.createInstance=i,kp.exports=pt.random})(typeof jQuery<"u"?jQuery:null)})()});var iD=S((SH,nD)=>{var Rt=Be();nt();var Op=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],tD=[1,2,3,5],Gk=function(t,e){return t<<e&65535|(t&65535)>>16-e},Wk=function(t,e){return(t&65535)>>e|t<<16-e&65535};nD.exports=Rt.rc2=Rt.rc2||{};Rt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Rt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),o=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(Op[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-s,Op[r.at(128-s)&o]),a=127-s;a>=0;a--)r.setAt(a,Op[r.at(a+1)^r.at(a+s)]);return r};var rD=function(t,e,r){var n=!1,i=null,s=null,o=null,a,u,c,f,h=[];for(t=Rt.rc2.expandKey(t,e),c=0;c<64;c++)h.push(t.getInt16Le());r?(a=function(l){for(c=0;c<4;c++)l[c]+=h[f]+(l[(c+3)%4]&l[(c+2)%4])+(~l[(c+3)%4]&l[(c+1)%4]),l[c]=Gk(l[c],tD[c]),f++},u=function(l){for(c=0;c<4;c++)l[c]+=h[l[(c+3)%4]&63]}):(a=function(l){for(c=3;c>=0;c--)l[c]=Wk(l[c],tD[c]),l[c]-=h[f]+(l[(c+3)%4]&l[(c+2)%4])+(~l[(c+3)%4]&l[(c+1)%4]),f--},u=function(l){for(c=3;c>=0;c--)l[c]-=h[l[(c+3)%4]&63]});var d=function(l){var p=[];for(c=0;c<4;c++){var g=i.getInt16Le();o!==null&&(r?g^=o.getInt16Le():o.putInt16Le(g)),p.push(g&65535)}f=r?0:63;for(var m=0;m<l.length;m++)for(var b=0;b<l[m][0];b++)l[m][1](p);for(c=0;c<4;c++)o!==null&&(r?o.putInt16Le(p[c]):p[c]^=o.getInt16Le()),s.putInt16Le(p[c])},y=null;return y={start:function(l,p){l&&typeof l=="string"&&(l=Rt.util.createBuffer(l)),n=!1,i=Rt.util.createBuffer(),s=p||new Rt.util.createBuffer,o=l,y.output=s},update:function(l){for(n||i.putBuffer(l);i.length()>=8;)d([[5,a],[1,u],[6,a],[1,u],[5,a]])},finish:function(l){var p=!0;if(r)if(l)p=l(8,i,!r);else{var g=i.length()===8?8:8-i.length();i.fillWithByte(g,g)}if(p&&(n=!0,y.update()),!r&&(p=i.length()===0,p))if(l)p=l(8,s,!r);else{var m=s.length(),b=s.at(m-1);b>m?p=!1:s.truncate(b)}return p}},y};Rt.rc2.startEncrypting=function(t,e,r){var n=Rt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Rt.rc2.createEncryptionCipher=function(t,e){return rD(t,e,!0)};Rt.rc2.startDecrypting=function(t,e,r){var n=Rt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Rt.rc2.createDecryptionCipher=function(t,e){return rD(t,e,!1)}});var wf=S((CH,hD)=>{var Np=Be();hD.exports=Np.jsbn=Np.jsbn||{};var _n,Xk=0xdeadbeefcafe,sD=(Xk&16777215)==15715070;function O(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Np.jsbn.BigInteger=O;function De(){return new O(null)}function Jk(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function Yk(t,e,r,n,i,s){for(var o=e&32767,a=e>>15;--s>=0;){var u=this.data[t]&32767,c=this.data[t++]>>15,f=a*u+c*o;u=o*u+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(u>>>30)+(f>>>15)+a*c+(i>>>30),r.data[n++]=u&1073741823}return i}function oD(t,e,r,n,i,s){for(var o=e&16383,a=e>>14;--s>=0;){var u=this.data[t]&16383,c=this.data[t++]>>14,f=a*u+c*o;u=o*u+((f&16383)<<14)+r.data[n]+i,i=(u>>28)+(f>>14)+a*c,r.data[n++]=u&268435455}return i}typeof navigator>"u"?(O.prototype.am=oD,_n=28):sD&&navigator.appName=="Microsoft Internet Explorer"?(O.prototype.am=Yk,_n=30):sD&&navigator.appName!="Netscape"?(O.prototype.am=Jk,_n=26):(O.prototype.am=oD,_n=28);O.prototype.DB=_n;O.prototype.DM=(1<<_n)-1;O.prototype.DV=1<<_n;var Rp=52;O.prototype.FV=Math.pow(2,Rp);O.prototype.F1=Rp-_n;O.prototype.F2=2*_n-Rp;var Zk="0123456789abcdefghijklmnopqrstuvwxyz",vf=new Array,Xs,tr;Xs="0".charCodeAt(0);for(tr=0;tr<=9;++tr)vf[Xs++]=tr;Xs="a".charCodeAt(0);for(tr=10;tr<36;++tr)vf[Xs++]=tr;Xs="A".charCodeAt(0);for(tr=10;tr<36;++tr)vf[Xs++]=tr;function aD(t){return Zk.charAt(t)}function uD(t,e){var r=vf[t.charCodeAt(e)];return r??-1}function Qk(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function eO(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function ei(t){var e=De();return e.fromInt(t),e}function tO(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=r==8?t[n]&255:uD(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&O.ZERO.subTo(this,this)}function rO(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function nO(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(i=!0,s=aD(n));o>=0;)a<e?(n=(this.data[o]&(1<<a)-1)<<e-a,n|=this.data[--o]>>(a+=this.DB-e)):(n=this.data[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=aD(n));return i?s:"0"}function iO(){var t=De();return O.ZERO.subTo(this,t),t}function sO(){return this.s<0?this.negate():this}function oO(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Df(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function aO(){return this.t<=0?0:this.DB*(this.t-1)+Df(this.data[this.t-1]^this.s&this.DM)}function uO(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function cO(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function fO(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;a>=0;--a)e.data[a]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function lO(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}function hO(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function dO(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&O.ZERO.subTo(e,e)}function pO(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function yO(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=De());var s=De(),o=this.s,a=t.s,u=this.DB-Df(n.data[n.t-1]);u>0?(n.lShiftTo(u,s),i.lShiftTo(u,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,f=s.data[c-1];if(f!=0){var h=f*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),d=this.FV/h,y=(1<<this.F1)/h,l=1<<this.F2,p=r.t,g=p-c,m=e??De();for(s.dlShiftTo(g,m),r.compareTo(m)>=0&&(r.data[r.t++]=1,r.subTo(m,r)),O.ONE.dlShiftTo(c,m),m.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--g>=0;){var b=r.data[--p]==f?this.DM:Math.floor(r.data[p]*d+(r.data[p-1]+l)*y);if((r.data[p]+=s.am(0,b,r,g,0,c))<b)for(s.dlShiftTo(g,m),r.subTo(m,r);r.data[p]<--b;)r.subTo(m,r)}e!=null&&(r.drShiftTo(c,e),o!=a&&O.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&O.ZERO.subTo(r,r)}}}function gO(t){var e=De();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(O.ZERO)>0&&t.subTo(e,e),e}function Ui(t){this.m=t}function mO(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function bO(t){return t}function xO(t){t.divRemTo(this.m,null,t)}function vO(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function DO(t,e){t.squareTo(e),this.reduce(e)}Ui.prototype.convert=mO;Ui.prototype.revert=bO;Ui.prototype.reduce=xO;Ui.prototype.mulTo=vO;Ui.prototype.sqrTo=DO;function wO(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Fi(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function EO(t){var e=De();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(O.ZERO)>0&&this.m.subTo(e,e),e}function SO(t){var e=De();return t.copyTo(e),this.reduce(e),e}function CO(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function AO(t,e){t.squareTo(e),this.reduce(e)}function _O(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Fi.prototype.convert=EO;Fi.prototype.revert=SO;Fi.prototype.reduce=CO;Fi.prototype.mulTo=_O;Fi.prototype.sqrTo=AO;function BO(){return(this.t>0?this.data[0]&1:this.s)==0}function TO(t,e){if(t>4294967295||t<1)return O.ONE;var r=De(),n=De(),i=e.convert(this),s=Df(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function IO(t,e){var r;return t<256||e.isEven()?r=new Ui(e):r=new Fi(e),this.exp(t,r)}O.prototype.copyTo=Qk;O.prototype.fromInt=eO;O.prototype.fromString=tO;O.prototype.clamp=rO;O.prototype.dlShiftTo=uO;O.prototype.drShiftTo=cO;O.prototype.lShiftTo=fO;O.prototype.rShiftTo=lO;O.prototype.subTo=hO;O.prototype.multiplyTo=dO;O.prototype.squareTo=pO;O.prototype.divRemTo=yO;O.prototype.invDigit=wO;O.prototype.isEven=BO;O.prototype.exp=TO;O.prototype.toString=nO;O.prototype.negate=iO;O.prototype.abs=sO;O.prototype.compareTo=oO;O.prototype.bitLength=aO;O.prototype.mod=gO;O.prototype.modPowInt=IO;O.ZERO=ei(0);O.ONE=ei(1);function kO(){var t=De();return this.copyTo(t),t}function OO(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function NO(){return this.t==0?this.s:this.data[0]<<24>>24}function RO(){return this.t==0?this.s:this.data[0]<<16>>16}function UO(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function FO(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function LO(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=ei(r),i=De(),s=De(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function PO(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,a=0;a<t.length;++a){var u=uD(t,a);if(u<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}o=e*o+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&O.ZERO.subTo(this,this)}function MO(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(O.ONE.shiftLeft(t-1),Up,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(O.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function qO(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function KO(t){return this.compareTo(t)==0}function VO(t){return this.compareTo(t)<0?this:t}function zO(t){return this.compareTo(t)>0?this:t}function HO(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function $O(t,e){return t&e}function jO(t){var e=De();return this.bitwiseTo(t,$O,e),e}function Up(t,e){return t|e}function GO(t){var e=De();return this.bitwiseTo(t,Up,e),e}function cD(t,e){return t^e}function WO(t){var e=De();return this.bitwiseTo(t,cD,e),e}function fD(t,e){return t&~e}function XO(t){var e=De();return this.bitwiseTo(t,fD,e),e}function JO(){for(var t=De(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function YO(t){var e=De();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function ZO(t){var e=De();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function QO(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function eN(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+QO(this.data[t]);return this.s<0?this.t*this.DB:-1}function tN(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function rN(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=tN(this.data[r]^e);return t}function nN(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function iN(t,e){var r=O.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function sN(t){return this.changeBit(t,Up)}function oN(t){return this.changeBit(t,fD)}function aN(t){return this.changeBit(t,cD)}function uN(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function cN(t){var e=De();return this.addTo(t,e),e}function fN(t){var e=De();return this.subTo(t,e),e}function lN(t){var e=De();return this.multiplyTo(t,e),e}function hN(t){var e=De();return this.divRemTo(t,e,null),e}function dN(t){var e=De();return this.divRemTo(t,null,e),e}function pN(t){var e=De(),r=De();return this.divRemTo(t,e,r),new Array(e,r)}function yN(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function gN(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Ca(){}function lD(t){return t}function mN(t,e,r){t.multiplyTo(e,r)}function bN(t,e){t.squareTo(e)}Ca.prototype.convert=lD;Ca.prototype.revert=lD;Ca.prototype.mulTo=mN;Ca.prototype.sqrTo=bN;function xN(t){return this.exp(t,new Ca)}function vN(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function DN(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Js(t){this.r2=De(),this.q3=De(),O.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function wN(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=De();return t.copyTo(e),this.reduce(e),e}function EN(t){return t}function SN(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function CN(t,e){t.squareTo(e),this.reduce(e)}function AN(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Js.prototype.convert=wN;Js.prototype.revert=EN;Js.prototype.reduce=SN;Js.prototype.mulTo=AN;Js.prototype.sqrTo=CN;function _N(t,e){var r=t.bitLength(),n,i=ei(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Ui(e):e.isEven()?s=new Js(e):s=new Fi(e);var o=new Array,a=3,u=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var f=De();for(s.sqrTo(o[1],f);a<=c;)o[a]=De(),s.mulTo(f,o[a-2],o[a]),a+=2}var h=t.t-1,d,y=!0,l=De(),p;for(r=Df(t.data[h])-1;h>=0;){for(r>=u?d=t.data[h]>>r-u&c:(d=(t.data[h]&(1<<r+1)-1)<<u-r,h>0&&(d|=t.data[h-1]>>this.DB+r-u)),a=n;(d&1)==0;)d>>=1,--a;if((r-=a)<0&&(r+=this.DB,--h),y)o[d].copyTo(i),y=!1;else{for(;a>1;)s.sqrTo(i,l),s.sqrTo(l,i),a-=2;a>0?s.sqrTo(i,l):(p=i,i=l,l=p),s.mulTo(l,o[d],i)}for(;h>=0&&(t.data[h]&1<<r)==0;)s.sqrTo(i,l),p=i,i=l,l=p,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}function BN(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function TN(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function IN(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return O.ZERO;for(var r=t.clone(),n=this.clone(),i=ei(1),s=ei(0),o=ei(0),a=ei(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(O.ONE)!=0)return O.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var Dr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],kN=(1<<26)/Dr[Dr.length-1];function ON(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Dr[Dr.length-1]){for(e=0;e<Dr.length;++e)if(r.data[0]==Dr[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Dr.length;){for(var n=Dr[e],i=e+1;i<Dr.length&&n<kN;)n*=Dr[i++];for(n=r.modInt(n);e<i;)if(n%Dr[e++]==0)return!1}return r.millerRabin(t)}function NN(t){var e=this.subtract(O.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=RN(),s,o=0;o<t;++o){do s=new O(this.bitLength(),i);while(s.compareTo(O.ONE)<=0||s.compareTo(e)>=0);var a=s.modPow(n,this);if(a.compareTo(O.ONE)!=0&&a.compareTo(e)!=0){for(var u=1;u++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(O.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function RN(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}O.prototype.chunkSize=UO;O.prototype.toRadix=LO;O.prototype.fromRadix=PO;O.prototype.fromNumber=MO;O.prototype.bitwiseTo=HO;O.prototype.changeBit=iN;O.prototype.addTo=uN;O.prototype.dMultiply=yN;O.prototype.dAddOffset=gN;O.prototype.multiplyLowerTo=vN;O.prototype.multiplyUpperTo=DN;O.prototype.modInt=TN;O.prototype.millerRabin=NN;O.prototype.clone=kO;O.prototype.intValue=OO;O.prototype.byteValue=NO;O.prototype.shortValue=RO;O.prototype.signum=FO;O.prototype.toByteArray=qO;O.prototype.equals=KO;O.prototype.min=VO;O.prototype.max=zO;O.prototype.and=jO;O.prototype.or=GO;O.prototype.xor=WO;O.prototype.andNot=XO;O.prototype.not=JO;O.prototype.shiftLeft=YO;O.prototype.shiftRight=ZO;O.prototype.getLowestSetBit=eN;O.prototype.bitCount=rN;O.prototype.testBit=nN;O.prototype.setBit=sN;O.prototype.clearBit=oN;O.prototype.flipBit=aN;O.prototype.add=cN;O.prototype.subtract=fN;O.prototype.multiply=lN;O.prototype.divide=hN;O.prototype.remainder=dN;O.prototype.divideAndRemainder=pN;O.prototype.modPow=_N;O.prototype.modInverse=IN;O.prototype.pow=xN;O.prototype.gcd=BN;O.prototype.isProbablePrime=ON});var mD=S((AH,gD)=>{var Qr=Be();Ri();nt();var pD=gD.exports=Qr.sha1=Qr.sha1||{};Qr.md.sha1=Qr.md.algorithms.sha1=pD;pD.create=function(){yD||UN();var t=null,e=Qr.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Qr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Qr.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),dD(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Qr.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Fp.substr(0,n.blockLength-o));for(var a,u,c=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};dD(h,r,i);var d=Qr.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d},n};var Fp=null,yD=!1;function UN(){Fp=String.fromCharCode(128),Fp+=Qr.util.fillString(String.fromCharCode(0),64),yD=!0}function dD(t,e,r){for(var n,i,s,o,a,u,c,f,h=r.length();h>=64;){for(i=t.h0,s=t.h1,o=t.h2,a=t.h3,u=t.h4,f=0;f<16;++f)n=r.getInt32(),e[f]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=s^o^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=s^o^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=s&o|a&(s^o),n=(i<<5|i>>>27)+c+u+2400959708+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=s^o^a,n=(i<<5|i>>>27)+c+u+3395469782+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,h-=64}}});var vD=S((_H,xD)=>{var en=Be();nt();Sa();mD();var bD=xD.exports=en.pkcs1=en.pkcs1||{};bD.encode_rsa_oaep=function(t,e,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=en.md.sha1.create(),o||(o=s);var a=Math.ceil(t.n.bitLength()/8),u=a-2*s.digestLength-2;if(e.length>u){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=u,c}n||(n=""),s.update(n,"raw");for(var f=s.digest(),h="",d=u-e.length,y=0;y<d;y++)h+="\0";var l=f.getBytes()+h+""+e;if(!i)i=en.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=s.digestLength,c}var p=Ef(i,a-s.digestLength-1,o),g=en.util.xorBytes(l,p,l.length),m=Ef(g,s.digestLength,o),b=en.util.xorBytes(i,m,i.length);return"\0"+b+g};bD.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=e.length,g.expectedLength=o,g}if(i===void 0?i=en.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),u=e.charAt(0),c=e.substring(1,i.digestLength+1),f=e.substring(1+i.digestLength),h=Ef(f,i.digestLength,s),d=en.util.xorBytes(c,h,c.length),y=Ef(d,o-i.digestLength-1,s),l=en.util.xorBytes(f,y,f.length),p=l.substring(0,i.digestLength),g=u!=="\0",m=0;m<i.digestLength;++m)g|=a.charAt(m)!==p.charAt(m);for(var b=1,v=i.digestLength,x=i.digestLength;x<l.length;x++){var D=l.charCodeAt(x),w=D&1^1,C=b?65534:0;g|=D&C,b=b&w,v+=b}if(g||l.charCodeAt(v)!==1)throw new Error("Invalid RSAES-OAEP padding.");return l.substring(v+1)};function Ef(t,e,r){r||(r=en.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}});var DD=S((BH,Lp)=>{var ti=Be();nt();wf();Sa();(function(){if(ti.prime){Lp.exports=ti.prime;return}var t=Lp.exports=ti.prime=ti.prime||{},e=ti.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(h,d){return h|d};t.generateProbablePrime=function(h,d,y){typeof d=="function"&&(y=d,d={}),d=d||{};var l=d.algorithm||"PRIMEINC";typeof l=="string"&&(l={name:l}),l.options=l.options||{};var p=d.prng||ti.random,g={nextBytes:function(m){for(var b=p.getBytesSync(m.length),v=0;v<m.length;++v)m[v]=b.charCodeAt(v)}};if(l.name==="PRIMEINC")return s(h,g,l.options,y);throw new Error("Invalid prime generation algorithm: "+l.name)};function s(h,d,y,l){return"workers"in y?u(h,d,y,l):o(h,d,y,l)}function o(h,d,y,l){var p=c(h,d),g=0,m=f(p.bitLength());"millerRabinTests"in y&&(m=y.millerRabinTests);var b=10;"maxBlockTime"in y&&(b=y.maxBlockTime),a(p,h,d,g,m,b,l)}function a(h,d,y,l,p,g,m){var b=+new Date;do{if(h.bitLength()>d&&(h=c(d,y)),h.isProbablePrime(p))return m(null,h);h.dAddOffset(r[l++%8],0)}while(g<0||+new Date-b<g);ti.util.setImmediate(function(){a(h,d,y,l,p,g,m)})}function u(h,d,y,l){if(typeof Worker>"u")return o(h,d,y,l);var p=c(h,d),g=y.workers,m=y.workLoad||100,b=m*30/8,v=y.workerScript||"forge/prime.worker.js";if(g===-1)return ti.util.estimateCores(function(D,w){D&&(w=2),g=w-1,x()});x();function x(){g=Math.max(1,g);for(var D=[],w=0;w<g;++w)D[w]=new Worker(v);for(var C=g,w=0;w<g;++w)D[w].addEventListener("message",F);var _=!1;function F(z){if(!_){--C;var Y=z.data;if(Y.found){for(var V=0;V<D.length;++V)D[V].terminate();return _=!0,l(null,new e(Y.prime,16))}p.bitLength()>h&&(p=c(h,d));var ue=p.toString(16);z.target.postMessage({hex:ue,workLoad:m}),p.dAddOffset(b,0)}}}}function c(h,d){var y=new e(h,d),l=h-1;return y.testBit(l)||y.bitwiseTo(e.ONE.shiftLeft(l),i,y),y.dAddOffset(31-y.mod(n).byteValue(),0),y}function f(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var Mp=S((TH,BD)=>{var G=Be();Ea();wf();ff();vD();DD();Sa();nt();typeof ge>"u"&&(ge=G.jsbn.BigInteger);var ge,Pp=G.util.isNodejs?Re("crypto"):null,A=G.asn1,rr=G.util;G.pki=G.pki||{};BD.exports=G.pki.rsa=G.rsa=G.rsa||{};var te=G.pki,FN=[6,4,2,4,2,4,6,2],LN={name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},PN={name:"RSAPrivateKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},MN={name:"RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},qN=G.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},KN={name:"DigestInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:A.Class.UNIVERSAL,type:A.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},VN=function(t){var e;if(t.algorithm in te.oids)e=te.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=A.oidToDer(e).getBytes(),i=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]),s=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);s.value.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,n)),s.value.push(A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,""));var o=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(o),A.toDer(i).getBytes()},AD=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(ge.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(ge.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new ge(G.util.bytesToHex(G.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(ge.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var o=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(n.modInverse(e.n)).mod(e.n),o};te.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=_D(t,e,r)):(i=G.util.createBuffer(),i.putBytes(t));for(var o=new ge(i.toHex(),16),a=AD(o,e,n),u=a.toString(16),c=G.util.createBuffer(),f=s-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(G.util.hexToBytes(u)),c.getBytes()};te.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var o=new ge(G.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=AD(o,e,r),u=a.toString(16),c=G.util.createBuffer(),f=i-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(G.util.hexToBytes(u)),n!==!1?Sf(c.getBytes(),e,r):c.getBytes()};te.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||G.random,i={nextBytes:function(a){for(var u=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=u.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new ge(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};te.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new ge(null);r.fromInt(30);for(var n=0,i=function(h,d){return h|d},s=+new Date,o,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,c=u-1;t.pqState===0?(t.num=new ge(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(ge.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(HN(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(FN[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(ge.ONE).gcd(t.e).compareTo(ge.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(ge.ONE),t.q1=t.q.subtract(ge.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(ge.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var f=t.e.modInverse(t.phi);t.keys={privateKey:te.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:te.rsa.setPublicKey(t.n,t.e)}}o=+new Date,a+=o-s,s=o}return t.keys!==null};te.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!G.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(wD("generateKeyPair"))return Pp.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,u,c){if(a)return n(a);n(null,{privateKey:te.privateKeyFromPem(c),publicKey:te.publicKeyFromPem(u)})});if(ED("generateKey")&&ED("exportKey"))return rr.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:CD(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return rr.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var u=te.privateKeyFromAsn1(A.fromDer(G.util.createBuffer(a)));n(null,{privateKey:u,publicKey:te.setRsaPublicKey(u.n,u.e)})}});if(SD("generateKey")&&SD("exportKey")){var i=rr.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:CD(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var u=a.target.result,c=rr.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);c.oncomplete=function(f){var h=f.target.result,d=te.privateKeyFromAsn1(A.fromDer(G.util.createBuffer(h)));n(null,{privateKey:d,publicKey:te.setRsaPublicKey(d.n,d.e)})},c.onerror=function(f){n(f)}},i.onerror=function(a){n(a)};return}}else if(wD("generateKeyPairSync")){var s=Pp.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:te.privateKeyFromPem(s.privateKey),publicKey:te.publicKeyFromPem(s.publicKey)}}}var o=te.rsa.createKeyPairGenerationState(t,e,r);if(!n)return te.rsa.stepKeyPairGenerationState(o,0),o.keys;zN(o,r,n)};te.setRsaPublicKey=te.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,u,c){return _D(a,u,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,u){return G.pkcs1.encode_rsa_oaep(u,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return te.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s,o){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:function(u,c){c=Sf(c,r,!0);var f=A.fromDer(c,{parseAllBytes:o._parseAllDigestBytes}),h={},d=[];if(!A.validate(f,KN,h,d)){var y=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw y.errors=d,y}var l=A.derToOid(h.algorithmIdentifier);if(!(l===G.oids.md2||l===G.oids.md5||l===G.oids.sha1||l===G.oids.sha224||l===G.oids.sha256||l===G.oids.sha384||l===G.oids.sha512||l===G.oids["sha512-224"]||l===G.oids["sha512-256"])){var y=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw y.oid=l,y}if((l===G.oids.md2||l===G.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===h.digest}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(u,c){return c=Sf(c,r,!0),u===c}});var a=te.rsa.decrypt(i,r,!0,!1);return s.verify(n,a,r.n.bitLength())},r};te.setRsaPrivateKey=te.rsa.setPrivateKey=function(t,e,r,n,i,s,o,a){var u={n:t,e,d:r,p:n,q:i,dP:s,dQ:o,qInv:a};return u.decrypt=function(c,f,h){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var d=te.rsa.decrypt(c,u,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:Sf};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(y,l){return G.pkcs1.decode_rsa_oaep(l,y,h)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(y){return y}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(d,u,!1)},u.sign=function(c,f){var h=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:VN},h=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return c}},h=1);var d=f.encode(c,u.n.bitLength());return te.rsa.encrypt(d,u,h)},u};te.wrapRsaPrivateKey=function(t){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(te.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(t).getBytes())])};te.privateKeyFromAsn1=function(t){var e={},r=[];if(A.validate(t,LN,e,r)&&(t=A.fromDer(G.util.createBuffer(e.privateKey))),e={},r=[],!A.validate(t,PN,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,a,u,c,f,h;return i=G.util.createBuffer(e.privateKeyModulus).toHex(),s=G.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=G.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=G.util.createBuffer(e.privateKeyPrime1).toHex(),u=G.util.createBuffer(e.privateKeyPrime2).toHex(),c=G.util.createBuffer(e.privateKeyExponent1).toHex(),f=G.util.createBuffer(e.privateKeyExponent2).toHex(),h=G.util.createBuffer(e.privateKeyCoefficient).toHex(),te.setRsaPrivateKey(new ge(i,16),new ge(s,16),new ge(o,16),new ge(a,16),new ge(u,16),new ge(c,16),new ge(f,16),new ge(h,16))};te.privateKeyToAsn1=te.privateKeyToRSAPrivateKey=function(t){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.e)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.d)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.p)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.q)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.dP)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.dQ)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.qInv))])};te.publicKeyFromAsn1=function(t){var e={},r=[];if(A.validate(t,qN,e,r)){var n=A.derToOid(e.publicKeyOid);if(n!==te.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!A.validate(t,MN,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=G.util.createBuffer(e.publicKeyModulus).toHex(),o=G.util.createBuffer(e.publicKeyExponent).toHex();return te.setRsaPublicKey(new ge(s,16),new ge(o,16))};te.publicKeyToAsn1=te.publicKeyToSubjectPublicKeyInfo=function(t){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(te.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,[te.publicKeyToRSAPublicKey(t)])])};te.publicKeyToRSAPublicKey=function(t){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,tn(t.e))])};function _D(t,e,r){var n=G.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var u=0;u<o;++u)n.putByte(a)}else for(;o>0;){for(var c=0,f=G.random.getBytes(o),u=0;u<o;++u)a=f.charCodeAt(u),a===0?++c:n.putByte(a);o=c}return n.putByte(0),n.putBytes(t),n}function Sf(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=G.util.createBuffer(t),o=s.getByte(),a=s.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(a===0){u=i-3-n;for(var c=0;c<u;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(u=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++u}else if(a===2)for(u=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++u}var f=s.getByte();if(f!==0||u!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function zN(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(a,u){if(a)return r(a);if(t.p=u,t.q!==null)return o(a,t.q);s(t.qBits,o)})}function s(a,u){G.prime.generateProbablePrime(a,n,u)}function o(a,u){if(a)return r(a);if(t.q=u,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(ge.ONE).gcd(t.e).compareTo(ge.ONE)!==0){t.p=null,i();return}if(t.q.subtract(ge.ONE).gcd(t.e).compareTo(ge.ONE)!==0){t.q=null,s(t.qBits,o);return}if(t.p1=t.p.subtract(ge.ONE),t.q1=t.q.subtract(ge.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(ge.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,o);return}var f=t.e.modInverse(t.phi);t.keys={privateKey:te.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:te.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function tn(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=G.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function HN(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function wD(t){return G.util.isNodejs&&typeof Pp[t]=="function"}function ED(t){return typeof rr.globalScope<"u"&&typeof rr.globalScope.crypto=="object"&&typeof rr.globalScope.crypto.subtle=="object"&&typeof rr.globalScope.crypto.subtle[t]=="function"}function SD(t){return typeof rr.globalScope<"u"&&typeof rr.globalScope.msCrypto=="object"&&typeof rr.globalScope.msCrypto.subtle=="object"&&typeof rr.globalScope.msCrypto.subtle[t]=="function"}function CD(t){for(var e=G.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var RD=S((IH,ND)=>{var q=Be();Tp();Ea();Pv();Ri();ff();zv();jv();Sa();iD();Mp();nt();typeof TD>"u"&&(TD=q.jsbn.BigInteger);var TD,B=q.asn1,ne=q.pki=q.pki||{};ND.exports=ne.pbe=q.pbe=q.pbe||{};var Li=ne.oids,$N={name:"EncryptedPrivateKeyInfo",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:B.Class.UNIVERSAL,type:B.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:B.Class.UNIVERSAL,type:B.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},jN={name:"PBES2Algorithms",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:B.Class.UNIVERSAL,type:B.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:B.Class.UNIVERSAL,type:B.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:B.Class.UNIVERSAL,type:B.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:B.Class.UNIVERSAL,type:B.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:B.Class.UNIVERSAL,type:B.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},GN={name:"pkcs-12PbeParams",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:B.Class.UNIVERSAL,type:B.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"iterations"}]};ne.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=q.random.getBytesSync(r.saltSize),i=r.count,s=B.integerToDer(i),o,a,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,f,h;switch(r.algorithm){case"aes128":o=16,c=16,f=Li["aes128-CBC"],h=q.aes.createEncryptionCipher;break;case"aes192":o=24,c=16,f=Li["aes192-CBC"],h=q.aes.createEncryptionCipher;break;case"aes256":o=32,c=16,f=Li["aes256-CBC"],h=q.aes.createEncryptionCipher;break;case"des":o=8,c=8,f=Li.desCBC,h=q.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),l=OD(y),p=q.pkcs5.pbkdf2(e,n,i,o,l),g=q.random.getBytesSync(c),m=h(p);m.start(g),m.update(B.toDer(t)),m.finish(),u=m.output.getBytes();var b=WN(n,s,o,y);a=B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OID,!1,B.oidToDer(Li.pkcs5PBES2).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OID,!1,B.oidToDer(Li.pkcs5PBKDF2).getBytes()),b]),B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OID,!1,B.oidToDer(f).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.OCTETSTRING,!1,g)])])])}else if(r.algorithm==="3des"){o=24;var v=new q.util.ByteBuffer(n),p=ne.pbe.generatePkcs12Key(e,v,1,i,o),g=ne.pbe.generatePkcs12Key(e,v,2,i,o),m=q.des.createEncryptionCipher(p);m.start(g),m.update(B.toDer(t)),m.finish(),u=m.output.getBytes(),a=B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OID,!1,B.oidToDer(Li["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OCTETSTRING,!1,n),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,s.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var x=B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[a,B.create(B.Class.UNIVERSAL,B.Type.OCTETSTRING,!1,u)]);return x};ne.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!B.validate(t,$N,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=B.derToOid(n.encryptionOid),a=ne.pbe.getCipher(o,n.encryptionParams,e),u=q.util.createBuffer(n.encryptedData);return a.update(u),a.finish()&&(r=B.fromDer(a.output)),r};ne.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:B.toDer(t).getBytes()};return q.pem.encode(r,{maxline:e})};ne.encryptedPrivateKeyFromPem=function(t){var e=q.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return B.fromDer(e.body)};ne.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=ne.wrapRsaPrivateKey(ne.privateKeyToAsn1(t));return n=ne.encryptPrivateKeyInfo(n,e,r),ne.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=q.random.getBytesSync(8),a=q.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=q.random.getBytesSync(8),a=q.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=q.pbe.opensslDeriveBytes(e,s.substr(0,8),o),f=a(c);f.start(s),f.update(B.toDer(ne.privateKeyToAsn1(t))),f.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:q.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return q.pem.encode(h)};ne.decryptRsaPrivateKey=function(t,e){var r=null,n=q.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=q.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=q.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=q.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=q.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=q.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(h){return q.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,o=function(h){return q.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,o=function(h){return q.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=q.util.hexToBytes(n.dekInfo.parameters),u=q.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(u);if(c.start(a),c.update(q.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ne.decryptPrivateKeyInfo(B.fromDer(r),e):r=B.fromDer(r),r!==null&&(r=ne.privateKeyFromAsn1(r)),r};ne.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var o,a;if(typeof s>"u"||s===null){if(!("sha1"in q.md))throw new Error('"sha1" hash algorithm unavailable.');s=q.md.sha1.create()}var u=s.digestLength,c=s.blockLength,f=new q.util.ByteBuffer,h=new q.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)h.putInt16(t.charCodeAt(a));h.putInt16(0)}var d=h.length(),y=e.length(),l=new q.util.ByteBuffer;l.fillWithByte(r,c);var p=c*Math.ceil(y/c),g=new q.util.ByteBuffer;for(a=0;a<p;a++)g.putByte(e.at(a%y));var m=c*Math.ceil(d/c),b=new q.util.ByteBuffer;for(a=0;a<m;a++)b.putByte(h.at(a%d));var v=g;v.putBuffer(b);for(var x=Math.ceil(i/u),D=1;D<=x;D++){var w=new q.util.ByteBuffer;w.putBytes(l.bytes()),w.putBytes(v.bytes());for(var C=0;C<n;C++)s.start(),s.update(w.getBytes()),w=s.digest();var _=new q.util.ByteBuffer;for(a=0;a<c;a++)_.putByte(w.at(a%u));var F=Math.ceil(y/c)+Math.ceil(d/c),z=new q.util.ByteBuffer;for(o=0;o<F;o++){var Y=new q.util.ByteBuffer(v.getBytes(c)),V=511;for(a=_.length()-1;a>=0;a--)V=V>>8,V+=_.at(a)+Y.at(a),Y.setAt(a,V&255);z.putBuffer(Y)}v=z,f.putBuffer(w)}return f.truncate(f.length()-i),f};ne.pbe.getCipher=function(t,e,r){switch(t){case ne.oids.pkcs5PBES2:return ne.pbe.getCipherForPBES2(t,e,r);case ne.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ne.oids["pbewithSHAAnd40BitRC2-CBC"]:return ne.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ne.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!B.validate(e,jN,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=B.derToOid(n.kdfOid),t!==ne.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=B.derToOid(n.encOid),t!==ne.oids["aes128-CBC"]&&t!==ne.oids["aes192-CBC"]&&t!==ne.oids["aes256-CBC"]&&t!==ne.oids["des-EDE3-CBC"]&&t!==ne.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,a=q.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var u,c;switch(ne.oids[t]){case"aes128-CBC":u=16,c=q.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,c=q.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,c=q.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,c=q.des.createDecryptionCipher;break;case"desCBC":u=8,c=q.des.createDecryptionCipher;break}var f=kD(n.prfOid),h=q.pkcs5.pbkdf2(r,o,a,u,f),d=n.encIv,y=c(h);return y.start(d),y};ne.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!B.validate(e,GN,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=q.util.createBuffer(n.salt),a=q.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var u,c,f;switch(t){case ne.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,f=q.des.startDecrypting;break;case ne.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,f=function(p,g){var m=q.rc2.createDecryptionCipher(p,40);return m.start(g,null),m};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=kD(n.prfOid),d=ne.pbe.generatePkcs12Key(r,o,1,a,u,h);h.start();var y=ne.pbe.generatePkcs12Key(r,o,2,a,c,h);return f(d,y)};ne.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in q.md))throw new Error('"md5" hash algorithm unavailable.');n=q.md.md5.create()}e===null&&(e="");for(var i=[ID(n,t+e)],s=16,o=1;s<r;++o,s+=16)i.push(ID(n,i[o-1]+t+e));return i.join("").substr(0,r)};function ID(t,e){return t.start().update(e).digest().getBytes()}function kD(t){var e;if(!t)e="hmacWithSHA1";else if(e=ne.oids[B.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return OD(e)}function OD(t){var e=q.md;switch(t){case"hmacWithSHA224":e=q.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function WN(t,e,r,n){var i=B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OCTETSTRING,!1,t),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,q.util.hexToBytes(r.toString(16))),B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OID,!1,B.oidToDer(ne.oids[n]).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.NULL,!1,"")])),i}});var s8=S((V$,i8)=>{var Fe=Be();Ri();nt();var Ia=i8.exports=Fe.sha512=Fe.sha512||{};Fe.md.sha512=Fe.md.algorithms.sha512=Ia;var r8=Fe.sha384=Fe.sha512.sha384=Fe.sha512.sha384||{};r8.create=function(){return Ia.create("SHA-384")};Fe.md.sha384=Fe.md.algorithms.sha384=r8;Fe.sha512.sha256=Fe.sha512.sha256||{create:function(){return Ia.create("SHA-512/256")}};Fe.md["sha512/256"]=Fe.md.algorithms["sha512/256"]=Fe.sha512.sha256;Fe.sha512.sha224=Fe.sha512.sha224||{create:function(){return Ia.create("SHA-512/224")}};Fe.md["sha512/224"]=Fe.md.algorithms["sha512/224"]=Fe.sha512.sha224;Ia.create=function(t){if(n8||aR(),typeof t>"u"&&(t="SHA-512"),!(t in qi))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=qi[t],r=null,n=Fe.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(t){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var u=a.messageLengthSize/4,c=0;c<u;++c)a.fullMessageLength.push(0);n=Fe.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return a},a.start(),a.update=function(u,c){c==="utf8"&&(u=Fe.util.encodeUtf8(u));var f=u.length;a.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var h=a.fullMessageLength.length-1;h>=0;--h)a.fullMessageLength[h]+=f[1],f[1]=f[0]+(a.fullMessageLength[h]/4294967296>>>0),a.fullMessageLength[h]=a.fullMessageLength[h]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(u),t8(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var u=Fe.util.createBuffer();u.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,f=c&a.blockLength-1;u.putBytes(fy.substr(0,a.blockLength-f));for(var h,d,y=a.fullMessageLength[0]*8,l=0;l<a.fullMessageLength.length-1;++l)h=a.fullMessageLength[l+1]*8,d=h/4294967296>>>0,y+=d,u.putInt32(y>>>0),y=h>>>0;u.putInt32(y);for(var p=new Array(r.length),l=0;l<r.length;++l)p[l]=r[l].slice(0);t8(p,i,u);var g=Fe.util.createBuffer(),m;t==="SHA-512"?m=p.length:t==="SHA-384"?m=p.length-2:m=p.length-4;for(var l=0;l<m;++l)g.putInt32(p[l][0]),(l!==m-1||t!=="SHA-512/224")&&g.putInt32(p[l][1]);return g},a};var fy=null,n8=!1,ly=null,qi=null;function aR(){fy=String.fromCharCode(128),fy+=Fe.util.fillString(String.fromCharCode(0),128),ly=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],qi={},qi["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],qi["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],qi["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],qi["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],n8=!0}function t8(t,e,r){for(var n,i,s,o,a,u,c,f,h,d,y,l,p,g,m,b,v,x,D,w,C,_,F,z,Y,V,ue,re,$,Q,T,Z,_e,ee,ie,se=r.length();se>=128;){for($=0;$<16;++$)e[$][0]=r.getInt32()>>>0,e[$][1]=r.getInt32()>>>0;for(;$<80;++$)Z=e[$-2],Q=Z[0],T=Z[1],n=((Q>>>19|T<<13)^(T>>>29|Q<<3)^Q>>>6)>>>0,i=((Q<<13|T>>>19)^(T<<3|Q>>>29)^(Q<<26|T>>>6))>>>0,ee=e[$-15],Q=ee[0],T=ee[1],s=((Q>>>1|T<<31)^(Q>>>8|T<<24)^Q>>>7)>>>0,o=((Q<<31|T>>>1)^(Q<<24|T>>>8)^(Q<<25|T>>>7))>>>0,_e=e[$-7],ie=e[$-16],T=i+_e[1]+o+ie[1],e[$][0]=n+_e[0]+s+ie[0]+(T/4294967296>>>0)>>>0,e[$][1]=T>>>0;for(p=t[0][0],g=t[0][1],m=t[1][0],b=t[1][1],v=t[2][0],x=t[2][1],D=t[3][0],w=t[3][1],C=t[4][0],_=t[4][1],F=t[5][0],z=t[5][1],Y=t[6][0],V=t[6][1],ue=t[7][0],re=t[7][1],$=0;$<80;++$)c=((C>>>14|_<<18)^(C>>>18|_<<14)^(_>>>9|C<<23))>>>0,f=((C<<18|_>>>14)^(C<<14|_>>>18)^(_<<23|C>>>9))>>>0,h=(Y^C&(F^Y))>>>0,d=(V^_&(z^V))>>>0,a=((p>>>28|g<<4)^(g>>>2|p<<30)^(g>>>7|p<<25))>>>0,u=((p<<4|g>>>28)^(g<<30|p>>>2)^(g<<25|p>>>7))>>>0,y=(p&m|v&(p^m))>>>0,l=(g&b|x&(g^b))>>>0,T=re+f+d+ly[$][1]+e[$][1],n=ue+c+h+ly[$][0]+e[$][0]+(T/4294967296>>>0)>>>0,i=T>>>0,T=u+l,s=a+y+(T/4294967296>>>0)>>>0,o=T>>>0,ue=Y,re=V,Y=F,V=z,F=C,z=_,T=w+i,C=D+n+(T/4294967296>>>0)>>>0,_=T>>>0,D=v,w=x,v=m,x=b,m=p,b=g,T=i+o,p=n+s+(T/4294967296>>>0)>>>0,g=T>>>0;T=t[0][1]+g,t[0][0]=t[0][0]+p+(T/4294967296>>>0)>>>0,t[0][1]=T>>>0,T=t[1][1]+b,t[1][0]=t[1][0]+m+(T/4294967296>>>0)>>>0,t[1][1]=T>>>0,T=t[2][1]+x,t[2][0]=t[2][0]+v+(T/4294967296>>>0)>>>0,t[2][1]=T>>>0,T=t[3][1]+w,t[3][0]=t[3][0]+D+(T/4294967296>>>0)>>>0,t[3][1]=T>>>0,T=t[4][1]+_,t[4][0]=t[4][0]+C+(T/4294967296>>>0)>>>0,t[4][1]=T>>>0,T=t[5][1]+z,t[5][0]=t[5][0]+F+(T/4294967296>>>0)>>>0,t[5][1]=T>>>0,T=t[6][1]+V,t[6][0]=t[6][0]+Y+(T/4294967296>>>0)>>>0,t[6][1]=T>>>0,T=t[7][1]+re,t[7][0]=t[7][0]+ue+(T/4294967296>>>0)>>>0,t[7][1]=T>>>0,se-=128}}});var u2=S(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.default=vF;var bF=xF(Re("crypto"));function xF(t){return t&&t.__esModule?t:{default:t}}var Qf=new Uint8Array(256),Zf=Qf.length;function vF(){return Zf>Qf.length-16&&(bF.default.randomFillSync(Qf),Zf=0),Qf.slice(Zf,Zf+=16)}});var Ew=S(e0=>{"use strict";Object.defineProperty(e0,"__esModule",{value:!0});e0.default=void 0;var DF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;e0.default=DF});var Ya=S(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.default=void 0;var wF=EF(Ew());function EF(t){return t&&t.__esModule?t:{default:t}}function SF(t){return typeof t=="string"&&wF.default.test(t)}var CF=SF;t0.default=CF});var Qa=S(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.default=void 0;Za.unsafeStringify=Sw;var AF=_F(Ya());function _F(t){return t&&t.__esModule?t:{default:t}}var xt=[];for(let t=0;t<256;++t)xt.push((t+256).toString(16).slice(1));function Sw(t,e=0){return(xt[t[e+0]]+xt[t[e+1]]+xt[t[e+2]]+xt[t[e+3]]+"-"+xt[t[e+4]]+xt[t[e+5]]+"-"+xt[t[e+6]]+xt[t[e+7]]+"-"+xt[t[e+8]]+xt[t[e+9]]+"-"+xt[t[e+10]]+xt[t[e+11]]+xt[t[e+12]]+xt[t[e+13]]+xt[t[e+14]]+xt[t[e+15]]).toLowerCase()}function BF(t,e=0){let r=Sw(t,e);if(!(0,AF.default)(r))throw TypeError("Stringified UUID is invalid");return r}var TF=BF;Za.default=TF});var Aw=S(r0=>{"use strict";Object.defineProperty(r0,"__esModule",{value:!0});r0.default=void 0;var IF=OF(u2()),kF=Qa();function OF(t){return t&&t.__esModule?t:{default:t}}var Cw,c2,f2=0,l2=0;function NF(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||Cw,o=t.clockseq!==void 0?t.clockseq:c2;if(s==null||o==null){let d=t.random||(t.rng||IF.default)();s==null&&(s=Cw=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=c2=(d[6]<<8|d[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:l2+1,c=a-f2+(u-l2)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||a>f2)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f2=a,l2=u,c2=o,a+=122192928e5;let f=((a&268435455)*1e4+u)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;let h=a/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let d=0;d<6;++d)i[n+d]=s[d];return e||(0,kF.unsafeStringify)(i)}var RF=NF;r0.default=RF});var h2=S(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.default=void 0;var UF=FF(Ya());function FF(t){return t&&t.__esModule?t:{default:t}}function LF(t){if(!(0,UF.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var PF=LF;n0.default=PF});var d2=S(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.URL=Wi.DNS=void 0;Wi.default=zF;var MF=Qa(),qF=KF(h2());function KF(t){return t&&t.__esModule?t:{default:t}}function VF(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var _w="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Wi.DNS=_w;var Bw="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Wi.URL=Bw;function zF(t,e,r){function n(i,s,o,a){var u;if(typeof i=="string"&&(i=VF(i)),typeof s=="string"&&(s=(0,qF.default)(s)),((u=s)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(let f=0;f<16;++f)o[a+f]=c[f];return o}return(0,MF.unsafeStringify)(c)}try{n.name=t}catch{}return n.DNS=_w,n.URL=Bw,n}});var Tw=S(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.default=void 0;var HF=$F(Re("crypto"));function $F(t){return t&&t.__esModule?t:{default:t}}function jF(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),HF.default.createHash("md5").update(t).digest()}var GF=jF;i0.default=GF});var kw=S(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.default=void 0;var WF=Iw(d2()),XF=Iw(Tw());function Iw(t){return t&&t.__esModule?t:{default:t}}var JF=(0,WF.default)("v3",48,XF.default),YF=JF;s0.default=YF});var Ow=S(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.default=void 0;var ZF=QF(Re("crypto"));function QF(t){return t&&t.__esModule?t:{default:t}}var eL={randomUUID:ZF.default.randomUUID};o0.default=eL});var Uw=S(a0=>{"use strict";Object.defineProperty(a0,"__esModule",{value:!0});a0.default=void 0;var Nw=Rw(Ow()),tL=Rw(u2()),rL=Qa();function Rw(t){return t&&t.__esModule?t:{default:t}}function nL(t,e,r){if(Nw.default.randomUUID&&!e&&!t)return Nw.default.randomUUID();t=t||{};let n=t.random||(t.rng||tL.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,rL.unsafeStringify)(n)}var iL=nL;a0.default=iL});var Fw=S(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});u0.default=void 0;var sL=oL(Re("crypto"));function oL(t){return t&&t.__esModule?t:{default:t}}function aL(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),sL.default.createHash("sha1").update(t).digest()}var uL=aL;u0.default=uL});var Pw=S(c0=>{"use strict";Object.defineProperty(c0,"__esModule",{value:!0});c0.default=void 0;var cL=Lw(d2()),fL=Lw(Fw());function Lw(t){return t&&t.__esModule?t:{default:t}}var lL=(0,cL.default)("v5",80,fL.default),hL=lL;c0.default=hL});var Mw=S(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.default=void 0;var dL="00000000-0000-0000-0000-000000000000";f0.default=dL});var qw=S(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.default=void 0;var pL=yL(Ya());function yL(t){return t&&t.__esModule?t:{default:t}}function gL(t){if(!(0,pL.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var mL=gL;l0.default=mL});var Kw=S(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Object.defineProperty(Cr,"NIL",{enumerable:!0,get:function(){return wL.default}});Object.defineProperty(Cr,"parse",{enumerable:!0,get:function(){return AL.default}});Object.defineProperty(Cr,"stringify",{enumerable:!0,get:function(){return CL.default}});Object.defineProperty(Cr,"v1",{enumerable:!0,get:function(){return bL.default}});Object.defineProperty(Cr,"v3",{enumerable:!0,get:function(){return xL.default}});Object.defineProperty(Cr,"v4",{enumerable:!0,get:function(){return vL.default}});Object.defineProperty(Cr,"v5",{enumerable:!0,get:function(){return DL.default}});Object.defineProperty(Cr,"validate",{enumerable:!0,get:function(){return SL.default}});Object.defineProperty(Cr,"version",{enumerable:!0,get:function(){return EL.default}});var bL=Nn(Aw()),xL=Nn(kw()),vL=Nn(Uw()),DL=Nn(Pw()),wL=Nn(Mw()),EL=Nn(qw()),SL=Nn(Ya()),CL=Nn(Qa()),AL=Nn(h2());function Nn(t){return t&&t.__esModule?t:{default:t}}});var NL={};W(NL,{webRTC:()=>OL});var m2=Symbol.for("@libp2p/transport");var Xi=X(St(),1);var PL=Symbol.for("@libp2p/connection");var ci=class extends Error{constructor(e){super("WebRTC transport error: "+e),this.name="WebRTCTransportError"}},fi;(function(t){t.ERR_ALREADY_ABORTED="ERR_ALREADY_ABORTED",t.ERR_DATA_CHANNEL="ERR_DATA_CHANNEL",t.ERR_INVALID_MULTIADDR="ERR_INVALID_MULTIADDR",t.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",t.ERR_HASH_NOT_SUPPORTED="ERR_HASH_NOT_SUPPORTED",t.ERR_NOT_IMPLEMENTED="ERR_NOT_IMPLEMENTED",t.ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS",t.ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS",t.ERR_CONNECTION_CLOSED="ERR_CONNECTION_CLOSED"})(fi||(fi={}));var v0=class extends ci{constructor(e){super("There was a problem with a provided argument: "+e),this.name="WebRTC/InvalidArgumentError"}};function ru(t){return(0,Xi.default)(new D0(t),fi.ERR_HASH_NOT_SUPPORTED)}var D0=class extends ci{constructor(e){let r=`unsupported hash algorithm: ${e}`;super(r),this.name="WebRTC/UnsupportedHashAlgorithmError"}};function Do(t){return(0,Xi.default)(new v0(t),fi.ERR_INVALID_PARAMETERS)}var w0=class extends ci{constructor(e){super("A method ("+e+") was called though it has been intentionally left unimplemented."),this.name="WebRTC/UnimplementedError"}};function v2(t){return(0,Xi.default)(new w0(t),fi.ERR_NOT_IMPLEMENTED)}var E0=class extends ci{constructor(e){super("There was a problem with the Multiaddr which was passed in: "+e),this.name="WebRTC/InappropriateMultiaddrError"}};function nu(t){return(0,Xi.default)(new E0(t),fi.ERR_INVALID_MULTIADDR)}var S0=class extends ci{constructor(e,r){super(`[stream: ${e}] data channel error: ${r}`),this.name="WebRTC/DataChannelError"}};function C0(t,e){return(0,Xi.default)(new S0(t,e),fi.ERR_DATA_CHANNEL)}var Ar=X(O2(),1);function mE(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,b=l.length;m!==b&&l[m]===0;)m++,p++;for(var v=(b-m)*f+1>>>0,x=new Uint8Array(v);m!==b;){for(var D=l[m],w=0,C=v-1;(D!==0||w<g)&&C!==-1;C--,w++)D+=256*x[C]>>>0,x[C]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");g=w,m++}for(var _=v-g;_!==v&&x[_]===0;)_++;for(var F=u.repeat(p);_<v;++_)F+=t.charAt(x[_]);return F}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var g=0,m=0;l[p]===u;)g++,p++;for(var b=(l.length-p)*c+1>>>0,v=new Uint8Array(b);l[p];){var x=r[l.charCodeAt(p)];if(x===255)return;for(var D=0,w=b-1;(x!==0||D<m)&&w!==-1;w--,D++)x+=a*v[w]>>>0,v[w]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=D,p++}if(l[p]!==" "){for(var C=b-m;C!==b&&v[C]===0;)C++;for(var _=new Uint8Array(g+(b-C)),F=g;C!==b;)_[F++]=v[C++];return _}}}function y(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:y}}var bE=mE,xE=bE,N2=xE;var WL=new Uint8Array(0);var R2=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var I0=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},k0=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return U2(this,e)}},O0=class{constructor(e){this.decoders=e}or(e){return U2(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},U2=(t,e)=>new O0({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),N0=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new I0(e,r,n),this.decoder=new k0(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},F2=({name:t,prefix:e,encode:r,decode:n})=>new N0(t,e,r,n),R0=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=N2(r,e);return F2({prefix:t,name:e,encode:n,decode:s=>R2(i(s))})},vE=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},DE=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>F2({prefix:e,name:t,encode(i){return DE(i,n,r)},decode(i){return vE(i,n,r,t)}});var L2=R0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),e9=R0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var P2=Ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n9=Ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),i9=Ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s9=Ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),o9=Ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),a9=Ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),u9=Ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),c9=Ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),f9=Ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var M2=Ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),d9=Ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),p9=Ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),y9=Ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});Ar.default.formatters.b=t=>t==null?"undefined":L2.baseEncode(t);Ar.default.formatters.t=t=>t==null?"undefined":P2.baseEncode(t);Ar.default.formatters.m=t=>t==null?"undefined":M2.baseEncode(t);Ar.default.formatters.p=t=>t==null?"undefined":t.toString();Ar.default.formatters.c=t=>t==null?"undefined":t.toString();Ar.default.formatters.k=t=>t==null?"undefined":t.toString();function _r(t){return Object.assign((0,Ar.default)(t),{error:(0,Ar.default)(`${t}:error`),trace:(0,Ar.default)(`${t}:trace`)})}var q2="[a-fA-F\\d:]",Fn=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${q2})|(?<=${q2})(?=\\s|$))`:"",ur="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",et="[a-fA-F\\d]{1,4}",uu=`
(?:
(?:${et}:){7}(?:${et}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${et}:){6}(?:${ur}|:${et}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${et}:){5}(?::${ur}|(?::${et}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${et}:){4}(?:(?::${et}){0,1}:${ur}|(?::${et}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${et}:){3}(?:(?::${et}){0,2}:${ur}|(?::${et}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${et}:){2}(?:(?::${et}){0,3}:${ur}|(?::${et}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${et}:){1}(?:(?::${et}){0,4}:${ur}|(?::${et}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${et}){0,5}:${ur}|(?::${et}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),wE=new RegExp(`(?:^${ur}$)|(?:^${uu}$)`),EE=new RegExp(`^${ur}$`),SE=new RegExp(`^${uu}$`),U0=t=>t&&t.exact?wE:new RegExp(`(?:${Fn(t)}${ur}${Fn(t)})|(?:${Fn(t)}${uu}${Fn(t)})`,"g");U0.v4=t=>t&&t.exact?EE:new RegExp(`${Fn(t)}${ur}${Fn(t)}`,"g");U0.v6=t=>t&&t.exact?SE:new RegExp(`${Fn(t)}${uu}${Fn(t)}`,"g");var cu=U0;var K2=X(Re("node:vm"),1);function F0(t,{timeout:e}={}){let r=new K2.default.Script("returnValue = function_()"),n=(...i)=>{let s={function_:()=>t(...i)};return r.runInNewContext(s,{timeout:e}),s.returnValue};return Object.defineProperty(n,"name",{value:`functionTimeout(${t.name||"<anonymous>"})`,configurable:!0}),n}function V2(t){return t?.code==="ERR_SCRIPT_EXECUTION_TIMEOUT"}var{toString:CE}=Object.prototype;function L0(t){return CE.call(t)==="[object RegExp]"}var z2={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function P0(t,e={}){if(!L0(t))throw new TypeError("Expected a RegExp instance");let r=Object.keys(z2).map(i=>(typeof e[i]=="boolean"?e[i]:t[i])?z2[i]:"").join(""),n=new RegExp(e.source||t.source,r);return n.lastIndex=typeof e.lastIndex=="number"?e.lastIndex:t.lastIndex,n}function fu(t,e,{timeout:r}={}){try{return F0(()=>P0(t).test(e),{timeout:r})()}catch(n){if(V2(n))return!1;throw n}}var AE=15,H2=45,M0={timeout:400};function lu(t){return fu(cu({exact:!0}),t.slice(0,H2),M0)}function $2(t){return fu(cu.v6({exact:!0}),t.slice(0,H2),M0)}function j2(t){return fu(cu.v4({exact:!0}),t.slice(0,AE),M0)}var H0={};W(H0,{identity:()=>OE});function _E(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,b=l.length;m!==b&&l[m]===0;)m++,p++;for(var v=(b-m)*f+1>>>0,x=new Uint8Array(v);m!==b;){for(var D=l[m],w=0,C=v-1;(D!==0||w<g)&&C!==-1;C--,w++)D+=256*x[C]>>>0,x[C]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");g=w,m++}for(var _=v-g;_!==v&&x[_]===0;)_++;for(var F=u.repeat(p);_<v;++_)F+=t.charAt(x[_]);return F}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var g=0,m=0;l[p]===u;)g++,p++;for(var b=(l.length-p)*c+1>>>0,v=new Uint8Array(b);l[p];){var x=r[l.charCodeAt(p)];if(x===255)return;for(var D=0,w=b-1;(x!==0||D<m)&&w!==-1;w--,D++)x+=a*v[w]>>>0,v[w]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=D,p++}if(l[p]!==" "){for(var C=b-m;C!==b&&v[C]===0;)C++;for(var _=new Uint8Array(g+(b-C)),F=g;C!==b;)_[F++]=v[C++];return _}}}function y(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:y}}var BE=_E,TE=BE,G2=TE;var M9=new Uint8Array(0);var W2=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Gt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var X2=t=>new TextEncoder().encode(t),J2=t=>new TextDecoder().decode(t);var q0=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},K0=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Z2(this,e)}},V0=class{constructor(e){this.decoders=e}or(e){return Z2(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Z2=(t,e)=>new V0({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),z0=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new q0(e,r,n),this.decoder=new K0(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Qi=({name:t,prefix:e,encode:r,decode:n})=>new z0(t,e,r,n),Ln=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=G2(r,e);return Qi({prefix:t,name:e,encode:n,decode:s=>Gt(i(s))})},IE=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},kE=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},He=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Qi({prefix:e,name:t,encode(i){return kE(i,n,r)},decode(i){return IE(i,n,r,t)}});var OE=Qi({prefix:"\0",name:"identity",encode:t=>J2(t),decode:t=>X2(t)});var $0={};W($0,{base2:()=>NE});var NE=He({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var j0={};W(j0,{base8:()=>RE});var RE=He({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var G0={};W(G0,{base10:()=>UE});var UE=Ln({prefix:"9",name:"base10",alphabet:"0123456789"});var W0={};W(W0,{base16:()=>FE,base16upper:()=>LE});var FE=He({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),LE=He({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var X0={};W(X0,{base32:()=>fn,base32hex:()=>KE,base32hexpad:()=>zE,base32hexpadupper:()=>HE,base32hexupper:()=>VE,base32pad:()=>ME,base32padupper:()=>qE,base32upper:()=>PE,base32z:()=>$E});var fn=He({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),PE=He({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ME=He({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qE=He({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KE=He({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),VE=He({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zE=He({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),HE=He({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$E=He({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var J0={};W(J0,{base36:()=>jE,base36upper:()=>GE});var jE=Ln({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),GE=Ln({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Y0={};W(Y0,{base58btc:()=>It,base58flickr:()=>WE});var It=Ln({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),WE=Ln({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Z0={};W(Z0,{base64:()=>XE,base64pad:()=>JE,base64url:()=>YE,base64urlpad:()=>ZE});var XE=He({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),JE=He({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),YE=He({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ZE=He({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Q0={};W(Q0,{base256emoji:()=>n4});var Q2=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),QE=Q2.reduce((t,e,r)=>(t[r]=e,t),[]),e4=Q2.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function t4(t){return t.reduce((e,r)=>(e+=QE[r],e),"")}function r4(t){let e=[];for(let r of t){let n=e4[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var n4=Qi({prefix:"\u{1F680}",name:"base256emoji",encode:t4,decode:r4});var il={};W(il,{sha256:()=>w4,sha512:()=>E4});var nl=X(Re("crypto"),1);var i4=r1,e1=128,s4=127,o4=~s4,a4=Math.pow(2,31);function r1(t,e,r){e=e||[],r=r||0;for(var n=r;t>=a4;)e[r++]=t&255|e1,t/=128;for(;t&o4;)e[r++]=t&255|e1,t>>>=7;return e[r]=t|0,r1.bytes=r-n+1,e}var u4=el,c4=128,t1=127;function el(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw el.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&t1)<<i:(o&t1)*Math.pow(2,i),i+=7}while(o>=c4);return el.bytes=s-n,r}var f4=Math.pow(2,7),l4=Math.pow(2,14),h4=Math.pow(2,21),d4=Math.pow(2,28),p4=Math.pow(2,35),y4=Math.pow(2,42),g4=Math.pow(2,49),m4=Math.pow(2,56),b4=Math.pow(2,63),x4=function(t){return t<f4?1:t<l4?2:t<h4?3:t<d4?4:t<p4?5:t<y4?6:t<g4?7:t<m4?8:t<b4?9:10},v4={encode:i4,decode:u4,encodingLength:x4},D4=v4,wo=D4;var Eo=(t,e=0)=>[wo.decode(t,e),wo.decode.bytes],es=(t,e,r=0)=>(wo.encode(t,e,r),e),ts=t=>wo.encodingLength(t);var hi=(t,e)=>{let r=e.byteLength,n=ts(t),i=n+ts(r),s=new Uint8Array(i+r);return es(t,s,0),es(r,s,n),s.set(e,i),new rs(t,r,e,s)},du=t=>{let e=Gt(t),[r,n]=Eo(e),[i,s]=Eo(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new rs(r,i,o,e)},n1=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&W2(t.bytes,r.bytes)}},rs=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var rl=({name:t,code:e,encode:r})=>new tl(t,e,r),tl=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?hi(this.code,r):r.then(n=>hi(this.code,n))}else throw Error("Unknown type, must be binary type")}};var w4=rl({name:"sha2-256",code:18,encode:t=>Gt(nl.default.createHash("sha256").update(t).digest())}),E4=rl({name:"sha2-512",code:19,encode:t=>Gt(nl.default.createHash("sha512").update(t).digest())});var sl={};W(sl,{identity:()=>A4});var s1=0,S4="identity",o1=Gt,C4=t=>hi(s1,o1(t)),A4={code:s1,name:S4,encode:o1,digest:C4};var aP=new TextEncoder,uP=new TextDecoder;var T4=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return k4(r,ol(t),e||It.encoder);default:return O4(r,ol(t),e||fn.encoder)}},a1=new WeakMap,ol=t=>{let e=a1.get(t);if(e==null){let r=new Map;return a1.set(t,r),r}return e},Pe=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==So)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==N4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Pe.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=hi(e,r);return Pe.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Pe.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&n1(e.multihash,n.multihash)}toString(e){return T4(this,e)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){let r=e;if(r instanceof Pe)return r;if(r!=null&&r.asCID===r){let{version:n,code:i,multihash:s,bytes:o}=r;return new Pe(n,i,s,o||u1(n,i,s.bytes))}else if(r!=null&&r[R4]===!0){let{version:n,multihash:i,code:s}=r,o=du(i);return Pe.create(n,s,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==So)throw new Error(`Version 0 CID must use dag-pb (code: ${So}) block encoding`);return new Pe(e,r,n,n.bytes)}case 1:{let i=u1(e,r,n.bytes);return new Pe(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Pe.create(0,So,e)}static createV1(e,r){return Pe.create(1,e,r)}static decode(e){let[r,n]=Pe.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Pe.inspectBytes(e),n=r.size-r.multihashSize,i=Gt(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new rs(r.multihashCode,r.digestSize,s,i);return[r.version===0?Pe.createV0(o):Pe.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,d]=Eo(e.subarray(r));return r+=d,h},i=n(),s=So;if(i===18?(i=0,r=0):s=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),c=r+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=I4(e,r),s=Pe.decode(i);return ol(s).set(n,e),s}},I4=(t,e)=>{switch(t[0]){case"Q":{let r=e||It;return[It.prefix,r.decode(`${It.prefix}${t}`)]}case It.prefix:{let r=e||It;return[It.prefix,r.decode(t)]}case fn.prefix:{let r=e||fn;return[fn.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},k4=(t,e,r)=>{let{prefix:n}=r;if(n!==It.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},O4=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},So=112,N4=18,u1=(t,e,r)=>{let n=ts(t),i=n+ts(e),s=new Uint8Array(i+r.byteLength);return es(t,s,0),es(e,s,n),s.set(r,i),s},R4=Symbol.for("@ipld/js-cid/CID");var di={...H0,...$0,...j0,...G0,...W0,...X0,...J0,...Y0,...Z0,...Q0},bP={...il,...sl};function is(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pu(t=0){return globalThis.Buffer?.allocUnsafe!=null?is(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function f1(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var c1=f1("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),al=f1("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=pu(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),U4={utf8:c1,"utf-8":c1,hex:di.base16,latin1:al,ascii:al,binary:al,...di},yu=U4;function At(t,e="utf8"){let r=yu[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var l1=j2,F4=$2,ul=function(t){let e=0;if(t=t.toString().trim(),l1(t)){let r=new Uint8Array(e+4);return t.split(/\./g).forEach(n=>{r[e++]=parseInt(n,10)&255}),r}if(F4(t)){let r=t.split(":",8),n;for(n=0;n<r.length;n++){let s=l1(r[n]),o;s&&(o=ul(r[n]),r[n]=At(o.slice(0,2),"base16")),o!=null&&++n<8&&r.splice(n,0,At(o.slice(2,4),"base16"))}if(r[0]==="")for(;r.length<8;)r.unshift("0");else if(r[r.length-1]==="")for(;r.length<8;)r.push("0");else if(r.length<8){for(n=0;n<r.length&&r[n]!=="";n++);let s=[n,1];for(n=9-r.length;n>0;n--)s.push("0");r.splice.apply(r,s)}let i=new Uint8Array(e+16);for(n=0;n<r.length;n++){let s=parseInt(r[n],16);i[e++]=s>>8&255,i[e++]=s&255}return i}throw new Error("invalid ip address")},h1=function(t,e=0,r){e=~~e,r=r??t.length-e;let n=new DataView(t.buffer);if(r===4){let i=[];for(let s=0;s<r;s++)i.push(t[e+s]);return i.join(".")}if(r===16){let i=[];for(let s=0;s<r;s+=2)i.push(n.getUint16(e+s).toString(16));return i.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var Co={},cl={},P4=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[460,0,"quic"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]];P4.forEach(t=>{let e=M4(...t);cl[e.code]=e,Co[e.name]=e});function M4(t,e,r,n,i){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(i)}}function tt(t){if(typeof t=="number"){if(cl[t]!=null)return cl[t];throw new Error(`no protocol with code: ${t}`)}else if(typeof t=="string"){if(Co[t]!=null)return Co[t];throw new Error(`no protocol with name: ${t}`)}throw new Error(`invalid protocol id type: ${typeof t}`)}var Br=X(gu(),1);function Pn(t,e="utf8"){let r=yu[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?is(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function cr(t,e){e==null&&(e=t.reduce((i,s)=>i+s.length,0));let r=pu(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return is(r)}function S1(t,e){switch(tt(t).code){case 4:case 41:return e6(e);case 6:case 273:case 33:case 132:return A1(e).toString();case 53:case 54:case 55:case 56:case 400:case 777:return r6(e);case 421:return o6(e);case 444:return E1(e);case 445:return E1(e);case 466:return s6(e);default:return At(e,"base16")}}function C1(t,e){switch(tt(t).code){case 4:return w1(e);case 41:return w1(e);case 6:case 273:case 33:case 132:return dl(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 777:return t6(e);case 421:return n6(e);case 444:return a6(e);case 445:return u6(e);case 466:return i6(e);default:return Pn(e,"base16")}}var hl=Object.values(di).map(t=>t.decoder),Q4=function(){let t=hl[0].or(hl[1]);return hl.slice(2).forEach(e=>t=t.or(e)),t}();function w1(t){if(!lu(t))throw new Error("invalid ip address");return ul(t)}function e6(t){let e=h1(t,0,t.length);if(e==null)throw new Error("ipBuff is required");if(!lu(e))throw new Error("invalid ip address");return e}function dl(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function A1(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function t6(t){let e=Pn(t),r=Uint8Array.from(Br.default.encode(e.length));return cr([r,e],r.length+e.length)}function r6(t){let e=Br.default.decode(t);if(t=t.slice(Br.default.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return At(t)}function n6(t){let e;t[0]==="Q"||t[0]==="1"?e=du(It.decode(`z${t}`)).bytes:e=Pe.parse(t).multihash.bytes;let r=Uint8Array.from(Br.default.encode(e.length));return cr([r,e],r.length+e.length)}function i6(t){let e=Q4.decode(t),r=Uint8Array.from(Br.default.encode(e.length));return cr([r,e],r.length+e.length)}function s6(t){let e=Br.default.decode(t),r=t.slice(Br.default.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return"u"+At(r,"base64url")}function o6(t){let e=Br.default.decode(t),r=t.slice(Br.default.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return At(r,"base58btc")}function a6(t){let e=t.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);let r=fn.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=dl(n);return cr([r,i],r.length+i.length)}function u6(t){let e=t.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);let r=fn.decode(`b${e[0]}`),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=dl(n);return cr([r,i],r.length+i.length)}function E1(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=At(e,"base32"),i=A1(r);return`${n}:${i}`}var ss=X(gu(),1);function c6(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],s=tt(i);if(s.size===0){e.push([i]);continue}if(n++,n>=r.length)throw B1("invalid address: "+t);if(s.path===!0){e.push([i,bl(r.slice(n).join("/"))]);break}e.push([i,r[n]])}return e}function f6(t){let e=[];return t.map(r=>{let n=xu(r);return e.push(n.name),r.length>1&&r[1]!=null&&e.push(r[1]),null}),bl(e.join("/"))}function l6(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=xu(e);return e.length>1?[r.code,C1(r.code,e[1])]:[r.code]})}function pl(t){return t.map(e=>{let r=xu(e);return e[1]!=null?[r.code,S1(r.code,e[1])]:[r.code]})}function yl(t){return bu(cr(t.map(e=>{let r=xu(e),n=Uint8Array.from(ss.default.encode(r.code));return e.length>1&&e[1]!=null&&(n=cr([n,e[1]])),n})))}function gl(t,e){return t.size>0?t.size/8:t.size===0?0:ss.default.decode(e)+ss.default.decode.bytes}function mu(t){let e=[],r=0;for(;r<t.length;){let n=ss.default.decode(t,r),i=ss.default.decode.bytes,s=tt(n),o=gl(s,t.slice(r+i));if(o===0){e.push([n]),r+=i;continue}let a=t.slice(r+i,r+i+o);if(r+=o+i,r>t.length)throw B1("Invalid address Uint8Array: "+At(t,"base16"));e.push([n,a])}return e}function ml(t){let e=mu(t),r=pl(e);return f6(r)}function h6(t){t=bl(t);let e=c6(t),r=l6(e);return yl(r)}function _1(t){return h6(t)}function bu(t){let e=d6(t);if(e!=null)throw e;return Uint8Array.from(t)}function d6(t){try{mu(t)}catch(e){return e}}function bl(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function B1(t){return new Error("Error parsing address: "+t)}function xu(t){return tt(t[0])}var vl=X(gu(),1);var O1=X(St(),1);function T1(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var os=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},xl=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ao,_o,Bo,I1,y6=Symbol.for("nodejs.util.inspect.custom"),k1=[tt("dns").code,tt("dns4").code,tt("dns6").code,tt("dnsaddr").code],g6=[tt("p2p").code,tt("ipfs").code],m6=new Map,N1=Symbol.for("@multiformats/js-multiaddr/multiaddr");function b6(t){return Boolean(t?.[N1])}var Mn=class{constructor(e){if(Ao.set(this,void 0),_o.set(this,void 0),Bo.set(this,void 0),this[I1]=!0,e==null&&(e=""),e instanceof Uint8Array)this.bytes=bu(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=_1(e)}else if(b6(e))this.bytes=bu(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return os(this,Ao,"f")==null&&xl(this,Ao,ml(this.bytes),"f"),os(this,Ao,"f")}toJSON(){return this.toString()}toOptions(){let e=this.protoCodes(),r=this.toString().split("/").slice(1),n,i;if(r.length>2)k1.includes(e[0])&&g6.includes(e[1])?(n=tt("tcp").name,i=443):(n=tt(r[2]).name,i=parseInt(r[3]));else if(k1.includes(e[0]))n=tt("tcp").name,i=443;else throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e[0]===41||e[0]===55?6:4,host:r[1],transport:n,port:i}}protos(){return this.protoCodes().map(e=>Object.assign({},tt(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let i=vl.default.decode(r,n),s=vl.default.decode.bytes,o=tt(i);n+=gl(o,r.slice(n+s))+s,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return os(this,_o,"f")==null&&xl(this,_o,mu(this.bytes),"f"),os(this,_o,"f")}stringTuples(){return os(this,Bo,"f")==null&&xl(this,Bo,pl(this.tuples()),"f"),os(this,Bo,"f")}encapsulate(e){return e=new Mn(e),new Mn(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new Mn(n.slice(0,i))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new Mn(yl(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Co.ipfs.code).pop();if(r?.[1]!=null){let n=r[1];return n[0]==="Q"||n[0]==="1"?At(It.decode(`z${n}`),"base58btc"):At(Pe.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>tt(r[0]).path===!0)[0][1],e==null&&(e=null)}catch{e=null}return e}equals(e){return T1(this.bytes,e.bytes)}async resolve(e){let r=this.protos().find(s=>s.resolvable);if(r==null)return[this];let n=m6.get(r.name);if(n==null)throw(0,O1.default)(new Error(`no available resolver for ${r.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,e)).map(s=>new Mn(s))}nodeAddress(){let e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let r=(e??this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}[(Ao=new WeakMap,_o=new WeakMap,Bo=new WeakMap,I1=N1,y6)](){return this.inspect()}inspect(){return"<Multiaddr "+At(this.bytes,"base16")+" - "+ml(this.bytes)+">"}};var im=X(Gl(),1);var $C=_r("libp2p:webrtc:sdp"),Wl=function(){let t=Object.values(di).map(r=>r.decoder),e=t[0].or(t[1]);return t.slice(2).forEach(r=>e=e.or(r)),e}(),jC=466;function GC(t){for(let e of t.protoNames())if(e.startsWith("ip"))return e.toUpperCase();return $C("Warning: multiaddr does not appear to contain IP4 or IP6.",t),"IP6"}function WC(t){return t.toOptions().host}function XC(t){return t.toOptions().port}function Xl(t){let r=t.stringTuples().filter(n=>n[0]==jC).map(n=>n[1])[0];if(r)return r;throw nu("Couldn't find a certhash component of multiaddr:"+t.toString())}function JC(t){let e=Xl(t),r=Wl.decode(e),n=im.decode(r),i="";switch(n.name){case"md5":i="md5";break;case"sha2-256":i="sha-256";break;case"sha2-512":i="sha-512";break;default:throw ru(n.name)}let s=n.digest.reduce((a,u)=>a+u.toString(16).padStart(2,"0"),""),o=s.match(/.{1,2}/g).join(":");return[`${i.toUpperCase()} ${o.toUpperCase()}`,s]}function YC(t,e){let r=WC(t),n=GC(t),i=XC(t),[s,o]=JC(t);return`v=0
o=- 0 0 IN ${n} ${r}
s=-
c=IN ${n} ${r}
t=0 0
a=ice-lite
m=application ${i} UDP/DTLS/SCTP webrtc-datachannel
a=mid:0
a=setup:passive
a=ice-ufrag:${e}
a=ice-pwd:${e}
a=fingerprint:${s}
a=sctp-port:5000
a=max-message-size:100000
a=candidate:1467250027 1 UDP 1467250027 ${r} ${i} typ host\r
`}function sm(t,e){return{type:"answer",sdp:YC(t,e)}}function om(t,e){if(t.sdp)return t.sdp=t.sdp.replace(/\na=ice-ufrag:[^\n]*\n/,`
a=ice-ufrag:`+e+`
`).replace(/\na=ice-pwd:[^\n]*\n/,`
a=ice-pwd:`+e+`
`),t;throw Do("Can't munge a missing SDP")}var QC=cm,am=128,eA=127,tA=~eA,rA=Math.pow(2,31);function cm(t,e,r){e=e||[],r=r||0;for(var n=r;t>=rA;)e[r++]=t&255|am,t/=128;for(;t&tA;)e[r++]=t&255|am,t>>>=7;return e[r]=t|0,cm.bytes=r-n+1,e}var nA=Jl,iA=128,um=127;function Jl(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Jl.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&um)<<i:(o&um)*Math.pow(2,i),i+=7}while(o>=iA);return Jl.bytes=s-n,r}var sA=Math.pow(2,7),oA=Math.pow(2,14),aA=Math.pow(2,21),uA=Math.pow(2,28),cA=Math.pow(2,35),fA=Math.pow(2,42),lA=Math.pow(2,49),hA=Math.pow(2,56),dA=Math.pow(2,63),pA=function(t){return t<sA?1:t<oA?2:t<aA?3:t<uA?4:t<cA?5:t<fA?6:t<lA?7:t<hA?8:t<dA?9:10},yA={encode:QC,decode:nA,encodingLength:pA},gA=yA,Fo=gA;var Lo=(t,e=0)=>[Fo.decode(t,e),Fo.decode.bytes],gs=(t,e,r=0)=>(Fo.encode(t,e,r),e),ms=t=>Fo.encodingLength(t);var tq=new Uint8Array(0);var fm=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Wt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var lm=t=>new TextEncoder().encode(t),hm=t=>new TextDecoder().decode(t);var Or=(t,e)=>{let r=e.byteLength,n=ms(t),i=n+ms(r),s=new Uint8Array(i+r);return gs(t,s,0),gs(r,s,n),s.set(e,i),new bs(t,r,e,s)},Po=t=>{let e=Wt(t),[r,n]=Lo(e),[i,s]=Lo(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new bs(r,i,o,e)},pm=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&fm(t.bytes,e.bytes),bs=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var th={};W(th,{base58btc:()=>Pt,base58flickr:()=>wA});function mA(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,b=l.length;m!==b&&l[m]===0;)m++,p++;for(var v=(b-m)*f+1>>>0,x=new Uint8Array(v);m!==b;){for(var D=l[m],w=0,C=v-1;(D!==0||w<g)&&C!==-1;C--,w++)D+=256*x[C]>>>0,x[C]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");g=w,m++}for(var _=v-g;_!==v&&x[_]===0;)_++;for(var F=u.repeat(p);_<v;++_)F+=t.charAt(x[_]);return F}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var g=0,m=0;l[p]===u;)g++,p++;for(var b=(l.length-p)*c+1>>>0,v=new Uint8Array(b);l[p];){var x=r[l.charCodeAt(p)];if(x===255)return;for(var D=0,w=b-1;(x!==0||D<m)&&w!==-1;w--,D++)x+=a*v[w]>>>0,v[w]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=D,p++}if(l[p]!==" "){for(var C=b-m;C!==b&&v[C]===0;)C++;for(var _=new Uint8Array(g+(b-C)),F=g;C!==b;)_[F++]=v[C++];return _}}}function y(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:y}}var bA=mA,xA=bA,ym=xA;var Yl=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Zl=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return gm(this,e)}},Ql=class{constructor(e){this.decoders=e}or(e){return gm(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},gm=(t,e)=>new Ql({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),eh=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Yl(e,r,n),this.decoder=new Zl(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},vs=({name:t,prefix:e,encode:r,decode:n})=>new eh(t,e,r,n),Kn=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=ym(r,e);return vs({prefix:t,name:e,encode:n,decode:s=>Wt(i(s))})},vA=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},DA=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},$e=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>vs({prefix:e,name:t,encode(i){return DA(i,n,r)},decode(i){return vA(i,n,r,t)}});var Pt=Kn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wA=Kn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var rh={};W(rh,{base32:()=>Ds,base32hex:()=>AA,base32hexpad:()=>BA,base32hexpadupper:()=>TA,base32hexupper:()=>_A,base32pad:()=>SA,base32padupper:()=>CA,base32upper:()=>EA,base32z:()=>IA});var Ds=$e({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),EA=$e({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SA=$e({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),CA=$e({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),AA=$e({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_A=$e({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),BA=$e({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TA=$e({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),IA=$e({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var je=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ku,byteLength:Ku,code:qu,version:qu,multihash:qu,bytes:qu,_baseCache:Ku,asCID:Ku})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Mo)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==RA)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return je.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Or(e,r);return je.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&pm(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return OA(r,i,e||Pt.encoder);default:return NA(r,i,e||Ds.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return FA(/^0\.0/,LA),!!(e&&(e[bm]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof je)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new je(r,n,i,s||mm(r,n,i.bytes))}else if(e!=null&&e[bm]===!0){let{version:r,multihash:n,code:i}=e,s=Po(n);return je.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Mo)throw new Error(`Version 0 CID must use dag-pb (code: ${Mo}) block encoding`);return new je(e,r,n,n.bytes)}case 1:{let i=mm(e,r,n.bytes);return new je(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return je.create(0,Mo,e)}static createV1(e,r){return je.create(1,e,r)}static decode(e){let[r,n]=je.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=je.inspectBytes(e),n=r.size-r.multihashSize,i=Wt(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new bs(r.multihashCode,r.digestSize,s,i);return[r.version===0?je.createV0(o):je.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,d]=Lo(e.subarray(r));return r+=d,h},i=n(),s=Mo;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),c=r+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=kA(e,r),s=je.decode(i);return s._baseCache.set(n,e),s}},kA=(t,e)=>{switch(t[0]){case"Q":{let r=e||Pt;return[Pt.prefix,r.decode(`${Pt.prefix}${t}`)]}case Pt.prefix:{let r=e||Pt;return[Pt.prefix,r.decode(t)]}case Ds.prefix:{let r=e||Ds;return[Ds.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},OA=(t,e,r)=>{let{prefix:n}=r;if(n!==Pt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},NA=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Mo=112,RA=18,mm=(t,e,r)=>{let n=ms(t),i=n+ms(e),s=new Uint8Array(i+r.byteLength);return gs(t,s,0),gs(e,s,n),s.set(r,i),s},bm=Symbol.for("@ipld/js-cid/CID"),qu={writable:!1,configurable:!1,enumerable:!0},Ku={writable:!1,enumerable:!1,configurable:!1},UA="0.0.0-dev",FA=(t,e)=>{if(t.test(UA))console.warn(e);else throw new Error(e)},LA=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var nh={};W(nh,{identity:()=>PA});var PA=vs({prefix:"\0",name:"identity",encode:t=>hm(t),decode:t=>lm(t)});var ih={};W(ih,{base2:()=>MA});var MA=$e({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var sh={};W(sh,{base8:()=>qA});var qA=$e({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var oh={};W(oh,{base10:()=>KA});var KA=Kn({prefix:"9",name:"base10",alphabet:"0123456789"});var ah={};W(ah,{base16:()=>VA,base16upper:()=>zA});var VA=$e({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zA=$e({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var uh={};W(uh,{base36:()=>HA,base36upper:()=>$A});var HA=Kn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$A=Kn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ch={};W(ch,{base64:()=>jA,base64pad:()=>GA,base64url:()=>WA,base64urlpad:()=>XA});var jA=$e({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),GA=$e({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),WA=$e({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),XA=$e({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var fh={};W(fh,{base256emoji:()=>e_});var xm=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),JA=xm.reduce((t,e,r)=>(t[r]=e,t),[]),YA=xm.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ZA(t){return t.reduce((e,r)=>(e+=JA[r],e),"")}function QA(t){let e=[];for(let r of t){let n=YA[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var e_=vs({prefix:"\u{1F680}",name:"base256emoji",encode:ZA,decode:QA});var ph={};W(ph,{sha256:()=>qo,sha512:()=>t_});var dh=X(Re("crypto"),1);var hh=({name:t,code:e,encode:r})=>new lh(t,e,r),lh=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Or(this.code,r):r.then(n=>Or(this.code,n))}else throw Error("Unknown type, must be binary type")}};var qo=hh({name:"sha2-256",code:18,encode:t=>Wt(dh.default.createHash("sha256").update(t).digest())}),t_=hh({name:"sha2-512",code:19,encode:t=>Wt(dh.default.createHash("sha512").update(t).digest())});var yh={};W(yh,{identity:()=>ws});var Dm=0,r_="identity",wm=Wt,n_=t=>Or(Dm,wm(t)),ws={code:Dm,name:r_,encode:wm,digest:n_};var Aq=new TextEncoder,_q=new TextDecoder;var gh={...nh,...ih,...sh,...oh,...ah,...rh,...uh,...th,...ch,...fh},kq={...ph,...yh};function mh(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var o_=X(St(),1);var Em=Symbol.for("@libp2p/peer-id");var Sm=Object.values(gh).map(t=>t.decoder).reduce((t,e)=>t.or(e),gh.identity.decoder),Cm=114,bh=36,xh=37,Ko=class{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[Em](){return!0}toString(){return this.string==null&&(this.string=Pt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return je.createV1(Cm,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return mh(this.multihash.bytes,e);if(typeof e=="string")return vh(e).equals(this);if(e?.multihash?.bytes!=null)return mh(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}},Es=class extends Ko{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}},Ss=class extends Ko{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}},Cs=class extends Ko{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}};function vh(t,e){if(e=e??Sm,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=Po(Pt.decode(`z${t}`));return t.startsWith("12D")?new Ss({multihash:r}):t.startsWith("16U")?new Cs({multihash:r}):new Es({multihash:r})}return a_(Sm.decode(t))}function a_(t){try{let e=Po(t);if(e.code===ws.code){if(e.digest.length===bh)return new Ss({multihash:e});if(e.digest.length===xh)return new Cs({multihash:e})}if(e.code===qo.code)return new Es({multihash:e})}catch{return u_(je.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function u_(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==Cm)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===qo.code)return new Es({multihash:t.multihash});if(e.code===ws.code){if(e.digest.length===bh)return new Ss({multihash:t.multihash});if(e.digest.length===xh)return new Cs({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function Dh(t,e){return t.length===bh?new Ss({multihash:Or(ws.code,t),privateKey:e}):t.length===xh?new Cs({multihash:Or(ws.code,t),privateKey:e}):new Es({multihash:await qo.digest(t),publicKey:t,privateKey:e})}var Vu=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}},As=class{constructor(e={}){this.hwm=e.splitLimit??16,this.head=new Vu(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let r=this.head;this.head=r.next=new Vu(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){let r=this.tail.next;this.tail.next=null,this.tail=r,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}};function Vn(t={}){return f_(r=>{let n=r.shift();if(n==null)return{done:!0};if(n.error!=null)throw n.error;return{done:n.done===!0,value:n.value}},t)}function f_(t,e){e=e??{};let r=e.onEnd,n=new As,i,s,o,a=async()=>n.isEmpty()?o?{done:!0}:await new Promise((p,g)=>{s=m=>{s=null,n.push(m);try{p(t(n))}catch(b){g(b)}return i}}):t(n),u=p=>s!=null?s(p):(n.push(p),i),c=p=>(n=new As,s!=null?s({error:p}):(n.push({error:p}),i)),f=p=>{if(o)return i;if(e?.objectMode!==!0&&p?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return u({done:!1,value:p})},h=p=>o?i:(o=!0,p!=null?c(p):u({done:!0})),d=()=>(n=new As,h(),{done:!0}),y=p=>(h(p),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:a,return:d,throw:y,push:f,end:h,get readableLength(){return n.size}},r==null)return i;let l=i;return i={[Symbol.asyncIterator](){return this},next(){return l.next()},throw(p){return l.throw(p),r!=null&&(r(p),r=void 0),{done:!0}},return(){return l.return(),r!=null&&(r(),r=void 0),{done:!0}},push:f,end(p){return l.end(p),r!=null&&(r(p),r=void 0),i},get readableLength(){return l.readableLength}},i}function Nr(){let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}async function*wh(...t){let e=Vn({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async r=>{for await(let n of r)e.push(n)})),e.end()}catch(r){e.end(r)}}),yield*e}function Vo(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function dn(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null?Vo(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function zo(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Vo(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Eh(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=zo(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Vo(r)}function Am(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Bm=Symbol.for("@achingbrain/uint8arraylist");function _m(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let n of t){let i=r+n.byteLength;if(e<i)return{buf:n,index:e-r};r=i}throw new RangeError("index is out of bounds")}function Sh(t){return Boolean(t?.[Bm])}var vt=class{constructor(...e){Object.defineProperty(this,Bm,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let n of e)if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.push(n);else if(Sh(n))r+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let n of e.reverse())if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.unshift(n);else if(Sh(n))r+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=_m(this.bufs,e);return r.buf[r.index]}set(e,r){let n=_m(this.bufs,e);n.buf[n.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let n=0;n<e.length;n++)this.set(r+n,e[n]);else if(Sh(e))for(let n=0;n<e.length;n++)this.set(r+n,e.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0))for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}slice(e,r){let{bufs:n,length:i}=this._subList(e,r);return Eh(n,i)}subarray(e,r){let{bufs:n,length:i}=this._subList(e,r);return n.length===1?n[0]:Eh(n,i)}sublist(e,r){let{bufs:n,length:i}=this._subList(e,r),s=new vt;return s.length=i,s.bufs=n,s}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let n=[],i=0;for(let s=0;s<this.bufs.length;s++){let o=this.bufs[s],a=i,u=a+o.byteLength;if(i=u,e>=u)continue;let c=e>=a&&e<u,f=r>a&&r<=u;if(c&&f){if(e===a&&r===u){n.push(o);break}let h=e-a;n.push(o.subarray(h,h+(r-e)));break}if(c){if(e===0){n.push(o);continue}n.push(o.subarray(e-a));continue}if(f){if(r===u){n.push(o);break}n.push(o.subarray(0,r-a));break}n.push(o)}return{bufs:n,length:r-e}}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let n=zo(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,r),this.write(n,e)}getInt16(e,r){let n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,r)}setInt16(e,r,n){let i=dn(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,r,n),this.write(i,e)}getInt32(e,r){let n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,r)}setInt32(e,r,n){let i=dn(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,r,n),this.write(i,e)}getBigInt64(e,r){let n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,r)}setBigInt64(e,r,n){let i=dn(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,r,n),this.write(i,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let n=zo(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,r),this.write(n,e)}getUint16(e,r){let n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,r)}setUint16(e,r,n){let i=dn(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,r,n),this.write(i,e)}getUint32(e,r){let n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,r)}setUint32(e,r,n){let i=dn(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,r,n),this.write(i,e)}getBigUint64(e,r){let n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,r)}setBigUint64(e,r,n){let i=dn(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,r,n),this.write(i,e)}getFloat32(e,r){let n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,r)}setFloat32(e,r,n){let i=dn(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,r,n),this.write(i,e)}getFloat64(e,r){let n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,r)}setFloat64(e,r,n){let i=dn(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,r,n),this.write(i,e)}equals(e){if(e==null||!(e instanceof vt)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!Am(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let n=new vt;return n.bufs=e,r==null&&(r=e.reduce((i,s)=>i+s.byteLength,0)),n.length=r,n}};var Jh=X(Fs(),1),Yh=X(Fs(),1),sb=X(Fs(),1),ob=X(Fs(),1),ab=X(Fs(),1),Fr;(function(t){t[t.FIN=0]="FIN",t[t.STOP_SENDING=1]="STOP_SENDING",t[t.RESET=2]="RESET"})(Fr||(Fr={}));var Zh=class extends ab.MessageType{constructor(){super("webrtc.pb.Message",[{no:1,name:"flag",kind:"enum",opt:!0,T:()=>["webrtc.pb.Message.Flag",Fr]},{no:2,name:"message",kind:"scalar",opt:!0,T:12}])}create(e){let r={};return globalThis.Object.defineProperty(r,ob.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,sb.reflectionMergePartial)(this,r,e),r}internalBinaryRead(e,r,n,i){let s=i??this.create(),o=e.pos+r;for(;e.pos<o;){let[a,u]=e.tag();switch(a){case 1:s.flag=e.int32();break;case 2:s.message=e.bytes();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);c!==!1&&(c===!0?Yh.UnknownFieldHandler.onRead:c)(this.typeName,s,a,u,f)}}return s}internalBinaryWrite(e,r,n){e.flag!==void 0&&r.tag(1,Jh.WireType.Varint).int32(e.flag),e.message!==void 0&&r.tag(2,Jh.WireType.LengthDelimited).bytes(e.message);let i=n.writeUnknownFields;return i!==!1&&(i==!0?Yh.UnknownFieldHandler.onWrite:i)(this.typeName,e,r),r}},vc=new Zh;var gn=_r("libp2p:webrtc:stream");function qB(t){return{direction:t,timeline:{open:0,close:void 0}}}var xi=class{constructor(e){switch(this._src=Vn(),this.opened=Nr(),this.closeWritePromise=Nr(),this.writeClosed=!1,this.readClosed=!1,this.closed=!1,this.channel=e.channel,this.id=this.channel.label,this.stat=e.stat,this.channel.readyState){case"open":this.opened.resolve();break;case"closed":case"closing":this.closed=!0,this.stat.timeline.close||(this.stat.timeline.close=new Date().getTime()),this.opened.resolve();break}this.metadata=e.metadata??{},this.sink=this._sinkFn,this.channel.onopen=r=>{this.stat.timeline.open=new Date().getTime(),this.opened.resolve()},this.channel.onmessage=async({data:r})=>{let n;typeof r=="string"?n=Pn(r):n=new Uint8Array(r),gn.trace(`[stream:${this.id}][${this.stat.direction}] received message: length: ${n.length} ${n}`);let i=vc.fromBinary(n);switch(gn(`[stream:${this.id}][${this.stat.direction}] received pb.Message: ${Object.entries(i)}`),i.flag){case void 0:break;case Fr.STOP_SENDING:gn.trace('Remote has indicated, with "STOP_SENDING" flag, that it will discard any messages we send.'),this.closeWrite();break;case Fr.FIN:gn.trace('Remote has indicated, with "FIN" flag, that it will not send any further messages.'),this.closeRead();break;case Fr.RESET:gn.trace('Remote abruptly stopped sending, indicated with "RESET" flag.'),this.closeRead()}this.readClosed||this.closed||i.message&&(gn.trace("%s incoming message %s",this.id,i.message),this._src.push(new vt(i.message)))},this.channel.onclose=r=>{this.close()},this.channel.onerror=r=>{let n=r.error;this.abort(n)}}set source(e){}get source(){return this._src}async _sinkFn(e){if(await this.opened.promise,closed||this.writeClosed)return;let r=this,n={async*[Symbol.asyncIterator](){await r.closeWritePromise.promise,yield new Uint8Array(0)}};for await(let i of wh(n,e)){if(closed||this.writeClosed)break;let s=i.subarray(),o=vc.toBinary({message:i.subarray()});gn.trace(`[stream:${this.id}][${this.stat.direction}] sending message: length: ${s.length} ${s}, encoded through pb as ${o}`),this.channel.send(o)}}close(){this.closed||(this.stat.timeline.close=new Date().getTime(),this.closed=!0,this.readClosed=!0,this.writeClosed=!0,this.channel.close(),this.closeCb&&this.closeCb(this))}closeRead(){this._sendFlag(Fr.STOP_SENDING),this.readClosed=!0,this.source.end(),this.readClosed&&this.writeClosed&&this.close()}closeWrite(){this._sendFlag(Fr.FIN),this.writeClosed=!0,this.closeWritePromise.resolve(),this.readClosed&&this.writeClosed&&this.close()}abort(e){this.close()}reset(){this.stat=qB(this.stat.direction),this._sendFlag(Fr.RESET),this.writeClosed=!0,this.closeWritePromise.resolve(),this.readClosed&&this.writeClosed&&this.close()}_sendFlag(e){try{gn("Sending flag: %s",e.toString()),this.channel.send(vc.toBinary({flag:e}))}catch(r){gn.error(`Exception while sending flag ${e}: ${r}`)}}};var Vb=X(pb(),1),Ps=X(Ob(),1),Rc=X(Rb(),1),pd=X(Kb(),1),zb={hashSHA256(t){return(0,Rc.hash)(t)},getHKDF(t,e){let i=new Vb.HKDF(Rc.SHA256,e,t).expand(96),s=i.subarray(0,32),o=i.subarray(32,64),a=i.subarray(64,96);return[s,o,a]},generateX25519KeyPair(){let t=Ps.generateKeyPair();return{publicKey:t.publicKey,privateKey:t.secretKey}},generateX25519KeyPairFromSeed(t){let e=Ps.generateKeyPairFromSeed(t);return{publicKey:e.publicKey,privateKey:e.secretKey}},generateX25519SharedKey(t,e){return Ps.sharedKey(t,e)},chaCha20Poly1305Encrypt(t,e,r,n){return new pd.ChaCha20Poly1305(n).seal(e,t,r)},chaCha20Poly1305Decrypt(t,e,r,n){return new pd.ChaCha20Poly1305(n).open(e,t,r)}};function Hb(t){let e=async function*(){let r=yield,n=new vt;for await(let i of t){if(r==null){n.append(i),r=yield n,n=new vt;continue}for(n.append(i);n.length>=r;){let s=n.sublist(0,r);if(n.consume(r),r=yield s,r==null){n.length>0&&(r=yield n,n=new vt);break}}}if(r!=null)throw Object.assign(new Error(`stream ended before ${r} bytes became available`),{code:"ERR_UNDER_READ",buffer:n})}();return e.next(),e}function $b(t){let e=Vn(),r=Hb(t.source),n=Nr(),i,s=t.sink(async function*(){yield*e,yield*await n.promise}());return s.catch(a=>{i=a}),{reader:r,writer:e,stream:{sink:async a=>i!=null?await Promise.reject(i):(n.resolve(a),await s),source:r},rest:()=>e.end(),write:e.push,read:async()=>{let a=await r.next();if(a.value!=null)return a.value}}}function Uc(t){return t instanceof Uint8Array?{get(e){return t[e]},set(e,r){t[e]=r}}:{get(e){return t.get(e)},set(e,r){t.set(e,r)}}}var jb=4294967296,Kt=class{constructor(e=0,r=0){this.hi=e,this.lo=r}toBigInt(e){if(e===!0)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31!==0){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toNumber(e){return Number(this.toBigInt(e))}zzDecode(){let e=-(this.lo&1),r=((this.lo>>>1|this.hi<<31)^e)>>>0,n=(this.hi>>>1^e)>>>0;return new Kt(n,r)}zzEncode(){let e=this.hi>>31,r=((this.hi<<1|this.lo>>>31)^e)>>>0,n=(this.lo<<1^e)>>>0;return new Kt(r,n)}toBytes(e,r=0){let n=Uc(e);for(;this.hi>0;)n.set(r++,this.lo&127|128),this.lo=(this.lo>>>7|this.hi<<25)>>>0,this.hi>>>=7;for(;this.lo>127;)n.set(r++,this.lo&127|128),this.lo=this.lo>>>7;n.set(r++,this.lo)}static fromBigInt(e){if(e===0n)return new Kt;let r=e<0;r&&(e=-e);let n=Number(e>>32n)|0,i=Number(e-(BigInt(n)<<32n))|0;return r&&(n=~n>>>0,i=~i>>>0,++i>jb&&(i=0,++n>jb&&(n=0))),new Kt(n,i)}static fromNumber(e){if(e===0)return new Kt;let r=e<0;r&&(e=-e);let n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Kt(i,n)}static fromBytes(e,r=0){let n=Uc(e),i=new Kt,s=0;if(e.length-r>4){for(;s<4;++s)if(i.lo=(i.lo|(n.get(r)&127)<<s*7)>>>0,n.get(r++)<128)return i;if(i.lo=(i.lo|(n.get(r)&127)<<28)>>>0,i.hi=(i.hi|(n.get(r)&127)>>4)>>>0,n.get(r++)<128)return i;s=0}else for(;s<4;++s){if(r>=e.length)throw RangeError(`index out of range: ${r} > ${e.length}`);if(i.lo=(i.lo|(n.get(r)&127)<<s*7)>>>0,n.get(r++)<128)return i}if(e.length-r>4){for(;s<5;++s)if(i.hi=(i.hi|(n.get(r)&127)<<s*7+3)>>>0,n.get(r++)<128)return i}else if(r<e.byteLength)for(;s<5;++s){if(r>=e.length)throw RangeError(`index out of range: ${r} > ${e.length}`);if(i.hi=(i.hi|(n.get(r)&127)<<s*7+3)>>>0,n.get(r++)<128)return i}throw RangeError("invalid varint encoding")}};function Gb(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Wb(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Gb(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var XT=Math.pow(2,7),JT=Math.pow(2,14),YT=Math.pow(2,21),ZT=Math.pow(2,28),QT=Math.pow(2,35),eI=Math.pow(2,42),tI=Math.pow(2,49),rI=Math.pow(2,56),nI=Math.pow(2,63),vi={encodingLength(t){return t<XT?1:t<JT?2:t<YT?3:t<ZT?4:t<QT?5:t<eI?6:t<tI?7:t<rI?8:t<nI?9:10},encode(t,e,r=0){if(Number.MAX_SAFE_INTEGER!=null&&t>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return e==null&&(e=Wb(vi.encodingLength(t))),Kt.fromNumber(t).toBytes(e,r),e},decode(t,e=0){return Kt.fromBytes(t,e).toNumber(!0)}};function Xb(t){return globalThis?.Buffer?.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}var Fc=t=>{let e=vi.encodingLength(t),r=Xb(e);return vi.encode(t,r),Fc.bytes=e,r};Fc.bytes=0;function Ms(t){t=t??{};let e=t.lengthEncoder??Fc;return async function*(n){for await(let i of n){let s=e(i.byteLength);s instanceof Uint8Array?yield s:yield*s,i instanceof Uint8Array?yield i:yield*i}}}Ms.single=(t,e)=>{e=e??{};let r=e.lengthEncoder??Fc;return new vt(r(t.byteLength),t)};var ia=X(St(),1),iI=8,sI=1024*1024*4,Di;(function(t){t[t.LENGTH=0]="LENGTH",t[t.DATA=1]="DATA"})(Di||(Di={}));var yd=t=>{let e=vi.decode(t);return yd.bytes=vi.encodingLength(e),e};yd.bytes=0;function wi(t){return async function*(r){let n=new vt,i=Di.LENGTH,s=-1,o=t?.lengthDecoder??yd,a=t?.maxLengthLength??iI,u=t?.maxDataLength??sI;for await(let c of r)for(n.append(c);n.byteLength>0;){if(i===Di.LENGTH)try{if(s=o(n),s<0)throw(0,ia.default)(new Error("invalid message length"),"ERR_INVALID_MSG_LENGTH");if(s>u)throw(0,ia.default)(new Error("message length too long"),"ERR_MSG_DATA_TOO_LONG");let f=o.bytes;n.consume(f),t?.onLength!=null&&t.onLength(s),i=Di.DATA}catch(f){if(f instanceof RangeError){if(n.byteLength>a)throw(0,ia.default)(new Error("message length length too long"),"ERR_MSG_LENGTH_TOO_LONG");break}throw f}if(i===Di.DATA){if(n.byteLength<s)break;let f=n.sublist(0,s);n.consume(s),t?.onData!=null&&t.onData(f),yield f,i=Di.LENGTH}}if(n.byteLength>0)throw(0,ia.default)(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}}wi.fromReader=(t,e)=>{let r=1,n=async function*(){for(;;)try{let{done:s,value:o}=await t.next(r);if(s===!0)return;o!=null&&(yield o)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}();return wi({...e??{},onLength:s=>{r=s}})(n)};function gd(t,e={}){let r=$b(t),n=wi.fromReader(r.reader,e),i={read:async s=>{let{value:o}=await r.reader.next(s);if(o==null)throw new Error("Value is null");return o},readLP:async()=>{let{value:s}=await n.next();if(s==null)throw new Error("Value is null");return s},readPB:async s=>{let o=await i.readLP();if(o==null)throw new Error("Value is null");let a=o instanceof Uint8Array?o:o.slice();return s.decode(a)},write:s=>{s instanceof Uint8Array?r.writer.push(s):r.writer.push(s.slice())},writeLP:s=>{i.write(Ms.single(s,e))},writePB:(s,o)=>{i.writeLP(o.encode(s))},pb:s=>({read:async()=>await i.readPB(s),write:o=>i.writePB(o,s)}),unwrap:()=>(r.rest(),r.stream)};return i}function md(){let t=Nr(),e=!1;return{sink:async r=>{if(e)throw new Error("already piped");e=!0,t.resolve(r)},source:async function*(){yield*await t.promise}()}}function Jb(){let t=md(),e=md();return[{source:t.source,sink:e.sink},{source:e.source,sink:t.sink}]}var ox=X(sx(),1),cI=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},ax=t=>t!=null&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),xd=t=>t!=null&&typeof t.sink=="function"&&ax(t.source),fI=t=>e=>{let r=t.sink(e);if(r.then!=null){let n=Vn({objectMode:!0});return r.then(()=>{n.end()},s=>{n.end(s)}),(0,ox.default)(n,async function*(){yield*t.source,n.end()}())}return t.source};function ux(t,...e){if(xd(t)){let n=t;t=()=>n.source}else if(ax(t)){let n=t;t=()=>n}let r=[t,...e];if(r.length>1&&xd(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let n=1;n<r.length-1;n++)xd(r[n])&&(r[n]=fI(r[n]));return cI(...r)}var cx=Boolean(globalThis.process?.env?.DUMP_SESSION_KEYS);function lx(t){return async function*(e){for await(let r of e)for(let n=0;n<r.length;n+=65519){let i=n+65519;i>r.length&&(i=r.length),yield t.encrypt(r.subarray(n,i),t.session)}}}function hx(t){return async function*(e){for await(let r of e)for(let n=0;n<r.length;n+=65535){let i=n+65535;i>r.length&&(i=r.length);let{plaintext:s,valid:o}=await t.decrypt(r.subarray(n,i),t.session);if(!o)throw new Error("Failed to validate decrypted chunk");yield s}}}function Ei(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function oa(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ei(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function vn(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=oa(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Ei(r)}var lI=t=>globalThis.Buffer?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t),aa=t=>{let e=lI(2);return new DataView(e.buffer,e.byteOffset,e.byteLength).setUint16(0,t,!1),e};aa.bytes=2;var ua=t=>{if(t.length<2)throw RangeError("Could not decode int16BE");return t instanceof Uint8Array?new DataView(t.buffer,t.byteOffset,t.byteLength).getUint16(0,!1):t.getUint16(0)};ua.bytes=2;function dx(t){return vn([t.ne,t.ciphertext],t.ne.length+t.ciphertext.length)}function px(t){return vn([t.ne,t.ns,t.ciphertext],t.ne.length+t.ns.length+t.ciphertext.length)}function yx(t){return vn([t.ns,t.ciphertext],t.ns.length+t.ciphertext.length)}function gx(t){if(t.length<32)throw new Error("Cannot decode stage 0 MessageBuffer: length less than 32 bytes.");return{ne:t.subarray(0,32),ciphertext:t.subarray(32,t.length),ns:new Uint8Array(0)}}function mx(t){if(t.length<80)throw new Error("Cannot decode stage 1 MessageBuffer: length less than 80 bytes.");return{ne:t.subarray(0,32),ns:t.subarray(32,80),ciphertext:t.subarray(80,t.length)}}function bx(t){if(t.length<48)throw new Error("Cannot decode stage 2 MessageBuffer: length less than 48 bytes.");return{ne:new Uint8Array(0),ns:t.subarray(0,48),ciphertext:t.subarray(48,t.length)}}var Si=class extends Error{constructor(e="Unexpected Peer"){super(e),this.code=Si.code}static get code(){return"ERR_UNEXPECTED_PEER"}},Dn=class extends Error{constructor(e="Invalid crypto exchange"){super(e),this.code=Dn.code}static get code(){return"ERR_INVALID_CRYPTO_EXCHANGE"}};var mv=X(hp(),1),dp=mv.default.Reader,Ek=["uint64","int64","sint64","fixed64","sfixed64"];Ek.forEach(t=>{let e=dp.prototype[t];dp.prototype[t]=function(){return BigInt(e.call(this).toString())}});function Ii(t,e){let r=dp.create(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}var bv=X(hp(),1),pp=bv.default.Writer,Sk=["uint64","int64","sint64","fixed64","sfixed64"];Sk.forEach(t=>{let e=pp.prototype[t];pp.prototype[t]=function(r){return e.call(this,r.toString())}});function ki(t,e){let r=pp.create();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var js;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(js||(js={}));function af(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function yp(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(s,o){let a=e(s);o.int32(a)},n=function(s){let o=s.uint32();return e(o)};return af("enum",js.VARINT,r,n)}function Oi(t,e){return af("message",js.LENGTH_DELIMITED,t,e)}var Oe;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(Oe||(Oe={}));var gp;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(gp||(gp={}));(function(t){t.codec=()=>yp(gp)})(Oe||(Oe={}));var Wr;(function(t){let e;t.codec=()=>(e==null&&(e=Oi((r,n,i={})=>{if(i.lengthDelimited!==!1&&n.fork(),r.Type!=null)n.uint32(8),Oe.codec().encode(r.Type,n);else throw new Error('Protocol error: required field "Type" was not found in object');if(r.Data!=null)n.uint32(18),n.bytes(r.Data);else throw new Error('Protocol error: required field "Data" was not found in object');i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={Type:Oe.RSA,Data:new Uint8Array(0)},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=Oe.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}if(i.Type==null)throw new Error('Protocol error: value for required field "Type" was not found in protobuf');if(i.Data==null)throw new Error('Protocol error: value for required field "Data" was not found in protobuf');return i})),e),t.encode=r=>ki(r,t.codec()),t.decode=r=>Ii(r,t.codec())})(Wr||(Wr={}));var Xr;(function(t){let e;t.codec=()=>(e==null&&(e=Oi((r,n,i={})=>{if(i.lengthDelimited!==!1&&n.fork(),r.Type!=null)n.uint32(8),Oe.codec().encode(r.Type,n);else throw new Error('Protocol error: required field "Type" was not found in object');if(r.Data!=null)n.uint32(18),n.bytes(r.Data);else throw new Error('Protocol error: required field "Data" was not found in object');i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={Type:Oe.RSA,Data:new Uint8Array(0)},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=Oe.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}if(i.Type==null)throw new Error('Protocol error: value for required field "Type" was not found in protobuf');if(i.Data==null)throw new Error('Protocol error: value for required field "Data" was not found in protobuf');return i})),e),t.encode=r=>ki(r,t.codec()),t.decode=r=>Ii(r,t.codec())})(Xr||(Xr={}));var Sj=X(Ea(),1),Cj=X(RD(),1),iU=X(Be(),1),X8=X(St(),1);var Hp={};W(Hp,{identity:()=>e7});function XN(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,b=l.length;m!==b&&l[m]===0;)m++,p++;for(var v=(b-m)*f+1>>>0,x=new Uint8Array(v);m!==b;){for(var D=l[m],w=0,C=v-1;(D!==0||w<g)&&C!==-1;C--,w++)D+=256*x[C]>>>0,x[C]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");g=w,m++}for(var _=v-g;_!==v&&x[_]===0;)_++;for(var F=u.repeat(p);_<v;++_)F+=t.charAt(x[_]);return F}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var g=0,m=0;l[p]===u;)g++,p++;for(var b=(l.length-p)*c+1>>>0,v=new Uint8Array(b);l[p];){var x=r[l.charCodeAt(p)];if(x===255)return;for(var D=0,w=b-1;(x!==0||D<m)&&w!==-1;w--,D++)x+=a*v[w]>>>0,v[w]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=D,p++}if(l[p]!==" "){for(var C=b-m;C!==b&&v[C]===0;)C++;for(var _=new Uint8Array(g+(b-C)),F=g;C!==b;)_[F++]=v[C++];return _}}}function y(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:y}}var JN=XN,YN=JN,UD=YN;var OH=new Uint8Array(0);var FD=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},nr=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var LD=t=>new TextEncoder().encode(t),PD=t=>new TextDecoder().decode(t);var qp=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Kp=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return qD(this,e)}},Vp=class{constructor(e){this.decoders=e}or(e){return qD(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},qD=(t,e)=>new Vp({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),zp=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new qp(e,r,n),this.decoder=new Kp(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ys=({name:t,prefix:e,encode:r,decode:n})=>new zp(t,e,r,n),ri=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=UD(r,e);return Ys({prefix:t,name:e,encode:n,decode:s=>nr(i(s))})},ZN=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},QN=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Xe=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ys({prefix:e,name:t,encode(i){return QN(i,n,r)},decode(i){return ZN(i,n,r,t)}});var e7=Ys({prefix:"\0",name:"identity",encode:t=>PD(t),decode:t=>LD(t)});var $p={};W($p,{base2:()=>t7});var t7=Xe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jp={};W(jp,{base8:()=>r7});var r7=Xe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gp={};W(Gp,{base10:()=>n7});var n7=ri({prefix:"9",name:"base10",alphabet:"0123456789"});var Wp={};W(Wp,{base16:()=>i7,base16upper:()=>s7});var i7=Xe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),s7=Xe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xp={};W(Xp,{base32:()=>Zs,base32hex:()=>c7,base32hexpad:()=>l7,base32hexpadupper:()=>h7,base32hexupper:()=>f7,base32pad:()=>a7,base32padupper:()=>u7,base32upper:()=>o7,base32z:()=>d7});var Zs=Xe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o7=Xe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),a7=Xe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),u7=Xe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c7=Xe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f7=Xe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l7=Xe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h7=Xe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d7=Xe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Jp={};W(Jp,{base36:()=>p7,base36upper:()=>y7});var p7=ri({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),y7=ri({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yp={};W(Yp,{base58btc:()=>ir,base58flickr:()=>g7});var ir=ri({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),g7=ri({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zp={};W(Zp,{base64:()=>Cf,base64pad:()=>m7,base64url:()=>b7,base64urlpad:()=>x7});var Cf=Xe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),m7=Xe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),b7=Xe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),x7=Xe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Qp={};W(Qp,{base256emoji:()=>S7});var KD=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),v7=KD.reduce((t,e,r)=>(t[r]=e,t),[]),D7=KD.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function w7(t){return t.reduce((e,r)=>(e+=v7[r],e),"")}function E7(t){let e=[];for(let r of t){let n=D7[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var S7=Ys({prefix:"\u{1F680}",name:"base256emoji",encode:w7,decode:E7});var iy={};W(iy,{sha256:()=>Ht,sha512:()=>z7});var ny=X(Re("crypto"),1);var C7=HD,VD=128,A7=127,_7=~A7,B7=Math.pow(2,31);function HD(t,e,r){e=e||[],r=r||0;for(var n=r;t>=B7;)e[r++]=t&255|VD,t/=128;for(;t&_7;)e[r++]=t&255|VD,t>>>=7;return e[r]=t|0,HD.bytes=r-n+1,e}var T7=ey,I7=128,zD=127;function ey(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw ey.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&zD)<<i:(o&zD)*Math.pow(2,i),i+=7}while(o>=I7);return ey.bytes=s-n,r}var k7=Math.pow(2,7),O7=Math.pow(2,14),N7=Math.pow(2,21),R7=Math.pow(2,28),U7=Math.pow(2,35),F7=Math.pow(2,42),L7=Math.pow(2,49),P7=Math.pow(2,56),M7=Math.pow(2,63),q7=function(t){return t<k7?1:t<O7?2:t<N7?3:t<R7?4:t<U7?5:t<F7?6:t<L7?7:t<P7?8:t<M7?9:10},K7={encode:C7,decode:T7,encodingLength:q7},V7=K7,Aa=V7;var _a=(t,e=0)=>[Aa.decode(t,e),Aa.decode.bytes],Qs=(t,e,r=0)=>(Aa.encode(t,e,r),e),eo=t=>Aa.encodingLength(t);var Pi=(t,e)=>{let r=e.byteLength,n=eo(t),i=n+eo(r),s=new Uint8Array(i+r);return Qs(t,s,0),Qs(r,s,n),s.set(e,i),new to(t,r,e,s)},$D=t=>{let e=nr(t),[r,n]=_a(e),[i,s]=_a(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new to(r,i,o,e)},jD=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&FD(t.bytes,e.bytes),to=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var ry=({name:t,code:e,encode:r})=>new ty(t,e,r),ty=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Pi(this.code,r):r.then(n=>Pi(this.code,n))}else throw Error("Unknown type, must be binary type")}};var Ht=ry({name:"sha2-256",code:18,encode:t=>nr(ny.default.createHash("sha256").update(t).digest())}),z7=ry({name:"sha2-512",code:19,encode:t=>nr(ny.default.createHash("sha512").update(t).digest())});var oy={};W(oy,{identity:()=>sy});var WD=0,H7="identity",XD=nr,$7=t=>Pi(WD,XD(t)),sy={code:WD,name:H7,encode:XD,digest:$7};var e$=new TextEncoder,t$=new TextDecoder;var ot=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Bf,byteLength:Bf,code:_f,version:_f,multihash:_f,bytes:_f,_baseCache:Bf,asCID:Bf})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Ta)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Y7)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ot.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Pi(e,r);return ot.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&jD(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return X7(r,i,e||ir.encoder);default:return J7(r,i,e||Zs.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Q7(/^0\.0/,eR),!!(e&&(e[YD]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ot)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new ot(r,n,i,s||JD(r,n,i.bytes))}else if(e!=null&&e[YD]===!0){let{version:r,multihash:n,code:i}=e,s=$D(n);return ot.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Ta)throw new Error(`Version 0 CID must use dag-pb (code: ${Ta}) block encoding`);return new ot(e,r,n,n.bytes)}case 1:{let i=JD(e,r,n.bytes);return new ot(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return ot.create(0,Ta,e)}static createV1(e,r){return ot.create(1,e,r)}static decode(e){let[r,n]=ot.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=ot.inspectBytes(e),n=r.size-r.multihashSize,i=nr(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new to(r.multihashCode,r.digestSize,s,i);return[r.version===0?ot.createV0(o):ot.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,d]=_a(e.subarray(r));return r+=d,h},i=n(),s=Ta;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),c=r+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=W7(e,r),s=ot.decode(i);return s._baseCache.set(n,e),s}},W7=(t,e)=>{switch(t[0]){case"Q":{let r=e||ir;return[ir.prefix,r.decode(`${ir.prefix}${t}`)]}case ir.prefix:{let r=e||ir;return[ir.prefix,r.decode(t)]}case Zs.prefix:{let r=e||Zs;return[Zs.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},X7=(t,e,r)=>{let{prefix:n}=r;if(n!==ir.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},J7=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Ta=112,Y7=18,JD=(t,e,r)=>{let n=eo(t),i=n+eo(e),s=new Uint8Array(i+r.byteLength);return Qs(t,s,0),Qs(e,s,n),s.set(r,i),s},YD=Symbol.for("@ipld/js-cid/CID"),_f={writable:!1,configurable:!1,enumerable:!0},Bf={writable:!1,enumerable:!1,configurable:!1},Z7="0.0.0-dev",Q7=(t,e)=>{if(t.test(Z7))console.warn(e);else throw new Error(e)},eR=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var ay={...Hp,...$p,...jp,...Gp,...Wp,...Xp,...Jp,...Yp,...Zp,...Qp},c$={...iy,...oy};function ro(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Tf(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ro(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function QD(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var ZD=QD("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),uy=QD("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Tf(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),tR={utf8:ZD,"utf-8":ZD,hex:ay.base16,latin1:uy,ascii:uy,binary:uy,...ay},If=tR;function rn(t,e="utf8"){let r=If[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ro(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var nR=X(St(),1);function Bn(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=Tf(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return ro(r)}var iR=X(St(),1),sR={"P-256":"prime256v1","P-384":"secp384r1","P-521":"secp521r1"},oR=Object.keys(sR),I$=oR.join(" / ");var Mi=X(Re("crypto"),1);function cy(t){let e=t?.algorithm??"aes-128-gcm",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"sha256",s=t?.saltLength??16,o=t?.iterations??32767,a=t?.algorithmTagLength??16;async function u(y,l){let p=Mi.default.randomBytes(n),g=Mi.default.createCipheriv(e,l,p),m=Bn([g.update(y),g.final()]);return Bn([p,m,g.getAuthTag()])}async function c(y,l){let p=Mi.default.randomBytes(s);typeof l=="string"&&(l=rn(l));let g=Mi.default.pbkdf2Sync(l,p,o,r,i);return Bn([p,await u(Uint8Array.from(y),g)])}async function f(y,l){let p=y.slice(0,n),g=y.slice(n,y.length-a),m=y.slice(g.length+n),b=Mi.default.createDecipheriv(e,l,p);return b.setAuthTag(m),Bn([b.update(g),b.final()])}async function h(y,l){let p=y.slice(0,s),g=y.slice(s);typeof l=="string"&&(l=rn(l));let m=Mi.default.pbkdf2Sync(l,p,o,r,i);return await f(g,m)}return{encrypt:c,decrypt:h}}var vy={};W(vy,{RsaPrivateKey:()=>fo,RsaPublicKey:()=>Fa,fromJwk:()=>OR,generateKeyPair:()=>NR,unmarshalRsaPrivateKey:()=>IR,unmarshalRsaPublicKey:()=>kR});var xy=X(St(),1);function Tn(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function nn(t,e="utf8"){let r=If[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var uj=X(s8(),1),Ua=X(Be(),1);var zi=X(Re("crypto"),1),v8=Re("util"),D8=X(St(),1);var uR=X(Re("crypto"),1);var me=BigInt(0),Le=BigInt(1),ni=BigInt(2),Oa=BigInt(3),cR=BigInt(8),Ke=Object.freeze({a:me,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Le,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function o8(t){let{a:e,b:r}=Ke,n=K(t*t),i=K(n*t);return K(i+e*t+r)}var kf=Ke.a===me,Nf=class extends Error{constructor(e){super(e)}},Se=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Ae))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Se(e.x,e.y,Le)}static toAffineBatch(e){let r=pR(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return Se.toAffineBatch(e).map(Se.fromAffine)}equals(e){if(!(e instanceof Se))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=e,u=K(i*i),c=K(a*a),f=K(r*c),h=K(s*u),d=K(K(n*a)*c),y=K(K(o*i)*u);return f===h&&d===y}negate(){return new Se(this.x,K(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=K(e*e),s=K(r*r),o=K(s*s),a=e+s,u=K(ni*(K(a*a)-i-o)),c=K(Oa*i),f=K(c*c),h=K(f-ni*u),d=K(c*(u-h)-cR*o),y=K(ni*r*n);return new Se(h,d,y)}add(e){if(!(e instanceof Se))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=e;if(s===me||o===me)return this;if(r===me||n===me)return e;let u=K(i*i),c=K(a*a),f=K(r*c),h=K(s*u),d=K(K(n*a)*c),y=K(K(o*i)*u),l=K(h-f),p=K(y-d);if(l===me)return p===me?this.double():Se.ZERO;let g=K(l*l),m=K(l*g),b=K(f*g),v=K(p*p-m-ni*b),x=K(p*(b-v)-d*m),D=K(i*a*l);return new Se(v,x,D)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=Se.ZERO;if(typeof e=="bigint"&&e===me)return r;let n=c8(e);if(n===Le)return this;if(!kf){let h=r,d=this;for(;n>me;)n&Le&&(h=h.add(d)),d=d.double(),n>>=Le;return h}let{k1neg:i,k1:s,k2neg:o,k2:a}=l8(n),u=r,c=r,f=this;for(;s>me||a>me;)s&Le&&(u=u.add(f)),a&Le&&(c=c.add(f)),f=f.double(),s>>=Le,a>>=Le;return i&&(u=u.negate()),o&&(c=c.negate()),c=new Se(K(c.x*Ke.beta),c.y,c.z),u.add(c)}precomputeWindow(e){let r=kf?128/e+1:256/e+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(Se.BASE)&&(r=Ae.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&dy.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Se.normalizeZ(i),dy.set(r,i)));let s=Se.ZERO,o=Se.ZERO,a=1+(kf?128/n:256/n),u=2**(n-1),c=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let d=0;d<a;d++){let y=d*u,l=Number(e&c);if(e>>=h,l>u&&(l-=f,e+=Le),l===0){let p=i[y];d%2&&(p=p.negate()),o=o.add(p)}else{let p=i[y+Math.abs(l)-1];l<0&&(p=p.negate()),s=s.add(p)}}return{p:s,f:o}}multiply(e,r){let n=c8(e),i,s;if(kf){let{k1neg:o,k1:a,k2neg:u,k2:c}=l8(n),{p:f,f:h}=this.wNAF(a,r),{p:d,f:y}=this.wNAF(c,r);o&&(f=f.negate()),u&&(d=d.negate()),d=new Se(K(d.x*Ke.beta),d.y,d.z),i=f.add(d),s=h.add(y)}else{let{p:o,f:a}=this.wNAF(n,r);i=o,s=a}return Se.normalizeZ([i,s])[0]}toAffine(e=uo(this.z)){let{x:r,y:n,z:i}=this,s=e,o=K(s*s),a=K(o*s),u=K(r*o),c=K(n*a);if(K(i*s)!==Le)throw new Error("invZ was invalid");return new Ae(u,c)}};Se.BASE=new Se(Ke.Gx,Ke.Gy,Le);Se.ZERO=new Se(me,Le,me);var dy=new WeakMap,Ae=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,dy.delete(this)}hasEvenY(){return this.y%ni===me}static fromCompressedHex(e){let r=e.length===32,n=In(r?e:e.subarray(1));if(!hy(n))throw new Error("Point is not on curve");let i=o8(n),s=dR(i),o=(s&Le)===Le;r?o&&(s=K(-s)):(e[0]&1)===1!==o&&(s=K(-s));let a=new Ae(n,s);return a.assertValidity(),a}static fromUncompressedHex(e){let r=In(e.subarray(1,33)),n=In(e.subarray(33,65)),i=new Ae(r,n);return i.assertValidity(),i}static fromHex(e){let r=ao(e),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Ae.BASE.multiply(Uf(e))}static fromSignature(e,r,n){e=ao(e);let i=h8(e),{r:s,s:o}=d8(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let a=n&1?"03":"02",u=Ae.fromHex(a+io(s)),{n:c}=Ke,f=uo(s,c),h=K(-i*f,c),d=K(o*f,c),y=Ae.BASE.multiplyAndAddUnsafe(u,h,d);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(e=!1){return Ki(this.toHex(e))}toHex(e=!1){let r=io(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${io(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!hy(r)||!hy(n))throw new Error(e);let i=K(n*n),s=o8(r);if(K(i-s)!==me)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ae(this.x,K(-this.y))}double(){return Se.fromAffine(this).double().toAffine()}add(e){return Se.fromAffine(this).add(Se.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Se.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Se.fromAffine(this),s=r===me||r===Le||this!==Ae.BASE?i.multiplyUnsafe(r):i.multiply(r),o=Se.fromAffine(e).multiplyUnsafe(n),a=s.add(o);return a.equals(Se.ZERO)?void 0:a.toAffine()}};Ae.BASE=new Ae(Ke.Gx,Ke.Gy);Ae.ZERO=new Ae(me,me);function a8(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function u8(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${oo(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:In(r),left:t.subarray(e+2)}}function fR(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${oo(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=u8(t.subarray(2)),{data:n,left:i}=u8(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${oo(i)}`);return{r:e,s:n}}var sn=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?oo(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new sn(Rf(i.slice(0,64)),Rf(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=fR(r?e:Ki(e));return new sn(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Ra(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ra(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Ke.n>>Le;return this.s>e}normalizeS(){return this.hasHighS()?new sn(this.r,Ke.n-this.s):this}toDERRawBytes(e=!1){return Ki(this.toDERHex(e))}toDERHex(e=!1){let r=a8(ka(this.s));if(e)return r;let n=a8(ka(this.r)),i=ka(n.length/2),s=ka(r.length/2);return`30${ka(n.length/2+r.length/2+4)}02${i}${n}02${s}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Ki(this.toCompactHex())}toCompactHex(){return io(this.r)+io(this.s)}};function no(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var lR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function oo(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=lR[t[r]];return e}var hR=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function io(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(me<=t&&t<hR))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function py(t){let e=Ki(io(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function ka(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Rf(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Ki(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function In(t){return Rf(oo(t))}function ao(t){return t instanceof Uint8Array?Uint8Array.from(t):Ki(t)}function c8(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Ra(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function K(t,e=Ke.P){let r=t%e;return r>=me?r:e+r}function sr(t,e){let{P:r}=Ke,n=t;for(;e-- >me;)n*=n,n%=r;return n}function dR(t){let{P:e}=Ke,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),u=t*t*t%e,c=u*u*t%e,f=sr(c,Oa)*c%e,h=sr(f,Oa)*c%e,d=sr(h,ni)*u%e,y=sr(d,n)*d%e,l=sr(y,i)*y%e,p=sr(l,o)*l%e,g=sr(p,a)*p%e,m=sr(g,o)*l%e,b=sr(m,Oa)*c%e,v=sr(b,s)*y%e,x=sr(v,r)*u%e;return sr(x,ni)}function uo(t,e=Ke.P){if(t===me||e<=me)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=K(t,e),n=e,i=me,s=Le,o=Le,a=me;for(;r!==me;){let c=n/r,f=n%r,h=i-o*c,d=s-a*c;n=r,r=f,i=o,s=a,o=h,a=d}if(n!==Le)throw new Error("invert: does not exist");return K(i,e)}function pR(t,e=Ke.P){let r=new Array(t.length),n=t.reduce((s,o,a)=>o===me?s:(r[a]=s,K(s*o,e)),Le),i=uo(n,e);return t.reduceRight((s,o,a)=>o===me?s:(r[a]=K(s*r[a],e),K(s*o,e)),i),r}var f8=(t,e)=>(t+e/ni)/e,yR={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-Le*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function l8(t){let{n:e}=Ke,{a1:r,b1:n,a2:i,b2:s,POW_2_128:o}=yR,a=f8(s*t,e),u=f8(-n*t,e),c=K(t-a*r-u*i,e),f=K(-a*n-u*s,e),h=c>o,d=f>o;if(h&&(c=e-c),d&&(f=e-f),c>o||f>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:d,k2:f}}function h8(t){let{n:e}=Ke,n=t.length*8-256,i=In(t);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var so,Na,yy=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return wr.hmacSha256(this.k,...e)}hmacSync(...e){return Na(this.k,...e)}checkSync(){if(typeof Na!="function")throw new Nf("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}};function Ra(t){return me<t&&t<Ke.n}function hy(t){return me<t&&t<Ke.P}function gR(t,e,r){let n=In(t);if(!Ra(n))return;let{n:i}=Ke,s=Ae.BASE.multiply(n),o=K(s.x,i);if(o===me)return;let a=K(uo(n,i)*K(e+r*o,i),i);if(a===me)return;let u=new sn(o,a),c=(s.x===u.r?0:2)|Number(s.y&Le);return{sig:u,recovery:c}}function Uf(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=Rf(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=In(t)}else throw new TypeError("Expected valid private key");if(!Ra(e))throw new Error("Expected private key: 0 < key < n");return e}function mR(t){return t instanceof Ae?(t.assertValidity(),t):Ae.fromHex(t)}function d8(t){if(t instanceof sn)return t.assertValidity(),t;try{return sn.fromDER(t)}catch{return sn.fromCompact(t)}}function gy(t,e=!1){return Ae.fromPrivateKey(t).toRawBytes(e)}function p8(t){let e=t.length>32?t.slice(0,32):t;return In(e)}function bR(t){let e=p8(t),r=K(e,Ke.n);return y8(r<me?e:r)}function y8(t){return py(t)}function xR(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=ao(t),i=Uf(e),s=[y8(i),bR(n)];if(r!=null){r===!0&&(r=wr.randomBytes(32));let u=ao(r);if(u.length!==32)throw new Error("sign: Expected 32 bytes of extra data");s.push(u)}let o=no(...s),a=p8(n);return{seed:o,m:a,d:i}}function vR(t,e){let{sig:r,recovery:n}=t,{canonical:i,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let a=s?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}async function g8(t,e,r={}){let{seed:n,m:i,d:s}=xR(t,e,r.extraEntropy),o,a=new yy;for(await a.reseed(n);!(o=gR(await a.generate(),i,s));)await a.reseed();return vR(o,r)}var DR={strict:!0};function m8(t,e,r,n=DR){let i;try{i=d8(t),e=ao(e)}catch{return!1}let{r:s,s:o}=i;if(n.strict&&i.hasHighS())return!1;let a=h8(e),u;try{u=mR(r)}catch{return!1}let{n:c}=Ke,f=uo(o,c),h=K(a*f,c),d=K(s*f,c),y=Ae.BASE.multiplyAndAddUnsafe(u,h,d);return y?K(y.x,c)===s:!1}Ae.BASE._setWindowSize(8);var $t={node:uR,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Of={},wr={bytesToHex:oo,hexToBytes:Ki,concatBytes:no,mod:K,invert:uo,isValidPrivateKey(t){try{return Uf(t),!0}catch{return!1}},_bigintTo32Bytes:py,_normalizePrivateKey:Uf,hashToPrivateKey:t=>{if(t=ao(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=K(In(t),Ke.n-Le)+Le;return py(e)},randomBytes:(t=32)=>{if($t.web)return $t.web.getRandomValues(new Uint8Array(t));if($t.node){let{randomBytes:e}=$t.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>wr.hashToPrivateKey(wr.randomBytes(40)),sha256:async(...t)=>{if($t.web){let e=await $t.web.subtle.digest("SHA-256",no(...t));return new Uint8Array(e)}else if($t.node){let{createHash:e}=$t.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if($t.web){let r=await $t.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=no(...e),i=await $t.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if($t.node){let{createHmac:r}=$t.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=Of[t];if(r===void 0){let n=await wr.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=no(n,n),Of[t]=r}return wr.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof so!="function")throw new Nf("sha256Sync is undefined, you need to set it");let r=Of[t];if(r===void 0){let n=so(Uint8Array.from(t,i=>i.charCodeAt(0)));r=no(n,n),Of[t]=r}return so(r,...e)},precompute(t=8,e=Ae.BASE){let r=e===Ae.BASE?e:new Ae(e.x,e.y);return r._setWindowSize(t),r.multiply(Oa),r}};Object.defineProperties(wr,{sha256Sync:{configurable:!1,get(){return so},set(t){so||(so=t)}},hmacSha256Sync:{configurable:!1,get(){return Na},set(t){Na||(Na=t)}}});var b8=X(St(),1);function Ff(t){if(isNaN(t)||t<=0)throw(0,b8.default)(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return wr.randomBytes(t)}var Vi={};W(Vi,{jwkToPkcs1:()=>CR,jwkToPkix:()=>_R,pkcs1ToJwk:()=>SR,pkixToJwk:()=>AR});var Y$=X(Ea(),1),Z$=X(Mp(),1),kn=X(Be(),1);var $$=X(nt(),1),j$=X(wf(),1),x8=X(Be(),1);function Er(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Bn([new Uint8Array(e-r.length),r])}return nn(r,"base64url")}function Sr(t){let e=ER(t);return new x8.default.jsbn.BigInteger(nn(e,"base16"),16)}function ER(t,e){let r=rn(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Bn([new Uint8Array(e-r.length),r])}return r}var my=X(St(),1);function SR(t){let e=kn.default.asn1.fromDer(nn(t,"ascii")),r=kn.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Er(r.n),e:Er(r.e),d:Er(r.d),p:Er(r.p),q:Er(r.q),dp:Er(r.dP),dq:Er(r.dQ),qi:Er(r.qInv),alg:"RS256"}}function CR(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw(0,my.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=kn.default.pki.privateKeyToAsn1({n:Sr(t.n),e:Sr(t.e),d:Sr(t.d),p:Sr(t.p),q:Sr(t.q),dP:Sr(t.dp),dQ:Sr(t.dq),qInv:Sr(t.qi)});return rn(kn.default.asn1.toDer(e).getBytes(),"ascii")}function AR(t){let e=kn.default.asn1.fromDer(nn(t,"ascii")),r=kn.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Er(r.n),e:Er(r.e)}}function _R(t){if(t.n==null||t.e==null)throw(0,my.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=kn.default.pki.publicKeyToAsn1({n:Sr(t.n),e:Sr(t.e)});return rn(kn.default.asn1.toDer(e).getBytes(),"ascii")}var BR=(0,v8.promisify)(zi.default.generateKeyPair);async function w8(t){let e=await BR("rsa",{modulusLength:t,publicKeyEncoding:{type:"pkcs1",format:"jwk"},privateKeyEncoding:{type:"pkcs1",format:"jwk"}});return{privateKey:e.privateKey,publicKey:e.publicKey}}async function by(t){if(t==null)throw(0,D8.default)(new Error("Missing key parameter"),"ERR_MISSING_KEY");return{privateKey:t,publicKey:{kty:t.kty,n:t.n,e:t.e}}}async function E8(t,e){return zi.default.createSign("RSA-SHA256").update(e).sign({format:"jwk",key:t})}async function S8(t,e,r){return zi.default.createVerify("RSA-SHA256").update(r).verify({format:"jwk",key:t},e)}var C8=zi.default.constants.RSA_PKCS1_PADDING;function A8(t,e){return zi.default.publicEncrypt({format:"jwk",key:t,padding:C8},e)}function _8(t,e){return zi.default.privateDecrypt({format:"jwk",key:t,padding:C8},e)}async function co(t,e){let n=await cy().encrypt(t,e);return Cf.encode(n)}var Fa=class{constructor(e){this._key=e}async verify(e,r){return await S8(this._key,r,e)}marshal(){return Vi.jwkToPkix(this._key)}get bytes(){return Wr.encode({Type:Oe.RSA,Data:this.marshal()}).subarray()}encrypt(e){return A8(this._key,e)}equals(e){return Tn(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ht.digest(this.bytes);return e}},fo=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Ff(16)}async sign(e){return await E8(this._key,e)}get public(){if(this._publicKey==null)throw(0,xy.default)(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Fa(this._publicKey)}decrypt(e){return _8(this._key,e)}marshal(){return Vi.jwkToPkcs1(this._key)}get bytes(){return Xr.encode({Type:Oe.RSA,Data:this.marshal()}).subarray()}equals(e){return Tn(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ht.digest(this.bytes);return e}async id(){let e=await this.public.hash();return nn(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Ua.default.util.ByteBuffer(this.marshal()),i=Ua.default.asn1.fromDer(n),s=Ua.default.pki.privateKeyFromAsn1(i),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Ua.default.pki.encryptRsaPrivateKey(s,e,o)}else{if(r==="libp2p-key")return await co(this.bytes,e);throw(0,xy.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function IR(t){let e=Vi.pkcs1ToJwk(t),r=await by(e);return new fo(r.privateKey,r.publicKey)}function kR(t){let e=Vi.pkixToJwk(t);return new Fa(e)}async function OR(t){let e=await by(t);return new fo(e.privateKey,e.publicKey)}async function NR(t){let e=await w8(t);return new fo(e.privateKey,e.publicKey)}var Iy={};W(Iy,{Ed25519PrivateKey:()=>$i,Ed25519PublicKey:()=>Ka,generateKeyPair:()=>QR,generateKeyPairFromSeed:()=>K8,unmarshalEd25519PrivateKey:()=>YR,unmarshalEd25519PublicKey:()=>ZR});var Ty=X(St(),1);var RR=X(Re("crypto"),1);var yt=BigInt(0),xe=BigInt(1),lo=BigInt(2),B8=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ve=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:B8,n:B8,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var O8=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),La=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),fj=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),UR=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),FR=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),LR=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),PR=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),be=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof ze))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ze.ZERO)?be.ZERO:new be(e.x,e.y,xe,N(e.x*e.y))}static toAffineBatch(e){let r=KR(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){T8(e);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=e,u=N(r*a),c=N(s*i),f=N(n*a),h=N(o*i);return u===c&&f===h}negate(){return new be(N(-this.x),this.y,this.z,N(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Ve,s=N(e*e),o=N(r*r),a=N(lo*N(n*n)),u=N(i*s),c=e+r,f=N(N(c*c)-s-o),h=u+o,d=h-a,y=u-o,l=N(f*d),p=N(h*y),g=N(f*y),m=N(d*h);return new be(l,p,m,g)}add(e){T8(e);let{x:r,y:n,z:i,t:s}=this,{x:o,y:a,z:u,t:c}=e,f=N((n-r)*(a+o)),h=N((n+r)*(a-o)),d=N(h-f);if(d===yt)return this.double();let y=N(i*lo*c),l=N(s*lo*u),p=l+y,g=h+f,m=l-y,b=N(p*d),v=N(g*m),x=N(p*m),D=N(d*g);return new be(b,v,D,x)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(be.BASE)&&(r=ze.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Cy.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=be.normalizeZ(i),Cy.set(r,i)));let s=be.ZERO,o=be.ZERO,a=1+256/n,u=2**(n-1),c=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let d=0;d<a;d++){let y=d*u,l=Number(e&c);if(e>>=h,l>u&&(l-=f,e+=xe),l===0){let p=i[y];d%2&&(p=p.negate()),o=o.add(p)}else{let p=i[y+Math.abs(l)-1];l<0&&(p=p.negate()),s=s.add(p)}}return be.normalizeZ([s,o])[0]}multiply(e,r){return this.wNAF(Pf(e,Ve.l),r)}multiplyUnsafe(e){let r=Pf(e,Ve.l,!1),n=be.BASE,i=be.ZERO;if(r===yt)return i;if(this.equals(i)||r===xe)return this;if(this.equals(n))return this.wNAF(r);let s=i,o=this;for(;r>yt;)r&xe&&(s=s.add(o)),o=o.double(),r>>=xe;return s}isSmallOrder(){return this.multiplyUnsafe(Ve.h).equals(be.ZERO)}isTorsionFree(){return this.multiplyUnsafe(Ve.l).equals(be.ZERO)}toAffine(e=Mf(this.z)){let{x:r,y:n,z:i}=this,s=N(r*e),o=N(n*e);if(N(i*e)!==xe)throw new Error("invZ was invalid");return new ze(s,o)}fromRistrettoBytes(){wy()}toRistrettoBytes(){wy()}fromRistrettoHash(){wy()}};be.BASE=new be(Ve.Gx,Ve.Gy,xe,N(Ve.Gx*Ve.Gy));be.ZERO=new be(yt,xe,xe,yt);function T8(t){if(!(t instanceof be))throw new TypeError("ExtendedPoint expected")}function Dy(t){if(!(t instanceof Ut))throw new TypeError("RistrettoPoint expected")}function wy(){throw new Error("Legacy method: switch to RistrettoPoint")}var Ut=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Ve,n=N(La*e*e),i=N((n+xe)*LR),s=BigInt(-1),o=N((s-r*n)*N(n+r)),{isValid:a,value:u}=_y(i,o),c=N(u*e);si(c)||(c=N(-c)),a||(u=c),a||(s=n);let f=N(s*(n-xe)*PR-o),h=u*u,d=N((u+u)*o),y=N(f*UR),l=N(xe-h),p=N(xe+h);return new be(N(d*p),N(l*y),N(y*p),N(d*l))}static hashToCurve(e){e=oi(e,64);let r=Ey(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Ey(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new Ut(n.add(s))}static fromHex(e){e=oi(e,32);let{a:r,d:n}=Ve,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=Ey(e);if(!zR(Pa(s),e)||si(s))throw new Error(i);let o=N(s*s),a=N(xe+r*o),u=N(xe-r*o),c=N(a*a),f=N(u*u),h=N(r*n*c-f),{isValid:d,value:y}=k8(N(h*f)),l=N(y*u),p=N(y*l*h),g=N((s+s)*l);si(g)&&(g=N(-g));let m=N(a*p),b=N(g*m);if(!d||si(b)||m===yt)throw new Error(i);return new Ut(new be(g,m,xe,b))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=N(N(n+r)*N(n-r)),o=N(e*r),a=N(o*o),{value:u}=k8(N(s*a)),c=N(u*s),f=N(u*o),h=N(c*f*i),d;if(si(i*h)){let l=N(r*La),p=N(e*La);e=l,r=p,d=N(c*FR)}else d=f;si(e*h)&&(r=N(-r));let y=N((n-r)*d);return si(y)&&(y=N(-y)),Pa(y)}toHex(){return Ma(this.toRawBytes())}toString(){return this.toHex()}equals(e){Dy(e);let r=this.ep,n=e.ep,i=N(r.x*n.y)===N(r.y*n.x),s=N(r.y*n.y)===N(r.x*n.x);return i||s}add(e){return Dy(e),new Ut(this.ep.add(e.ep))}subtract(e){return Dy(e),new Ut(this.ep.subtract(e.ep))}multiply(e){return new Ut(this.ep.multiply(e))}multiplyUnsafe(e){return new Ut(this.ep.multiplyUnsafe(e))}};Ut.BASE=new Ut(be.BASE);Ut.ZERO=new Ut(be.ZERO);var Cy=new WeakMap,ze=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Cy.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Ve;e=oi(e,32);let s=e.slice();s[31]=e[31]&-129;let o=qa(s);if(r&&o>=i)throw new Error("Expected 0 < hex < P");if(!r&&o>=O8)throw new Error("Expected 0 < hex < 2**256");let a=N(o*o),u=N(a-xe),c=N(n*a+xe),{isValid:f,value:h}=_y(u,c);if(!f)throw new Error("Point.fromHex: invalid y coordinate");let d=(h&xe)===xe;return(e[31]&128)!==0!==d&&(h=N(-h)),new ze(h,o)}static async fromPrivateKey(e){return(await qf(e)).point}toRawBytes(){let e=Pa(this.y);return e[31]|=this.x&xe?128:0,e}toHex(){return Ma(this.toRawBytes())}toX25519(){let{y:e}=this,r=N((xe+e)*Mf(xe-e));return Pa(r)}isTorsionFree(){return be.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ze(N(-this.x),this.y)}add(e){return be.fromAffine(this).add(be.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return be.fromAffine(this).multiply(e,this).toAffine()}};ze.BASE=new ze(Ve.Gx,Ve.Gy);ze.ZERO=new ze(yt,xe);var Hi=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=oi(e,64),n=ze.fromHex(r.slice(0,32),!1),i=qa(r.slice(32,64));return new Hi(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof ze))throw new Error("Expected Point instance");return Pf(r,Ve.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Pa(this.s),32),e}toHex(){return Ma(this.toRawBytes())}};function I8(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var MR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ma(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=MR[t[r]];return e}function Ay(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function N8(t){let r=t.toString(16).padStart(64,"0");return Ay(r)}function Pa(t){return N8(t).reverse()}function si(t){return(N(t)&xe)===xe}function qa(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Ma(Uint8Array.from(t).reverse()))}var qR=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ey(t){return N(qa(t)&qR)}function N(t,e=Ve.P){let r=t%e;return r>=yt?r:e+r}function Mf(t,e=Ve.P){if(t===yt||e<=yt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=N(t,e),n=e,i=yt,s=xe,o=xe,a=yt;for(;r!==yt;){let c=n/r,f=n%r,h=i-o*c,d=s-a*c;n=r,r=f,i=o,s=a,o=h,a=d}if(n!==xe)throw new Error("invert: does not exist");return N(i,e)}function KR(t,e=Ve.P){let r=new Array(t.length),n=t.reduce((s,o,a)=>o===yt?s:(r[a]=s,N(s*o,e)),xe),i=Mf(n,e);return t.reduceRight((s,o,a)=>o===yt?s:(r[a]=N(s*r[a],e),N(s*o,e)),i),r}function on(t,e){let{P:r}=Ve,n=t;for(;e-- >yt;)n*=n,n%=r;return n}function VR(t){let{P:e}=Ve,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),u=t*t%e*t%e,c=on(u,lo)*u%e,f=on(c,xe)*t%e,h=on(f,r)*f%e,d=on(h,n)*h%e,y=on(d,i)*d%e,l=on(y,s)*y%e,p=on(l,o)*l%e,g=on(p,o)*l%e,m=on(g,n)*h%e;return{pow_p_5_8:on(m,lo)*t%e,b2:u}}function _y(t,e){let r=N(e*e*e),n=N(r*r*e),i=VR(t*n).pow_p_5_8,s=N(t*r*i),o=N(e*s*s),a=s,u=N(s*La),c=o===t,f=o===N(-t),h=o===N(-t*La);return c&&(s=a),(f||h)&&(s=u),si(s)&&(s=N(-s)),{isValid:c||f,value:s}}function k8(t){return _y(xe,t)}function Lf(t){return N(qa(t),Ve.l)}function zR(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function oi(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Ay(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Pf(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(yt<t)return t}else if(yt<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function HR(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function $R(t){if(t=typeof t=="bigint"||typeof t=="number"?N8(Pf(t,O8)):oi(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function jR(t){let e=HR(t.slice(0,32)),r=t.slice(32,64),n=Lf(e),i=ze.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}var Sy;async function qf(t){return jR(await ai.sha512($R(t)))}async function By(t){return(await qf(t)).pointBytes}async function R8(t,e){t=oi(t);let{prefix:r,scalar:n,pointBytes:i}=await qf(e),s=Lf(await ai.sha512(r,t)),o=ze.BASE.multiply(s),a=Lf(await ai.sha512(o.toRawBytes(),i,t)),u=N(s+a*n,Ve.l);return new Hi(o,u).toRawBytes()}function GR(t,e,r){e=oi(e),r instanceof ze||(r=ze.fromHex(r,!1));let{r:n,s:i}=t instanceof Hi?t.assertValidity():Hi.fromHex(t),s=be.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}function WR(t,e,r,n){let i=Lf(n),s=be.fromAffine(t).multiplyUnsafe(i);return be.fromAffine(e).add(s).subtract(r).multiplyUnsafe(Ve.h).equals(be.ZERO)}async function U8(t,e,r){let{r:n,SB:i,msg:s,pub:o}=GR(t,e,r),a=await ai.sha512(n.toRawBytes(),o.toRawBytes(),s);return WR(o,n,i,a)}ze.BASE._setWindowSize(8);var ii={node:RR,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ai={bytesToHex:Ma,hexToBytes:Ay,concatBytes:I8,getExtendedPublicKey:qf,mod:N,invert:Mf,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=oi(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return N(qa(t),Ve.l-xe)+xe},randomBytes:(t=32)=>{if(ii.web)return ii.web.getRandomValues(new Uint8Array(t));if(ii.node){let{randomBytes:e}=ii.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ai.randomBytes(32),sha512:async(...t)=>{let e=I8(...t);if(ii.web){let r=await ii.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(ii.node)return Uint8Array.from(ii.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=ze.BASE){let r=e.equals(ze.BASE)?e:new ze(e.x,e.y);return r._setWindowSize(t),r.multiply(lo),r},sha512Sync:void 0};Object.defineProperties(ai,{sha512Sync:{configurable:!1,get(){return Sy},set(t){Sy||(Sy=t)}}});var ho=32,On=64,Kf=32;async function F8(){let t=ai.randomPrivateKey(),e=await By(t);return{privateKey:q8(t,e),publicKey:e}}async function L8(t){if(t.length!==Kf)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await By(e);return{privateKey:q8(e,r),publicKey:r}}async function P8(t,e){let r=t.slice(0,Kf);return await R8(e,r)}async function M8(t,e,r){return await U8(e,r,t)}function q8(t,e){let r=new Uint8Array(On);for(let n=0;n<Kf;n++)r[n]=t[n],r[Kf+n]=e[n];return r}var Ka=class{constructor(e){this._key=po(e,ho)}async verify(e,r){return await M8(this._key,r,e)}marshal(){return this._key}get bytes(){return Wr.encode({Type:Oe.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Tn(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ht.digest(this.bytes);return e}},$i=class{constructor(e,r){this._key=po(e,On),this._publicKey=po(r,ho)}async sign(e){return await P8(this._key,e)}get public(){return new Ka(this._publicKey)}marshal(){return this._key}get bytes(){return Xr.encode({Type:Oe.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Tn(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ht.digest(this.bytes);return e}async id(){let e=await sy.digest(this.public.bytes);return ir.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await co(this.bytes,e);throw(0,Ty.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function YR(t){if(t.length>On){t=po(t,On+ho);let n=t.slice(0,On),i=t.slice(On,t.length);return new $i(n,i)}t=po(t,On);let e=t.slice(0,On),r=t.slice(ho);return new $i(e,r)}function ZR(t){return t=po(t,ho),new Ka(t)}async function QR(){let{privateKey:t,publicKey:e}=await F8();return new $i(t,e)}async function K8(t){let{privateKey:e,publicKey:r}=await L8(t);return new $i(e,r)}function po(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw(0,Ty.default)(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}var Oy={};W(Oy,{Secp256k1PrivateKey:()=>za,Secp256k1PublicKey:()=>Va,generateKeyPair:()=>nU,unmarshalSecp256k1PrivateKey:()=>tU,unmarshalSecp256k1PublicKey:()=>rU});var W8=X(St(),1);var yo=X(St(),1);function V8(){return wr.randomPrivateKey()}async function z8(t,e){let{digest:r}=await Ht.digest(e);try{return await g8(r,t)}catch(n){throw(0,yo.default)(n,"ERR_INVALID_INPUT")}}async function H8(t,e,r){try{let{digest:n}=await Ht.digest(r);return m8(e,n,t)}catch(n){throw(0,yo.default)(n,"ERR_INVALID_INPUT")}}function $8(t){return Ae.fromHex(t).toRawBytes(!0)}function j8(t){try{gy(t,!0)}catch(e){throw(0,yo.default)(e,"ERR_INVALID_PRIVATE_KEY")}}function ky(t){try{Ae.fromHex(t)}catch(e){throw(0,yo.default)(e,"ERR_INVALID_PUBLIC_KEY")}}function G8(t){try{return gy(t,!0)}catch(e){throw(0,yo.default)(e,"ERR_INVALID_PRIVATE_KEY")}}var Va=class{constructor(e){ky(e),this._key=e}async verify(e,r){return await H8(this._key,r,e)}marshal(){return $8(this._key)}get bytes(){return Wr.encode({Type:Oe.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Tn(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ht.digest(this.bytes);return e}},za=class{constructor(e,r){this._key=e,this._publicKey=r??G8(e),j8(this._key),ky(this._publicKey)}async sign(e){return await z8(this._key,e)}get public(){return new Va(this._publicKey)}marshal(){return this._key}get bytes(){return Xr.encode({Type:Oe.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Tn(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ht.digest(this.bytes);return e}async id(){let e=await this.public.hash();return nn(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await co(this.bytes,e);throw(0,W8.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function tU(t){return new za(t)}function rU(t){return new Va(t)}async function nU(){let t=await V8();return new za(t)}var ji={rsa:vy,ed25519:Iy,secp256k1:Oy};function J8(t){let e=Object.keys(ji).join(" / ");return(0,X8.default)(new Error(`invalid or unsupported key type ${t}. Must be ${e}`),"ERR_UNSUPPORTED_KEY_TYPE")}function Y8(t){let e=Wr.decode(t),r=e.Data;switch(e.Type){case Oe.RSA:return ji.rsa.unmarshalRsaPublicKey(r);case Oe.Ed25519:return ji.ed25519.unmarshalEd25519PublicKey(r);case Oe.Secp256k1:return ji.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw J8(e.Type)}}async function Z8(t){let e=Xr.decode(t),r=e.Data;switch(e.Type){case Oe.RSA:return await ji.rsa.unmarshalRsaPrivateKey(r);case Oe.Ed25519:return ji.ed25519.unmarshalEd25519PrivateKey(r);case Oe.Secp256k1:return ji.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw J8(e.Type)}}var Ly={};W(Ly,{identity:()=>fU});function sU(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,b=l.length;m!==b&&l[m]===0;)m++,p++;for(var v=(b-m)*f+1>>>0,x=new Uint8Array(v);m!==b;){for(var D=l[m],w=0,C=v-1;(D!==0||w<g)&&C!==-1;C--,w++)D+=256*x[C]>>>0,x[C]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");g=w,m++}for(var _=v-g;_!==v&&x[_]===0;)_++;for(var F=u.repeat(p);_<v;++_)F+=t.charAt(x[_]);return F}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var g=0,m=0;l[p]===u;)g++,p++;for(var b=(l.length-p)*c+1>>>0,v=new Uint8Array(b);l[p];){var x=r[l.charCodeAt(p)];if(x===255)return;for(var D=0,w=b-1;(x!==0||D<m)&&w!==-1;w--,D++)x+=a*v[w]>>>0,v[w]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=D,p++}if(l[p]!==" "){for(var C=b-m;C!==b&&v[C]===0;)C++;for(var _=new Uint8Array(g+(b-C)),F=g;C!==b;)_[F++]=v[C++];return _}}}function y(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:y}}var oU=sU,aU=oU,Q8=aU;var Oj=new Uint8Array(0);var ew=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},or=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var tw=t=>new TextEncoder().encode(t),rw=t=>new TextDecoder().decode(t);var Ny=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ry=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return iw(this,e)}},Uy=class{constructor(e){this.decoders=e}or(e){return iw(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},iw=(t,e)=>new Uy({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Fy=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Ny(e,r,n),this.decoder=new Ry(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},go=({name:t,prefix:e,encode:r,decode:n})=>new Fy(t,e,r,n),ui=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Q8(r,e);return go({prefix:t,name:e,encode:n,decode:s=>or(i(s))})},uU=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},cU=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Je=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>go({prefix:e,name:t,encode(i){return cU(i,n,r)},decode(i){return uU(i,n,r,t)}});var fU=go({prefix:"\0",name:"identity",encode:t=>rw(t),decode:t=>tw(t)});var Py={};W(Py,{base2:()=>lU});var lU=Je({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var My={};W(My,{base8:()=>hU});var hU=Je({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var qy={};W(qy,{base10:()=>dU});var dU=ui({prefix:"9",name:"base10",alphabet:"0123456789"});var Ky={};W(Ky,{base16:()=>pU,base16upper:()=>yU});var pU=Je({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yU=Je({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Vy={};W(Vy,{base32:()=>mo,base32hex:()=>xU,base32hexpad:()=>DU,base32hexpadupper:()=>wU,base32hexupper:()=>vU,base32pad:()=>mU,base32padupper:()=>bU,base32upper:()=>gU,base32z:()=>EU});var mo=Je({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gU=Je({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mU=Je({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bU=Je({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xU=Je({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vU=Je({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),DU=Je({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wU=Je({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),EU=Je({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var zy={};W(zy,{base36:()=>SU,base36upper:()=>CU});var SU=ui({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),CU=ui({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Hy={};W(Hy,{base58btc:()=>an,base58flickr:()=>AU});var an=ui({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),AU=ui({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var $y={};W($y,{base64:()=>_U,base64pad:()=>BU,base64url:()=>TU,base64urlpad:()=>IU});var _U=Je({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),BU=Je({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),TU=Je({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),IU=Je({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var jy={};W(jy,{base256emoji:()=>UU});var sw=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),kU=sw.reduce((t,e,r)=>(t[r]=e,t),[]),OU=sw.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function NU(t){return t.reduce((e,r)=>(e+=kU[r],e),"")}function RU(t){let e=[];for(let r of t){let n=OU[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var UU=go({prefix:"\u{1F680}",name:"base256emoji",encode:NU,decode:RU});var Yy={};W(Yy,{sha256:()=>eF,sha512:()=>tF});var Jy=X(Re("crypto"),1);var FU=uw,ow=128,LU=127,PU=~LU,MU=Math.pow(2,31);function uw(t,e,r){e=e||[],r=r||0;for(var n=r;t>=MU;)e[r++]=t&255|ow,t/=128;for(;t&PU;)e[r++]=t&255|ow,t>>>=7;return e[r]=t|0,uw.bytes=r-n+1,e}var qU=Gy,KU=128,aw=127;function Gy(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Gy.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&aw)<<i:(o&aw)*Math.pow(2,i),i+=7}while(o>=KU);return Gy.bytes=s-n,r}var VU=Math.pow(2,7),zU=Math.pow(2,14),HU=Math.pow(2,21),$U=Math.pow(2,28),jU=Math.pow(2,35),GU=Math.pow(2,42),WU=Math.pow(2,49),XU=Math.pow(2,56),JU=Math.pow(2,63),YU=function(t){return t<VU?1:t<zU?2:t<HU?3:t<$U?4:t<jU?5:t<GU?6:t<WU?7:t<XU?8:t<JU?9:10},ZU={encode:FU,decode:qU,encodingLength:YU},QU=ZU,Ha=QU;var $a=(t,e=0)=>[Ha.decode(t,e),Ha.decode.bytes],bo=(t,e,r=0)=>(Ha.encode(t,e,r),e),xo=t=>Ha.encodingLength(t);var Gi=(t,e)=>{let r=e.byteLength,n=xo(t),i=n+xo(r),s=new Uint8Array(i+r);return bo(t,s,0),bo(r,s,n),s.set(e,i),new vo(t,r,e,s)},cw=t=>{let e=or(t),[r,n]=$a(e),[i,s]=$a(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new vo(r,i,o,e)},fw=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&ew(t.bytes,e.bytes),vo=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Xy=({name:t,code:e,encode:r})=>new Wy(t,e,r),Wy=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Gi(this.code,r):r.then(n=>Gi(this.code,n))}else throw Error("Unknown type, must be binary type")}};var eF=Xy({name:"sha2-256",code:18,encode:t=>or(Jy.default.createHash("sha256").update(t).digest())}),tF=Xy({name:"sha2-512",code:19,encode:t=>or(Jy.default.createHash("sha512").update(t).digest())});var Zy={};W(Zy,{identity:()=>iF});var hw=0,rF="identity",dw=or,nF=t=>Gi(hw,dw(t)),iF={code:hw,name:rF,encode:dw,digest:nF};var eG=new TextEncoder,tG=new TextDecoder;var at=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Hf,byteLength:Hf,code:zf,version:zf,multihash:zf,bytes:zf,_baseCache:Hf,asCID:Hf})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Ga)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==fF)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return at.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Gi(e,r);return at.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&fw(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return uF(r,i,e||an.encoder);default:return cF(r,i,e||mo.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return hF(/^0\.0/,dF),!!(e&&(e[yw]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof at)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new at(r,n,i,s||pw(r,n,i.bytes))}else if(e!=null&&e[yw]===!0){let{version:r,multihash:n,code:i}=e,s=cw(n);return at.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Ga)throw new Error(`Version 0 CID must use dag-pb (code: ${Ga}) block encoding`);return new at(e,r,n,n.bytes)}case 1:{let i=pw(e,r,n.bytes);return new at(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return at.create(0,Ga,e)}static createV1(e,r){return at.create(1,e,r)}static decode(e){let[r,n]=at.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=at.inspectBytes(e),n=r.size-r.multihashSize,i=or(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new vo(r.multihashCode,r.digestSize,s,i);return[r.version===0?at.createV0(o):at.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,d]=$a(e.subarray(r));return r+=d,h},i=n(),s=Ga;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),c=r+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=aF(e,r),s=at.decode(i);return s._baseCache.set(n,e),s}},aF=(t,e)=>{switch(t[0]){case"Q":{let r=e||an;return[an.prefix,r.decode(`${an.prefix}${t}`)]}case an.prefix:{let r=e||an;return[an.prefix,r.decode(t)]}case mo.prefix:{let r=e||mo;return[mo.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},uF=(t,e,r)=>{let{prefix:n}=r;if(n!==an.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},cF=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Ga=112,fF=18,pw=(t,e,r)=>{let n=xo(t),i=n+xo(e),s=new Uint8Array(i+r.byteLength);return bo(t,s,0),bo(e,s,n),s.set(r,i),s},yw=Symbol.for("@ipld/js-cid/CID"),zf={writable:!1,configurable:!1,enumerable:!0},Hf={writable:!1,enumerable:!1,configurable:!1},lF="0.0.0-dev",hF=(t,e)=>{if(t.test(lF))console.warn(e);else throw new Error(e)},dF=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Qy={...Ly,...Py,...My,...qy,...Ky,...Vy,...zy,...Hy,...$y,...jy},cG={...Yy,...Zy};function mw(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var gw=mw("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),e2=mw("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=oa(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),pF={utf8:gw,"utf-8":gw,hex:Qy.base16,latin1:e2,ascii:e2,binary:e2,...Qy},$f=pF;function Wa(t,e="utf8"){let r=$f[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ei(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var jf;(function(t){let e;t.codec=()=>(e==null&&(e=Oi((r,n,i={})=>{if(i.lengthDelimited!==!1&&n.fork(),r.webtransportCerthashes!=null)for(let s of r.webtransportCerthashes)n.uint32(10),n.bytes(s);else throw new Error('Protocol error: required field "webtransportCerthashes" was not found in object');i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={webtransportCerthashes:[]},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.webtransportCerthashes.push(r.bytes());break;default:r.skipType(o&7);break}}return i})),e),t.encode=r=>ki(r,t.codec()),t.decode=r=>Ii(r,t.codec())})(jf||(jf={}));var Xa;(function(t){let e;t.codec=()=>(e==null&&(e=Oi((r,n,i={})=>{if(i.lengthDelimited!==!1&&n.fork(),r.identityKey!=null)n.uint32(10),n.bytes(r.identityKey);else throw new Error('Protocol error: required field "identityKey" was not found in object');if(r.identitySig!=null)n.uint32(18),n.bytes(r.identitySig);else throw new Error('Protocol error: required field "identitySig" was not found in object');r.extensions!=null&&(n.uint32(34),jf.codec().encode(r.extensions,n)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={identityKey:new Uint8Array(0),identitySig:new Uint8Array(0)},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.identityKey=r.bytes();break;case 2:i.identitySig=r.bytes();break;case 4:i.extensions=jf.codec().decode(r,r.uint32());break;default:r.skipType(o&7);break}}if(i.identityKey==null)throw new Error('Protocol error: value for required field "identityKey" was not found in protobuf');if(i.identitySig==null)throw new Error('Protocol error: value for required field "identitySig" was not found in protobuf');return i})),e),t.encode=r=>ki(r,t.codec()),t.decode=r=>Ii(r,t.codec())})(Xa||(Xa={}));async function bw(t,e,r){let n=await gF(t,xw(e));if(t.publicKey==null)throw new Error("PublicKey was missing from local PeerId");return yF(t.publicKey,n,r)}function yF(t,e,r){return Xa.encode({identityKey:t,identitySig:e,extensions:r??{webtransportCerthashes:[]}}).subarray()}async function gF(t,e){if(t.privateKey==null)throw new Error("PrivateKey was missing from PeerId");return await(await Z8(t.privateKey)).sign(e)}async function t2(t){return await Dh(t.identityKey)}function r2(t){return Xa.decode(t)}function xw(t){let e=Wa("noise-libp2p-static-key:");return vn([e,t],e.length+t.length)}async function n2(t,e,r){let n=await Dh(e.identityKey);if(!n.equals(r))throw new Error("Peer ID doesn't match libp2p public key.");let i=xw(t);if(n.publicKey==null)throw new Error("PublicKey was missing from PeerId");if(e.identitySig==null)throw new Error("Signature was missing from message");if(!await Y8(n.publicKey).verify(i,e.identitySig))throw new Error("Static key doesn't match to peer that signed payload!");return n}function Ja(t){return!(!(t instanceof Uint8Array)||t.length!==32)}function i2(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function un(t,e="utf8"){let r=$f[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var gt=_r("libp2p:noise");var ar;cx?ar=gt:ar=Object.assign(()=>{},{enabled:!1,trace:()=>{},error:()=>{}});function vw(t){ar(`LOCAL_STATIC_PUBLIC_KEY ${un(t.publicKey,"hex")}`),ar(`LOCAL_STATIC_PRIVATE_KEY ${un(t.privateKey,"hex")}`)}function s2(t){t?(ar(`LOCAL_PUBLIC_EPHEMERAL_KEY ${un(t.publicKey,"hex")}`),ar(`LOCAL_PRIVATE_EPHEMERAL_KEY ${un(t.privateKey,"hex")}`)):ar("Missing local ephemeral keys.")}function Dw(t){ar(`REMOTE_STATIC_PUBLIC_KEY ${un(t,"hex")}`)}function o2(t){ar(`REMOTE_EPHEMERAL_PUBLIC_KEY ${un(t,"hex")}`)}function ww(t){t.cs1&&t.cs2?(ar(`CIPHER_STATE_1 ${t.cs1.n.getUint64()} ${un(t.cs1.k,"hex")}`),ar(`CIPHER_STATE_2 ${t.cs2.n.getUint64()} ${un(t.cs2.k,"hex")}`)):ar("Missing cipher state.")}var mF="Cipherstate has reached maximum n, a new handshake must be performed",Gf=class{constructor(e=0){this.n=e,this.bytes=new Uint8Array(12),this.view=new DataView(this.bytes.buffer,this.bytes.byteOffset,this.bytes.byteLength),this.view.setUint32(4,e,!0)}increment(){this.n++,this.view.setUint32(4,this.n,!0)}getBytes(){return this.bytes}getUint64(){return this.n}assertValue(){if(this.n>4294967295)throw new Error(mF)}};var Wf=class{constructor(e){this.crypto=e}encryptWithAd(e,r,n){let i=this.encrypt(e.k,e.n,r,n);return e.n.increment(),i}decryptWithAd(e,r,n){let{plaintext:i,valid:s}=this.decrypt(e.k,e.n,r,n);return s&&e.n.increment(),{plaintext:i,valid:s}}hasKey(e){return!this.isEmptyKey(e.k)}createEmptyKey(){return new Uint8Array(32)}isEmptyKey(e){let r=this.createEmptyKey();return i2(r,e)}encrypt(e,r,n,i){return r.assertValue(),this.crypto.chaCha20Poly1305Encrypt(i,r.getBytes(),n,e)}encryptAndHash(e,r){let n;return this.hasKey(e.cs)?n=this.encryptWithAd(e.cs,e.h,r):n=r,this.mixHash(e,n),n}decrypt(e,r,n,i){r.assertValue();let s=this.crypto.chaCha20Poly1305Decrypt(i,r.getBytes(),n,e);return s?{plaintext:s,valid:!0}:{plaintext:new Uint8Array(0),valid:!1}}decryptAndHash(e,r){let n,i=!0;return this.hasKey(e.cs)?{plaintext:n,valid:i}=this.decryptWithAd(e.cs,e.h,r):n=r,this.mixHash(e,r),{plaintext:n,valid:i}}dh(e,r){try{let n=this.crypto.generateX25519SharedKey(e,r);return n.length===32?n:n.subarray(0,32)}catch(n){return gt(n.message),new Uint8Array(32)}}mixHash(e,r){e.h=this.getHash(e.h,r)}getHash(e,r){return this.crypto.hashSHA256(vn([e,r],e.length+r.length))}mixKey(e,r){let[n,i]=this.crypto.getHKDF(e.ck,r);e.cs=this.initializeKey(i),e.ck=n}initializeKey(e){return{k:e,n:new Gf}}initializeSymmetric(e){let r=Wa(e,"utf-8"),n=this.hashProtocolName(r),i=n,s=this.createEmptyKey();return{cs:this.initializeKey(s),ck:i,h:n}}hashProtocolName(e){if(e.length<=32){let r=new Uint8Array(32);return r.set(e),r}else return this.getHash(e,new Uint8Array(0))}split(e){let[r,n]=this.crypto.getHKDF(e.ck,new Uint8Array(0)),i=this.initializeKey(r),s=this.initializeKey(n);return{cs1:i,cs2:s}}writeMessageRegular(e,r){let n=this.encryptWithAd(e,new Uint8Array(0),r),i=this.createEmptyKey(),s=new Uint8Array(0);return{ne:i,ns:s,ciphertext:n}}readMessageRegular(e,r){return this.decryptWithAd(e,new Uint8Array(0),r.ciphertext)}};var Xf=class extends Wf{initializeInitiator(e,r,n,i){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e);let a=new Uint8Array(32);return{ss:o,s:r,rs:n,psk:i,re:a}}initializeResponder(e,r,n,i){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e);let a=new Uint8Array(32);return{ss:o,s:r,rs:n,psk:i,re:a}}writeMessageA(e,r,n){let i=new Uint8Array(0);n!==void 0?e.e=n:e.e=this.crypto.generateX25519KeyPair();let s=e.e.publicKey;this.mixHash(e.ss,s);let o=this.encryptAndHash(e.ss,r);return{ne:s,ns:i,ciphertext:o}}writeMessageB(e,r){e.e=this.crypto.generateX25519KeyPair();let n=e.e.publicKey;this.mixHash(e.ss,n),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));let i=e.s.publicKey,s=this.encryptAndHash(e.ss,i);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let o=this.encryptAndHash(e.ss,r);return{ne:n,ns:s,ciphertext:o}}writeMessageC(e,r){let n=e.s.publicKey,i=this.encryptAndHash(e.ss,n);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let s=this.encryptAndHash(e.ss,r),a={ne:this.createEmptyKey(),ns:i,ciphertext:s},{cs1:u,cs2:c}=this.split(e.ss);return{h:e.ss.h,messageBuffer:a,cs1:u,cs2:c}}readMessageA(e,r){return Ja(r.ne)&&(e.re=r.ne),this.mixHash(e.ss,e.re),this.decryptAndHash(e.ss,r.ciphertext)}readMessageB(e,r){if(Ja(r.ne)&&(e.re=r.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));let{plaintext:n,valid:i}=this.decryptAndHash(e.ss,r.ns);i&&Ja(n)&&(e.rs=n),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,r.ciphertext);return{plaintext:s,valid:i&&o}}readMessageC(e,r){let{plaintext:n,valid:i}=this.decryptAndHash(e.ss,r.ns);if(i&&Ja(n)&&(e.rs=n),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,r.ciphertext),{cs1:a,cs2:u}=this.split(e.ss);return{h:e.ss.h,plaintext:s,valid:i&&o,cs1:a,cs2:u}}initSession(e,r,n){let i=this.createEmptyKey(),s=new Uint8Array(32),o;return e?o=this.initializeInitiator(r,n,s,i):o=this.initializeResponder(r,n,s,i),{hs:o,i:e,mc:0}}sendMessage(e,r,n){let i;if(e.mc===0)i=this.writeMessageA(e.hs,r,n);else if(e.mc===1)i=this.writeMessageB(e.hs,r);else if(e.mc===2){let{h:s,messageBuffer:o,cs1:a,cs2:u}=this.writeMessageC(e.hs,r);i=o,e.h=s,e.cs1=a,e.cs2=u}else if(e.mc>2)if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");i=this.writeMessageRegular(e.cs1,r)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");i=this.writeMessageRegular(e.cs2,r)}else throw new Error("Session invalid.");return e.mc++,i}recvMessage(e,r){let n=new Uint8Array(0),i=!1;if(e.mc===0)({plaintext:n,valid:i}=this.readMessageA(e.hs,r));else if(e.mc===1)({plaintext:n,valid:i}=this.readMessageB(e.hs,r));else if(e.mc===2){let{h:s,plaintext:o,valid:a,cs1:u,cs2:c}=this.readMessageC(e.hs,r);n=o,i=a,e.h=s,e.cs1=u,e.cs2=c}return e.mc++,{plaintext:n,valid:i}}};var Jf=class{constructor(e,r,n,i,s,o,a,u){this.remoteExtensions={webtransportCerthashes:[]},this.isInitiator=e,this.payload=r,this.prologue=n,this.staticKeypair=s,this.connection=o,a&&(this.remotePeer=a),this.xx=u??new Xf(i),this.session=this.xx.initSession(this.isInitiator,this.prologue,this.staticKeypair)}async propose(){if(vw(this.session.hs.s),this.isInitiator){gt("Stage 0 - Initiator starting to send first message.");let e=this.xx.sendMessage(this.session,new Uint8Array(0));this.connection.writeLP(dx(e)),gt("Stage 0 - Initiator finished sending first message."),s2(this.session.hs.e)}else{gt("Stage 0 - Responder waiting to receive first message...");let e=gx((await this.connection.readLP()).subarray()),{valid:r}=this.xx.recvMessage(this.session,e);if(!r)throw new Dn("xx handshake stage 0 validation fail");gt("Stage 0 - Responder received first message."),o2(this.session.hs.re)}}async exchange(){if(this.isInitiator){gt("Stage 1 - Initiator waiting to receive first message from responder...");let e=mx((await this.connection.readLP()).subarray()),{plaintext:r,valid:n}=this.xx.recvMessage(this.session,e);if(!n)throw new Dn("xx handshake stage 1 validation fail");gt("Stage 1 - Initiator received the message."),o2(this.session.hs.re),Dw(this.session.hs.rs),gt("Initiator going to check remote's signature...");try{let i=r2(r);this.remotePeer=this.remotePeer||await t2(i),await n2(this.session.hs.rs,i,this.remotePeer),this.setRemoteNoiseExtension(i.extensions)}catch(i){let s=i;throw new Si(`Error occurred while verifying signed payload: ${s.message}`)}gt("All good with the signature!")}else{gt("Stage 1 - Responder sending out first message with signed payload and static key.");let e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(px(e)),gt("Stage 1 - Responder sent the second handshake message with signed payload."),s2(this.session.hs.e)}}async finish(){if(this.isInitiator){gt("Stage 2 - Initiator sending third handshake message.");let e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(yx(e)),gt("Stage 2 - Initiator sent message with signed payload.")}else{gt("Stage 2 - Responder waiting for third handshake message...");let e=bx((await this.connection.readLP()).subarray()),{plaintext:r,valid:n}=this.xx.recvMessage(this.session,e);if(!n)throw new Dn("xx handshake stage 2 validation fail");gt("Stage 2 - Responder received the message, finished handshake.");try{let i=r2(r);this.remotePeer=this.remotePeer||await t2(i),await n2(this.session.hs.rs,i,this.remotePeer),this.setRemoteNoiseExtension(i.extensions)}catch(i){let s=i;throw new Si(`Error occurred while verifying signed payload: ${s.message}`)}}ww(this.session)}encrypt(e,r){let n=this.getCS(r);return this.xx.encryptWithAd(n,new Uint8Array(0),e)}decrypt(e,r){let n=this.getCS(r,!1);return this.xx.decryptWithAd(n,new Uint8Array(0),e)}getRemoteStaticKey(){return this.session.hs.rs}getCS(e,r=!0){if(!e.cs1||!e.cs2)throw new Dn("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?r?e.cs1:e.cs2:r?e.cs2:e.cs1}setRemoteNoiseExtension(e){e&&(this.remoteExtensions=e)}};var Yf=class{constructor(e,r,n=zb,i){this.protocol="/noise",this.crypto=n,this.extensions=r,e?this.staticKeys=this.crypto.generateX25519KeyPairFromSeed(e):this.staticKeys=this.crypto.generateX25519KeyPair(),this.prologue=i??new Uint8Array(0)}async secureOutbound(e,r,n){let i=gd(r,{lengthEncoder:aa,lengthDecoder:ua,maxDataLength:65535}),s=await this.performHandshake({connection:i,isInitiator:!0,localPeer:e,remotePeer:n});return{conn:await this.createSecureConnection(i,s),remoteExtensions:s.remoteExtensions,remotePeer:s.remotePeer}}async secureInbound(e,r,n){let i=gd(r,{lengthEncoder:aa,lengthDecoder:ua,maxDataLength:65535}),s=await this.performHandshake({connection:i,isInitiator:!1,localPeer:e,remotePeer:n});return{conn:await this.createSecureConnection(i,s),remotePeer:s.remotePeer,remoteExtensions:s.remoteExtensions}}async performHandshake(e){let r=await bw(e.localPeer,this.staticKeys.publicKey,this.extensions);return await this.performXXHandshake(e,r)}async performXXHandshake(e,r){let{isInitiator:n,remotePeer:i,connection:s}=e,o=new Jf(n,r,this.prologue,this.crypto,this.staticKeys,s,i);try{await o.propose(),await o.exchange(),await o.finish()}catch(a){if(a instanceof Error)throw a.message=`Error occurred during XX handshake: ${a.message}`,a}return o}async createSecureConnection(e,r){let[n,i]=Jb(),s=e.unwrap();return await ux(n,lx(r),Ms({lengthEncoder:aa}),s,wi({lengthDecoder:ua}),hx(r),n),i}};var cn=X(Kw(),1),PW=cn.default.v1,MW=cn.default.v3,h0=cn.default.v4,qW=cn.default.v5,KW=cn.default.NIL,VW=cn.default.version,zW=cn.default.validate,HW=cn.default.stringify,$W=cn.default.parse;var b0=X(Gl(),1);var d0={async*[Symbol.asyncIterator](){}},p0=async t=>{};var _L=_r("libp2p:webrtc:connection"),y0=class{constructor(e){this.source=d0,this.sink=p0,this.remoteAddr=e.remoteAddr,this.timeline=e.timeline,this.peerConnection=e.peerConnection}async close(e){_L.error("error closing connection",e),this.peerConnection.close()}};var g0=class{constructor(e){this.protocol="/webrtc",this.peerConnection=e}createStreamMuxer(e){return new p2(this.peerConnection,e)}},p2=class{constructor(e,r){this.protocol="/webrtc",this.streams=[],this.close=()=>{},this.source=d0,this.sink=p0,this.init=r,this.peerConnection=e,this.peerConnection.ondatachannel=({channel:n})=>{let i=new xi({channel:n,stat:{direction:"inbound",timeline:{open:0}},closeCb:r?.onStreamEnd});r?.onIncomingStream&&r.onIncomingStream(i)}}newStream(e){let r=e||h0(),n=this.peerConnection.createDataChannel(r);return new xi({channel:n,stat:{direction:"outbound",timeline:{open:0}},closeCb:this.init?.onStreamEnd})}};var y2=_r("libp2p:webrtc:transport"),BL=1e4,m0=class{constructor(e){this.components=e}async dial(e,r){let n=await this._connect(e,r);return y2(`dialing address - ${e}`),n}createListener(e){throw v2("WebRTCTransport.createListener")}filter(e){return e.filter(kL)}get[Symbol.toStringTag](){return"@libp2p/webrtc"}get[m2](){return!0}async _connect(e,r){let n=e.getPeerId();if(!n)throw nu("we need to have the remote's PeerId");let i=await RTCPeerConnection.generateCertificate({name:"ECDSA",namedCurve:"P-256",hash:"SHA-256"}),s=new RTCPeerConnection({certificates:[i]}),o=Nr(),a=s.createDataChannel("handshake",{negotiated:!0,id:0}),u=setTimeout(()=>{y2.error("Data channel never opened. State was: %s",a.readyState.toString()),o.reject(C0("data",`data channel was never opened: state: ${a.readyState}`))},BL);a.onopen=D=>{clearTimeout(u),o.resolve()},a.onerror=D=>{clearTimeout(u),y2.error("Error opening a data channel for handshaking: %s",D.toString()),o.reject(C0("data",`error opening datachannel: ${D.toString()}`))};let c=await s.createOffer(),f=h0().replaceAll("-","");c=om(c,f),await s.setLocalDescription(c);let h=sm(e,f);await s.setRemoteDescription(h),await o.promise;let d=this.components.peerId,y=vh(n),l=this.generateNoisePrologue(s,e),p=new Yf(void 0,void 0,void 0,l),g=new xi({channel:a,stat:{direction:"outbound",timeline:{open:1}}}),m={...g,source:{[Symbol.asyncIterator]:async function*(){for await(let D of g.source)yield D.subarray()}}},b=new y0({peerConnection:s,remoteAddr:e,timeline:{open:new Date().getTime()}}),v=new g0(s);return await p.secureInbound(d,m,y),await r.upgrader.upgradeOutbound(b,{skipProtection:!0,skipEncryption:!0,muxerFactory:v})}generateNoisePrologue(e,r){if(e.getConfiguration().certificates?.length===0)throw Do("no local certificate");let n=e.getConfiguration().certificates?.at(0);if(!n||n.getFingerprints().length===0)throw Do("no fingerprint on local certificate");let i=n.getFingerprints()[0],s=i.value.replaceAll(":",""),o=Pn(s,"hex");if(i.algorithm!="sha-256")throw ru(i.algorithm||"none");let a=b0.encode(o,b0.names["sha2-256"]),u=Wl.decode(Xl(r)),c=Pn("libp2p-webrtc-noise:");return cr([c,a,u])}},TL=280,IL=466;function kL(t){let e=t.protoCodes();return e.includes(TL)&&e.includes(IL)&&t.getPeerId()!=null}function OL(){return t=>new m0(t)}return Gw(NL);})();
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
return JsLibp2PWebrtc}));
